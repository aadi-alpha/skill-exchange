(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Rp={exports:{}},Eu={};var jT;function JI(){if(jT)return Eu;jT=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Eu.Fragment=e,Eu.jsx=t,Eu.jsxs=t,Eu}var HT;function ZI(){return HT||(HT=1,Rp.exports=JI()),Rp.exports}var Y=ZI(),Ip={exports:{}},we={};var FT;function e1(){if(FT)return we;FT=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function D(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,H={};function ne(P,J,X){this.props=P,this.context=J,this.refs=H,this.updater=X||U}ne.prototype.isReactComponent={},ne.prototype.setState=function(P,J){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,J,"setState")},ne.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function se(){}se.prototype=ne.prototype;function re(P,J,X){this.props=P,this.context=J,this.refs=H,this.updater=X||U}var ge=re.prototype=new se;ge.constructor=re,Q(ge,ne.prototype),ge.isPureReactComponent=!0;var Te=Array.isArray;function Ae(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(P,J,X){var Z=X.ref;return{$$typeof:i,type:P,key:J,ref:Z!==void 0?Z:null,props:X}}function k(P,J){return C(P.type,J,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function V(P){var J={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(X){return J[X]})}var R=/\/+/g;function xe(P,J){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):J.toString(36)}function ye(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Ae,Ae):(P.status="pending",P.then(function(J){P.status==="pending"&&(P.status="fulfilled",P.value=J)},function(J){P.status==="pending"&&(P.status="rejected",P.reason=J)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function q(P,J,X,Z,_e){var Ne=typeof P;(Ne==="undefined"||Ne==="boolean")&&(P=null);var Fe=!1;if(P===null)Fe=!0;else switch(Ne){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(P.$$typeof){case i:case e:Fe=!0;break;case v:return Fe=P._init,q(Fe(P._payload),J,X,Z,_e)}}if(Fe)return _e=_e(P),Fe=Z===""?"."+xe(P,0):Z,Te(_e)?(X="",Fe!=null&&(X=Fe.replace(R,"$&/")+"/"),q(_e,J,X,"",function(Fr){return Fr})):_e!=null&&(O(_e)&&(_e=k(_e,X+(_e.key==null||P&&P.key===_e.key?"":(""+_e.key).replace(R,"$&/")+"/")+Fe)),J.push(_e)),1;Fe=0;var zt=Z===""?".":Z+":";if(Te(P))for(var mt=0;mt<P.length;mt++)Z=P[mt],Ne=zt+xe(Z,mt),Fe+=q(Z,J,X,Ne,_e);else if(mt=D(P),typeof mt=="function")for(P=mt.call(P),mt=0;!(Z=P.next()).done;)Z=Z.value,Ne=zt+xe(Z,mt++),Fe+=q(Z,J,X,Ne,_e);else if(Ne==="object"){if(typeof P.then=="function")return q(ye(P),J,X,Z,_e);throw J=String(P),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function oe(P,J,X){if(P==null)return P;var Z=[],_e=0;return q(P,Z,"","",function(Ne){return J.call(X,Ne,_e++)}),Z}function de(P){if(P._status===-1){var J=P._result;J=J(),J.then(function(X){(P._status===0||P._status===-1)&&(P._status=1,P._result=X)},function(X){(P._status===0||P._status===-1)&&(P._status=2,P._result=X)}),P._status===-1&&(P._status=0,P._result=J)}if(P._status===1)return P._result.default;throw P._result}var De=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ke={map:oe,forEach:function(P,J,X){oe(P,function(){J.apply(this,arguments)},X)},count:function(P){var J=0;return oe(P,function(){J++}),J},toArray:function(P){return oe(P,function(J){return J})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return we.Activity=E,we.Children=Ke,we.Component=ne,we.Fragment=t,we.Profiler=a,we.PureComponent=re,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,we.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},we.cache=function(P){return function(){return P.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(P,J,X){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Z=Q({},P.props),_e=P.key;if(J!=null)for(Ne in J.key!==void 0&&(_e=""+J.key),J)!w.call(J,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&J.ref===void 0||(Z[Ne]=J[Ne]);var Ne=arguments.length-2;if(Ne===1)Z.children=X;else if(1<Ne){for(var Fe=Array(Ne),zt=0;zt<Ne;zt++)Fe[zt]=arguments[zt+2];Z.children=Fe}return C(P.type,_e,Z)},we.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},we.createElement=function(P,J,X){var Z,_e={},Ne=null;if(J!=null)for(Z in J.key!==void 0&&(Ne=""+J.key),J)w.call(J,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(_e[Z]=J[Z]);var Fe=arguments.length-2;if(Fe===1)_e.children=X;else if(1<Fe){for(var zt=Array(Fe),mt=0;mt<Fe;mt++)zt[mt]=arguments[mt+2];_e.children=zt}if(P&&P.defaultProps)for(Z in Fe=P.defaultProps,Fe)_e[Z]===void 0&&(_e[Z]=Fe[Z]);return C(P,Ne,_e)},we.createRef=function(){return{current:null}},we.forwardRef=function(P){return{$$typeof:d,render:P}},we.isValidElement=O,we.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:de}},we.memo=function(P,J){return{$$typeof:g,type:P,compare:J===void 0?null:J}},we.startTransition=function(P){var J=I.T,X={};I.T=X;try{var Z=P(),_e=I.S;_e!==null&&_e(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Ae,De)}catch(Ne){De(Ne)}finally{J!==null&&X.types!==null&&(J.types=X.types),I.T=J}},we.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},we.use=function(P){return I.H.use(P)},we.useActionState=function(P,J,X){return I.H.useActionState(P,J,X)},we.useCallback=function(P,J){return I.H.useCallback(P,J)},we.useContext=function(P){return I.H.useContext(P)},we.useDebugValue=function(){},we.useDeferredValue=function(P,J){return I.H.useDeferredValue(P,J)},we.useEffect=function(P,J){return I.H.useEffect(P,J)},we.useEffectEvent=function(P){return I.H.useEffectEvent(P)},we.useId=function(){return I.H.useId()},we.useImperativeHandle=function(P,J,X){return I.H.useImperativeHandle(P,J,X)},we.useInsertionEffect=function(P,J){return I.H.useInsertionEffect(P,J)},we.useLayoutEffect=function(P,J){return I.H.useLayoutEffect(P,J)},we.useMemo=function(P,J){return I.H.useMemo(P,J)},we.useOptimistic=function(P,J){return I.H.useOptimistic(P,J)},we.useReducer=function(P,J,X){return I.H.useReducer(P,J,X)},we.useRef=function(P){return I.H.useRef(P)},we.useState=function(P){return I.H.useState(P)},we.useSyncExternalStore=function(P,J,X){return I.H.useSyncExternalStore(P,J,X)},we.useTransition=function(){return I.H.useTransition()},we.version="19.2.0",we}var qT;function qg(){return qT||(qT=1,Ip.exports=e1()),Ip.exports}var j=qg(),Np={exports:{}},Tu={},Op={exports:{}},Dp={};var GT;function t1(){return GT||(GT=1,(function(i){function e(q,oe){var de=q.length;q.push(oe);e:for(;0<de;){var De=de-1>>>1,Ke=q[De];if(0<a(Ke,oe))q[De]=oe,q[de]=Ke,de=De;else break e}}function t(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var oe=q[0],de=q.pop();if(de!==oe){q[0]=de;e:for(var De=0,Ke=q.length,P=Ke>>>1;De<P;){var J=2*(De+1)-1,X=q[J],Z=J+1,_e=q[Z];if(0>a(X,de))Z<Ke&&0>a(_e,X)?(q[De]=_e,q[Z]=de,De=Z):(q[De]=X,q[J]=de,De=J);else if(Z<Ke&&0>a(_e,de))q[De]=_e,q[Z]=de,De=Z;else break e}}return oe}function a(q,oe){var de=q.sortIndex-oe.sortIndex;return de!==0?de:q.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,E=null,b=3,D=!1,U=!1,Q=!1,H=!1,ne=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ge(q){for(var oe=t(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=q)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function Te(q){if(Q=!1,ge(q),!U)if(t(p)!==null)U=!0,Ae||(Ae=!0,V());else{var oe=t(g);oe!==null&&ye(Te,oe.startTime-q)}}var Ae=!1,I=-1,w=5,C=-1;function k(){return H?!0:!(i.unstable_now()-C<w)}function O(){if(H=!1,Ae){var q=i.unstable_now();C=q;var oe=!0;try{e:{U=!1,Q&&(Q=!1,se(I),I=-1),D=!0;var de=b;try{t:{for(ge(q),E=t(p);E!==null&&!(E.expirationTime>q&&k());){var De=E.callback;if(typeof De=="function"){E.callback=null,b=E.priorityLevel;var Ke=De(E.expirationTime<=q);if(q=i.unstable_now(),typeof Ke=="function"){E.callback=Ke,ge(q),oe=!0;break t}E===t(p)&&s(p),ge(q)}else s(p);E=t(p)}if(E!==null)oe=!0;else{var P=t(g);P!==null&&ye(Te,P.startTime-q),oe=!1}}break e}finally{E=null,b=de,D=!1}oe=void 0}}finally{oe?V():Ae=!1}}}var V;if(typeof re=="function")V=function(){re(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,xe=R.port2;R.port1.onmessage=O,V=function(){xe.postMessage(null)}}else V=function(){ne(O,0)};function ye(q,oe){I=ne(function(){q(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(q){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var de=b;b=oe;try{return q()}finally{b=de}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(q,oe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var de=b;b=q;try{return oe()}finally{b=de}},i.unstable_scheduleCallback=function(q,oe,de){var De=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?De+de:De):de=De,q){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=de+Ke,q={id:v++,callback:oe,priorityLevel:q,startTime:de,expirationTime:Ke,sortIndex:-1},de>De?(q.sortIndex=de,e(g,q),t(p)===null&&q===t(g)&&(Q?(se(I),I=-1):Q=!0,ye(Te,de-De))):(q.sortIndex=Ke,e(p,q),U||D||(U=!0,Ae||(Ae=!0,V()))),q},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(q){var oe=b;return function(){var de=b;b=oe;try{return q.apply(this,arguments)}finally{b=de}}}})(Dp)),Dp}var KT;function n1(){return KT||(KT=1,Op.exports=t1()),Op.exports}var Mp={exports:{}},cn={};var YT;function i1(){if(YT)return cn;YT=1;var i=qg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},cn.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},cn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},cn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},cn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:D}):v==="script"&&s.d.X(p,{crossOrigin:E,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},cn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},cn.requestFormReset=function(p){s.d.r(p)},cn.unstable_batchedUpdates=function(p,g){return p(g)},cn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var QT;function s1(){if(QT)return Mp.exports;QT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Mp.exports=i1(),Mp.exports}var WT;function r1(){if(WT)return Tu;WT=1;var i=n1(),e=qg(),t=s1();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var o=n,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),n;if(m===u)return p(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var y=!1,S=f.child;S;){if(S===o){y=!0,o=f,u=m;break}if(S===u){y=!0,u=f,o=m;break}S=S.sibling}if(!y){for(S=m.child;S;){if(S===o){y=!0,o=m,u=f;break}if(S===u){y=!0,u=m,o=f;break}S=S.sibling}if(!y)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:r}function v(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=v(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function xe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Q:return"Fragment";case ne:return"Profiler";case H:return"StrictMode";case Te:return"Suspense";case Ae:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case U:return"Portal";case re:return n.displayName||"Context";case se:return(n._context.displayName||"Context")+".Consumer";case ge:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return r=n.displayName||null,r!==null?r:xe(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return xe(n(r))}catch{}}return null}var ye=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},De=[],Ke=-1;function P(n){return{current:n}}function J(n){0>Ke||(n.current=De[Ke],De[Ke]=null,Ke--)}function X(n,r){Ke++,De[Ke]=n.current,n.current=r}var Z=P(null),_e=P(null),Ne=P(null),Fe=P(null);function zt(n,r){switch(X(Ne,r),X(_e,n),X(Z,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?cT(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=cT(r),n=hT(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(Z),X(Z,n)}function mt(){J(Z),J(_e),J(Ne)}function Fr(n){n.memoizedState!==null&&X(Fe,n);var r=Z.current,o=hT(r,n.type);r!==o&&(X(_e,n),X(Z,o))}function Fa(n){_e.current===n&&(J(Z),J(_e)),Fe.current===n&&(J(Fe),gu._currentValue=de)}var qa,Ga;function bi(n){if(qa===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);qa=r&&r[1]||"",Ga=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+n+Ga}var gl=!1;function qr(n,r){if(!n||gl)return"";gl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var F=K}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(K){F=K}n.call(ee.prototype)}}else{try{throw Error()}catch(K){F=K}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),y=m[0],S=m[1];if(y&&S){var N=y.split(`
`),B=S.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===B.length)for(u=N.length-1,f=B.length-1;1<=u&&0<=f&&N[u]!==B[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==B[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==B[f]){var W=`
`+N[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=f);break}}}finally{gl=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?bi(o):""}function _l(n,r){switch(n.tag){case 26:case 27:case 5:return bi(n.type);case 16:return bi("Lazy");case 13:return n.child!==r&&r!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return qr(n.type,!1);case 11:return qr(n.type.render,!1);case 1:return qr(n.type,!0);case 31:return bi("Activity");default:return""}}function yl(n){try{var r="",o=null;do r+=_l(n,o),o=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,Bt=i.unstable_scheduleCallback,Bs=i.unstable_cancelCallback,Nd=i.unstable_shouldYield,wc=i.unstable_requestPaint,yn=i.unstable_now,Gr=i.unstable_getCurrentPriorityLevel,vl=i.unstable_ImmediatePriority,El=i.unstable_UserBlockingPriority,js=i.unstable_NormalPriority,Od=i.unstable_LowPriority,Cc=i.unstable_IdlePriority,Rc=i.log,Ic=i.unstable_setDisableYieldValue,ri=null,Jt=null;function jn(n){if(typeof Rc=="function"&&Ic(n),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(ri,n)}catch{}}var Tt=Math.clz32?Math.clz32:Oc,Nc=Math.log,Ka=Math.LN2;function Oc(n){return n>>>=0,n===0?32:31-(Nc(n)/Ka|0)|0}var wi=256,Kr=262144,Rt=4194304;function Ci(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ri(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?f=Ci(u):(y&=S,y!==0?f=Ci(y):o||(o=S&~n,o!==0&&(f=Ci(o))))):(S=u&~m,S!==0?f=Ci(S):y!==0?f=Ci(y):o||(o=u&~n,o!==0&&(f=Ci(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function ai(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Dd(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dc(){var n=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),n}function Ii(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Yr(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Md(n,r,o,u,f,m){var y=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var S=n.entanglements,N=n.expirationTimes,B=n.hiddenUpdates;for(o=y&~o;0<o;){var W=31-Tt(o),ee=1<<W;S[W]=0,N[W]=-1;var F=B[W];if(F!==null)for(B[W]=null,W=0;W<F.length;W++){var K=F[W];K!==null&&(K.lane&=-536870913)}o&=~ee}u!==0&&Qr(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(y&~r))}function Qr(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Tt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Tl(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-Tt(o),f=1<<u;f&r|n[u]&r&&(n[u]|=r),o&=~f}}function Sl(n,r){var o=r&-r;return o=(o&42)!==0?1:Wr(o),(o&(n.suspendedLanes|r))!==0?0:o}function Wr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function is(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Mc(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:kT(n.type))}function oi(n,r){var o=oe.p;try{return oe.p=n,r()}finally{oe.p=o}}var li=Math.random().toString(36).slice(2),It="__reactFiber$"+li,Gt="__reactProps$"+li,Ni="__reactContainer$"+li,Ya="__reactEvents$"+li,Pd="__reactListeners$"+li,Pc="__reactHandles$"+li,kc="__reactResources$"+li,Oi="__reactMarker$"+li;function Qa(n){delete n[It],delete n[Gt],delete n[Ya],delete n[Pd],delete n[Pc]}function Di(n){var r=n[It];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Ni]||o[It]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=yT(n);n!==null;){if(o=n[It])return o;n=yT(n)}return r}n=o,o=n.parentNode}return null}function Hn(n){if(n=n[It]||n[Ni]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Dn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Mi(n){var r=n[kc];return r||(r=n[kc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(n){n[Oi]=!0}var Al=new Set,bl={};function Pi(n,r){ki(n,r),ki(n+"Capture",r)}function ki(n,r){for(bl[n]=r,n=0;n<r.length;n++)Al.add(r[n])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Rl={};function xc(n){return Ct.call(Rl,n)?!0:Ct.call(Cl,n)?!1:wl.test(n)?Rl[n]=!0:(Cl[n]=!0,!1)}function Wa(n,r,o){if(xc(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Mn(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function Ot(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}function Kt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hs(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Il(n,r,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(y){o=""+y,m.call(this,y)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ze(n){if(!n._valueTracker){var r=Hs(n)?"checked":"value";n._valueTracker=Il(n,r,""+n[r])}}function Xr(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=Hs(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function xi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var $r=/[\n"\\]/g;function Tn(n){return n.replace($r,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xa(n,r,o,u,f,m,y,S){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),r!=null?y==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Kt(r)):n.value!==""+Kt(r)&&(n.value=""+Kt(r)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),r!=null?Nl(n,y,Kt(r)):o!=null?Nl(n,y,Kt(o)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Kt(S):n.removeAttribute("name")}function Vc(n,r,o,u,f,m,y,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Ze(n);return}o=o!=null?""+Kt(o):"",r=r!=null?""+Kt(r):o,S||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y),Ze(n)}function Nl(n,r,o){r==="number"&&xi(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Fs(n,r,o,u){if(n=n.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=r.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Kt(o),r=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Lc(n,r,o){if(r!=null&&(r=""+Kt(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+Kt(o):""}function qs(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ye(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Kt(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Ze(n)}function Sn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var Uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ol(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||Uc.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function Dl(n,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Ol(n,f,u)}else for(var m in r)r.hasOwnProperty(m)&&Ol(n,m,r[m])}function $a(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(n){return Gs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ui(){}var Ml=null;function Fn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ks=null,Vi=null;function Jr(n){var r=Hn(n);if(r&&(n=r.stateNode)){var o=n[Gt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Xa(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Tn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var f=u[Gt]||null;if(!f)throw Error(s(90));Xa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&Xr(u)}break e;case"textarea":Lc(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Fs(n,!!o.multiple,r,!1)}}}var Za=!1;function Ys(n,r,o){if(Za)return n(r,o);Za=!0;try{var u=n(r);return u}finally{if(Za=!1,(Ks!==null||Vi!==null)&&(Mh(),Ks&&(r=Ks,n=Vi,Vi=Ks=null,Jr(r),n)))for(r=0;r<n.length;r++)Jr(n[r])}}function ci(n,r){var o=n.stateNode;if(o===null)return null;var u=o[Gt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zr=!1;if(qn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Zr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Zr=!1}var Li=null,Pl=null,ea=null;function kl(){if(ea)return ea;var n,r=Pl,o=r.length,u,f="value"in Li?Li.value:Li.textContent,m=f.length;for(n=0;n<o&&r[n]===f[n];n++);var y=o-n;for(u=1;u<=y&&r[o-u]===f[m-u];u++);return ea=f.slice(n,1<u?1-u:void 0)}function ta(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ss(){return!0}function hi(){return!1}function Zt(n){function r(o,u,f,m,y){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(o=n[S],this[S]=o?o(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ss:hi,this.isPropagationStopped=hi,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),r}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=Zt(rs),Qs=E({},rs,{view:0,detail:0}),xl=Zt(Qs),Ws,eo,zi,to=E({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zi&&(zi&&n.type==="mousemove"?(Ws=n.screenX-zi.screenX,eo=n.screenY-zi.screenY):eo=Ws=0,zi=n),Ws)},movementY:function(n){return"movementY"in n?n.movementY:eo}}),Vl=Zt(to),na=E({},to,{dataTransfer:0}),Bc=Zt(na),jc=E({},Qs,{relatedTarget:0}),ia=Zt(jc),Ll=E({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Hc=Zt(Ll),no=E({},rs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Fc=Zt(no),qc=E({},rs,{data:0}),Bi=Zt(qc),Gc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Yc[n])?!!r[n]:!1}function Xs(){return Qc}var vn=E({},Qs,{key:function(n){if(n.key){var r=Gc[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ta(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Kc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(n){return n.type==="keypress"?ta(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ta(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Wc=Zt(vn),Xc=E({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Zt(Xc),h=E({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),_=Zt(h),T=E({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Zt(T),L=E({},to,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Zt(L),ae=E({},rs,{newState:0,oldState:0}),Re=Zt(ae),St=[9,13,27,32],We=qn&&"CompositionEvent"in window,pt=null;qn&&"documentMode"in document&&(pt=document.documentMode);var Gn=qn&&"TextEvent"in window&&!pt,ji=qn&&(!We||pt&&8<pt&&11>=pt),fi=" ",di=!1;function sa(n,r){switch(n){case"keyup":return St.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var so=!1;function SR(n,r){switch(n){case"compositionend":return io(r);case"keypress":return r.which!==32?null:(di=!0,fi);case"textInput":return n=r.data,n===fi&&di?null:n;default:return null}}function AR(n,r){if(so)return n==="compositionend"||!We&&sa(n,r)?(n=kl(),ea=Pl=Li=null,so=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ji&&r.locale!=="ko"?null:r.data;default:return null}}var bR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!bR[n.type]:r==="textarea"}function Sy(n,r,o,u){Ks?Vi?Vi.push(u):Vi=[u]:Ks=u,r=zh(r,"onChange"),0<r.length&&(o=new Ui("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var Ul=null,zl=null;function wR(n){sT(n,0)}function $c(n){var r=Dn(n);if(Xr(r))return n}function Ay(n,r){if(n==="change")return r}var by=!1;if(qn){var kd;if(qn){var xd="oninput"in document;if(!xd){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),xd=typeof wy.oninput=="function"}kd=xd}else kd=!1;by=kd&&(!document.documentMode||9<document.documentMode)}function Cy(){Ul&&(Ul.detachEvent("onpropertychange",Ry),zl=Ul=null)}function Ry(n){if(n.propertyName==="value"&&$c(zl)){var r=[];Sy(r,zl,n,Fn(n)),Ys(wR,r)}}function CR(n,r,o){n==="focusin"?(Cy(),Ul=r,zl=o,Ul.attachEvent("onpropertychange",Ry)):n==="focusout"&&Cy()}function RR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $c(zl)}function IR(n,r){if(n==="click")return $c(r)}function NR(n,r){if(n==="input"||n==="change")return $c(r)}function OR(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Pn=typeof Object.is=="function"?Object.is:OR;function Bl(n,r){if(Pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ct.call(r,f)||!Pn(n[f],r[f]))return!1}return!0}function Iy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ny(n,r){var o=Iy(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Iy(o)}}function Oy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Oy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Dy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=xi(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=xi(n.document)}return r}function Vd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var DR=qn&&"documentMode"in document&&11>=document.documentMode,ro=null,Ld=null,jl=null,Ud=!1;function My(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ud||ro==null||ro!==xi(u)||(u=ro,"selectionStart"in u&&Vd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Bl(jl,u)||(jl=u,u=zh(Ld,"onSelect"),0<u.length&&(r=new Ui("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=ro)))}function ra(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var ao={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},zd={},Py={};qn&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function aa(n){if(zd[n])return zd[n];if(!ao[n])return n;var r=ao[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in Py)return zd[n]=r[o];return n}var ky=aa("animationend"),xy=aa("animationiteration"),Vy=aa("animationstart"),MR=aa("transitionrun"),PR=aa("transitionstart"),kR=aa("transitioncancel"),Ly=aa("transitionend"),Uy=new Map,Bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bd.push("scrollEnd");function mi(n,r){Uy.set(n,r),Pi(r,[n])}var Jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Kn=[],oo=0,jd=0;function Zc(){for(var n=oo,r=jd=oo=0;r<n;){var o=Kn[r];Kn[r++]=null;var u=Kn[r];Kn[r++]=null;var f=Kn[r];Kn[r++]=null;var m=Kn[r];if(Kn[r++]=null,u!==null&&f!==null){var y=u.pending;y===null?f.next=f:(f.next=y.next,y.next=f),u.pending=f}m!==0&&zy(o,f,m)}}function eh(n,r,o,u){Kn[oo++]=n,Kn[oo++]=r,Kn[oo++]=o,Kn[oo++]=u,jd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Hd(n,r,o,u){return eh(n,r,o,u),th(n)}function oa(n,r){return eh(n,null,null,r),th(n)}function zy(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-Tt(o),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=o|536870912),m):null}function th(n){if(50<uu)throw uu=0,$m=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var lo={};function xR(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(n,r,o,u){return new xR(n,r,o,u)}function Fd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function os(n,r){var o=n.alternate;return o===null?(o=kn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function By(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function nh(n,r,o,u,f,m){var y=0;if(u=n,typeof n=="function")Fd(n)&&(y=1);else if(typeof n=="string")y=BI(n,o,Z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=kn(31,o,r,f),n.elementType=C,n.lanes=m,n;case Q:return la(o.children,f,m,r);case H:y=8,f|=24;break;case ne:return n=kn(12,o,r,f|2),n.elementType=ne,n.lanes=m,n;case Te:return n=kn(13,o,r,f),n.elementType=Te,n.lanes=m,n;case Ae:return n=kn(19,o,r,f),n.elementType=Ae,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case re:y=10;break e;case se:y=9;break e;case ge:y=11;break e;case I:y=14;break e;case w:y=16,u=null;break e}y=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=kn(y,o,r,f),r.elementType=n,r.type=u,r.lanes=m,r}function la(n,r,o,u){return n=kn(7,n,u,r),n.lanes=o,n}function qd(n,r,o){return n=kn(6,n,null,r),n.lanes=o,n}function jy(n){var r=kn(18,null,null,0);return r.stateNode=n,r}function Gd(n,r,o){return r=kn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Hy=new WeakMap;function Yn(n,r){if(typeof n=="object"&&n!==null){var o=Hy.get(n);return o!==void 0?o:(r={value:n,source:r,stack:yl(r)},Hy.set(n,r),r)}return{value:n,source:r,stack:yl(r)}}var uo=[],co=0,ih=null,Hl=0,Qn=[],Wn=0,$s=null,Hi=1,Fi="";function ls(n,r){uo[co++]=Hl,uo[co++]=ih,ih=n,Hl=r}function Fy(n,r,o){Qn[Wn++]=Hi,Qn[Wn++]=Fi,Qn[Wn++]=$s,$s=n;var u=Hi;n=Fi;var f=32-Tt(u)-1;u&=~(1<<f),o+=1;var m=32-Tt(r)+f;if(30<m){var y=f-f%5;m=(u&(1<<y)-1).toString(32),u>>=y,f-=y,Hi=1<<32-Tt(r)+f|o<<f|u,Fi=m+n}else Hi=1<<m|o<<f|u,Fi=n}function Kd(n){n.return!==null&&(ls(n,1),Fy(n,1,0))}function Yd(n){for(;n===ih;)ih=uo[--co],uo[co]=null,Hl=uo[--co],uo[co]=null;for(;n===$s;)$s=Qn[--Wn],Qn[Wn]=null,Fi=Qn[--Wn],Qn[Wn]=null,Hi=Qn[--Wn],Qn[Wn]=null}function qy(n,r){Qn[Wn++]=Hi,Qn[Wn++]=Fi,Qn[Wn++]=$s,Hi=r.id,Fi=r.overflow,$s=n}var en=null,lt=null,je=!1,Js=null,Xn=!1,Qd=Error(s(519));function Zs(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(Yn(r,n)),Qd}function Gy(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[It]=n,r[Gt]=u,o){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(o=0;o<hu.length;o++)Pe(hu[o],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),Vc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),qs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||lT(r.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),u.onScroll!=null&&Pe("scroll",r),u.onScrollEnd!=null&&Pe("scrollend",r),u.onClick!=null&&(r.onclick=ui),r=!0):r=!1,r||Zs(n,!0)}function Ky(n){for(en=n.return;en;)switch(en.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:en=en.return}}function ho(n){if(n!==en)return!1;if(!je)return Ky(n),je=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||fp(n.type,n.memoizedProps)),o=!o),o&&lt&&Zs(n),Ky(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));lt=_T(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));lt=_T(n)}else r===27?(r=lt,dr(n.type)?(n=_p,_p=null,lt=n):lt=r):lt=en?Jn(n.stateNode.nextSibling):null;return!0}function ua(){lt=en=null,je=!1}function Wd(){var n=Js;return n!==null&&(Cn===null?Cn=n:Cn.push.apply(Cn,n),Js=null),n}function Fl(n){Js===null?Js=[n]:Js.push(n)}var Xd=P(null),ca=null,us=null;function er(n,r,o){X(Xd,r._currentValue),r._currentValue=o}function cs(n){n._currentValue=Xd.current,J(Xd)}function $d(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function Jd(n,r,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var y=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var N=0;N<r.length;N++)if(S.context===r[N]){m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),$d(m.return,o,n),u||(y=null);break e}m=S.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=o,m=y.alternate,m!==null&&(m.lanes|=o),$d(y,o,n),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function fo(n,r,o,u){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var S=f.type;Pn(f.pendingProps.value,y.value)||(n!==null?n.push(S):n=[S])}}else if(f===Fe.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(gu):n=[gu])}f=f.return}n!==null&&Jd(r,n,o,u),r.flags|=262144}function sh(n){for(n=n.firstContext;n!==null;){if(!Pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ha(n){ca=n,us=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return Yy(ca,n)}function rh(n,r){return ca===null&&ha(n),Yy(n,r)}function Yy(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},us===null){if(n===null)throw Error(s(308));us=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else us=us.next=r;return o}var VR=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},LR=i.unstable_scheduleCallback,UR=i.unstable_NormalPriority,Dt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new VR,data:new Map,refCount:0}}function ql(n){n.refCount--,n.refCount===0&&LR(UR,function(){n.controller.abort()})}var Gl=null,em=0,mo=0,po=null;function zR(n,r){if(Gl===null){var o=Gl=[];em=0,mo=ip(),po={status:"pending",value:void 0,then:function(u){o.push(u)}}}return em++,r.then(Qy,Qy),r}function Qy(){if(--em===0&&Gl!==null){po!==null&&(po.status="fulfilled");var n=Gl;Gl=null,mo=0,po=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function BR(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Wy=q.S;q.S=function(n,r){ME=yn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zR(n,r),Wy!==null&&Wy(n,r)};var fa=P(null);function tm(){var n=fa.current;return n!==null?n:ot.pooledCache}function ah(n,r){r===null?X(fa,fa.current):X(fa,r.pool)}function Xy(){var n=tm();return n===null?null:{parent:Dt._currentValue,pool:n}}var go=Error(s(460)),nm=Error(s(474)),oh=Error(s(542)),lh={then:function(){}};function $y(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Jy(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(ui,ui),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ev(n),n;default:if(typeof r.status=="string")r.then(ui,ui);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ev(n),n}throw ma=r,go}}function da(n){try{var r=n._init;return r(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ma=o,go):o}}var ma=null;function Zy(){if(ma===null)throw Error(s(459));var n=ma;return ma=null,n}function ev(n){if(n===go||n===oh)throw Error(s(483))}var _o=null,Kl=0;function uh(n){var r=Kl;return Kl+=1,_o===null&&(_o=[]),Jy(_o,n,r)}function Yl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ch(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function tv(n){function r(x,M){if(n){var z=x.deletions;z===null?(x.deletions=[M],x.flags|=16):z.push(M)}}function o(x,M){if(!n)return null;for(;M!==null;)r(x,M),M=M.sibling;return null}function u(x){for(var M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function f(x,M){return x=os(x,M),x.index=0,x.sibling=null,x}function m(x,M,z){return x.index=z,n?(z=x.alternate,z!==null?(z=z.index,z<M?(x.flags|=67108866,M):z):(x.flags|=67108866,M)):(x.flags|=1048576,M)}function y(x){return n&&x.alternate===null&&(x.flags|=67108866),x}function S(x,M,z,$){return M===null||M.tag!==6?(M=qd(z,x.mode,$),M.return=x,M):(M=f(M,z),M.return=x,M)}function N(x,M,z,$){var pe=z.type;return pe===Q?W(x,M,z.props.children,$,z.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&da(pe)===M.type)?(M=f(M,z.props),Yl(M,z),M.return=x,M):(M=nh(z.type,z.key,z.props,null,x.mode,$),Yl(M,z),M.return=x,M)}function B(x,M,z,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Gd(z,x.mode,$),M.return=x,M):(M=f(M,z.children||[]),M.return=x,M)}function W(x,M,z,$,pe){return M===null||M.tag!==7?(M=la(z,x.mode,$,pe),M.return=x,M):(M=f(M,z),M.return=x,M)}function ee(x,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=qd(""+M,x.mode,z),M.return=x,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case D:return z=nh(M.type,M.key,M.props,null,x.mode,z),Yl(z,M),z.return=x,z;case U:return M=Gd(M,x.mode,z),M.return=x,M;case w:return M=da(M),ee(x,M,z)}if(ye(M)||V(M))return M=la(M,x.mode,z,null),M.return=x,M;if(typeof M.then=="function")return ee(x,uh(M),z);if(M.$$typeof===re)return ee(x,rh(x,M),z);ch(x,M)}return null}function F(x,M,z,$){var pe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:S(x,M,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===pe?N(x,M,z,$):null;case U:return z.key===pe?B(x,M,z,$):null;case w:return z=da(z),F(x,M,z,$)}if(ye(z)||V(z))return pe!==null?null:W(x,M,z,$,null);if(typeof z.then=="function")return F(x,M,uh(z),$);if(z.$$typeof===re)return F(x,M,rh(x,z),$);ch(x,z)}return null}function K(x,M,z,$,pe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return x=x.get(z)||null,S(M,x,""+$,pe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case D:return x=x.get($.key===null?z:$.key)||null,N(M,x,$,pe);case U:return x=x.get($.key===null?z:$.key)||null,B(M,x,$,pe);case w:return $=da($),K(x,M,z,$,pe)}if(ye($)||V($))return x=x.get(z)||null,W(M,x,$,pe,null);if(typeof $.then=="function")return K(x,M,z,uh($),pe);if($.$$typeof===re)return K(x,M,z,rh(M,$),pe);ch(M,$)}return null}function he(x,M,z,$){for(var pe=null,Ye=null,fe=M,Oe=M=0,Le=null;fe!==null&&Oe<z.length;Oe++){fe.index>Oe?(Le=fe,fe=null):Le=fe.sibling;var Qe=F(x,fe,z[Oe],$);if(Qe===null){fe===null&&(fe=Le);break}n&&fe&&Qe.alternate===null&&r(x,fe),M=m(Qe,M,Oe),Ye===null?pe=Qe:Ye.sibling=Qe,Ye=Qe,fe=Le}if(Oe===z.length)return o(x,fe),je&&ls(x,Oe),pe;if(fe===null){for(;Oe<z.length;Oe++)fe=ee(x,z[Oe],$),fe!==null&&(M=m(fe,M,Oe),Ye===null?pe=fe:Ye.sibling=fe,Ye=fe);return je&&ls(x,Oe),pe}for(fe=u(fe);Oe<z.length;Oe++)Le=K(fe,x,Oe,z[Oe],$),Le!==null&&(n&&Le.alternate!==null&&fe.delete(Le.key===null?Oe:Le.key),M=m(Le,M,Oe),Ye===null?pe=Le:Ye.sibling=Le,Ye=Le);return n&&fe.forEach(function(yr){return r(x,yr)}),je&&ls(x,Oe),pe}function Ee(x,M,z,$){if(z==null)throw Error(s(151));for(var pe=null,Ye=null,fe=M,Oe=M=0,Le=null,Qe=z.next();fe!==null&&!Qe.done;Oe++,Qe=z.next()){fe.index>Oe?(Le=fe,fe=null):Le=fe.sibling;var yr=F(x,fe,Qe.value,$);if(yr===null){fe===null&&(fe=Le);break}n&&fe&&yr.alternate===null&&r(x,fe),M=m(yr,M,Oe),Ye===null?pe=yr:Ye.sibling=yr,Ye=yr,fe=Le}if(Qe.done)return o(x,fe),je&&ls(x,Oe),pe;if(fe===null){for(;!Qe.done;Oe++,Qe=z.next())Qe=ee(x,Qe.value,$),Qe!==null&&(M=m(Qe,M,Oe),Ye===null?pe=Qe:Ye.sibling=Qe,Ye=Qe);return je&&ls(x,Oe),pe}for(fe=u(fe);!Qe.done;Oe++,Qe=z.next())Qe=K(fe,x,Oe,Qe.value,$),Qe!==null&&(n&&Qe.alternate!==null&&fe.delete(Qe.key===null?Oe:Qe.key),M=m(Qe,M,Oe),Ye===null?pe=Qe:Ye.sibling=Qe,Ye=Qe);return n&&fe.forEach(function($I){return r(x,$I)}),je&&ls(x,Oe),pe}function rt(x,M,z,$){if(typeof z=="object"&&z!==null&&z.type===Q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:e:{for(var pe=z.key;M!==null;){if(M.key===pe){if(pe=z.type,pe===Q){if(M.tag===7){o(x,M.sibling),$=f(M,z.props.children),$.return=x,x=$;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&da(pe)===M.type){o(x,M.sibling),$=f(M,z.props),Yl($,z),$.return=x,x=$;break e}o(x,M);break}else r(x,M);M=M.sibling}z.type===Q?($=la(z.props.children,x.mode,$,z.key),$.return=x,x=$):($=nh(z.type,z.key,z.props,null,x.mode,$),Yl($,z),$.return=x,x=$)}return y(x);case U:e:{for(pe=z.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){o(x,M.sibling),$=f(M,z.children||[]),$.return=x,x=$;break e}else{o(x,M);break}else r(x,M);M=M.sibling}$=Gd(z,x.mode,$),$.return=x,x=$}return y(x);case w:return z=da(z),rt(x,M,z,$)}if(ye(z))return he(x,M,z,$);if(V(z)){if(pe=V(z),typeof pe!="function")throw Error(s(150));return z=pe.call(z),Ee(x,M,z,$)}if(typeof z.then=="function")return rt(x,M,uh(z),$);if(z.$$typeof===re)return rt(x,M,rh(x,z),$);ch(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(o(x,M.sibling),$=f(M,z),$.return=x,x=$):(o(x,M),$=qd(z,x.mode,$),$.return=x,x=$),y(x)):o(x,M)}return function(x,M,z,$){try{Kl=0;var pe=rt(x,M,z,$);return _o=null,pe}catch(fe){if(fe===go||fe===oh)throw fe;var Ye=kn(29,fe,null,x.mode);return Ye.lanes=$,Ye.return=x,Ye}finally{}}}var pa=tv(!0),nv=tv(!1),tr=!1;function im(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function nr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ir(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=th(n),zy(n,null,o),r}return eh(n,u,r,o),th(n)}function Ql(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Tl(n,o)}}function rm(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var y={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=y:m=m.next=y,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var am=!1;function Wl(){if(am){var n=po;if(n!==null)throw n}}function Xl(n,r,o,u){am=!1;var f=n.updateQueue;tr=!1;var m=f.firstBaseUpdate,y=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,B=N.next;N.next=null,y===null?m=B:y.next=B,y=N;var W=n.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==y&&(S===null?W.firstBaseUpdate=B:S.next=B,W.lastBaseUpdate=N))}if(m!==null){var ee=f.baseState;y=0,W=B=N=null,S=m;do{var F=S.lane&-536870913,K=F!==S.lane;if(K?(Ve&F)===F:(u&F)===F){F!==0&&F===mo&&(am=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=n,Ee=S;F=r;var rt=o;switch(Ee.tag){case 1:if(he=Ee.payload,typeof he=="function"){ee=he.call(rt,ee,F);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ee.payload,F=typeof he=="function"?he.call(rt,ee,F):he,F==null)break e;ee=E({},ee,F);break e;case 2:tr=!0}}F=S.callback,F!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[F]:K.push(F))}else K={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(B=W=K,N=ee):W=W.next=K,y|=F;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;K=S,S=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=B,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),lr|=y,n.lanes=y,n.memoizedState=ee}}function iv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function sv(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)iv(o[n],r)}var yo=P(null),hh=P(0);function rv(n,r){n=vs,X(hh,n),X(yo,r),vs=n|r.baseLanes}function om(){X(hh,vs),X(yo,yo.current)}function lm(){vs=hh.current,J(yo),J(hh)}var xn=P(null),$n=null;function sr(n){var r=n.alternate;X(At,At.current&1),X(xn,n),$n===null&&(r===null||yo.current!==null||r.memoizedState!==null)&&($n=n)}function um(n){X(At,At.current),X(xn,n),$n===null&&($n=n)}function av(n){n.tag===22?(X(At,At.current),X(xn,n),$n===null&&($n=n)):rr()}function rr(){X(At,At.current),X(xn,xn.current)}function Vn(n){J(xn),$n===n&&($n=null),J(At)}var At=P(0);function fh(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||pp(o)||gp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hs=0,Ie=null,it=null,Mt=null,dh=!1,vo=!1,ga=!1,mh=0,$l=0,Eo=null,jR=0;function vt(){throw Error(s(321))}function cm(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Pn(n[o],r[o]))return!1;return!0}function hm(n,r,o,u,f,m){return hs=m,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=n===null||n.memoizedState===null?Fv:Cm,ga=!1,m=o(u,f),ga=!1,vo&&(m=lv(r,o,u,f)),ov(n),m}function ov(n){q.H=eu;var r=it!==null&&it.next!==null;if(hs=0,Mt=it=Ie=null,dh=!1,$l=0,Eo=null,r)throw Error(s(300));n===null||Pt||(n=n.dependencies,n!==null&&sh(n)&&(Pt=!0))}function lv(n,r,o,u){Ie=n;var f=0;do{if(vo&&(Eo=null),$l=0,vo=!1,25<=f)throw Error(s(301));if(f+=1,Mt=it=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=qv,m=r(o,u)}while(vo);return m}function HR(){var n=q.H,r=n.useState()[0];return r=typeof r.then=="function"?Jl(r):r,n=n.useState()[0],(it!==null?it.memoizedState:null)!==n&&(Ie.flags|=1024),r}function fm(){var n=mh!==0;return mh=0,n}function dm(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function mm(n){if(dh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}dh=!1}hs=0,Mt=it=Ie=null,vo=!1,$l=mh=0,Eo=null}function En(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ie.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function bt(){if(it===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var r=Mt===null?Ie.memoizedState:Mt.next;if(r!==null)Mt=r,it=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Mt===null?Ie.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(n){var r=$l;return $l+=1,Eo===null&&(Eo=[]),n=Jy(Eo,n,r),r=Ie,(Mt===null?r.memoizedState:Mt.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?Fv:Cm),n}function gh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Jl(n);if(n.$$typeof===re)return tn(n)}throw Error(s(438,String(n)))}function pm(n){var r=null,o=Ie.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=ph(),Ie.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=k;return r.index++,o}function fs(n,r){return typeof r=="function"?r(n):r}function _h(n){var r=bt();return gm(r,it,n)}function gm(n,r,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var y=f.next;f.next=m.next,m.next=y}r.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var S=y=null,N=null,B=r,W=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(Ve&ee)===ee:(hs&ee)===ee){var F=B.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===mo&&(W=!0);else if((hs&F)===F){B=B.next,F===mo&&(W=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=ee,y=m):N=N.next=ee,Ie.lanes|=F,lr|=F;ee=B.action,ga&&o(m,ee),m=B.hasEagerState?B.eagerState:o(m,ee)}else F={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=F,y=m):N=N.next=F,Ie.lanes|=ee,lr|=ee;B=B.next}while(B!==null&&B!==r);if(N===null?y=m:N.next=S,!Pn(m,n.memoizedState)&&(Pt=!0,W&&(o=po,o!==null)))throw o;n.memoizedState=m,n.baseState=y,n.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function _m(n){var r=bt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var y=f=f.next;do m=n(m,y.action),y=y.next;while(y!==f);Pn(m,r.memoizedState)||(Pt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function uv(n,r,o){var u=Ie,f=bt(),m=je;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var y=!Pn((it||f).memoizedState,o);if(y&&(f.memoizedState=o,Pt=!0),f=f.queue,Em(fv.bind(null,u,f,n),[n]),f.getSnapshot!==r||y||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,To(9,{destroy:void 0},hv.bind(null,u,f,o,r),null),ot===null)throw Error(s(349));m||(hs&127)!==0||cv(u,r,o)}return o}function cv(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Ie.updateQueue,r===null?(r=ph(),Ie.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function hv(n,r,o,u){r.value=o,r.getSnapshot=u,dv(r)&&mv(n)}function fv(n,r,o){return o(function(){dv(r)&&mv(n)})}function dv(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Pn(n,o)}catch{return!0}}function mv(n){var r=oa(n,2);r!==null&&Rn(r,n,2)}function ym(n){var r=En();if(typeof n=="function"){var o=n;if(n=o(),ga){jn(!0);try{o()}finally{jn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},r}function pv(n,r,o,u){return n.baseState=o,gm(n,it,typeof u=="function"?u:fs)}function FR(n,r,o,u,f){if(Eh(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){m.listeners.push(y)}};q.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,gv(r,m)):(m.next=o.next,r.pending=o.next=m)}}function gv(n,r){var o=r.action,u=r.payload,f=n.state;if(r.isTransition){var m=q.T,y={};q.T=y;try{var S=o(f,u),N=q.S;N!==null&&N(y,S),_v(n,r,S)}catch(B){vm(n,r,B)}finally{m!==null&&y.types!==null&&(m.types=y.types),q.T=m}}else try{m=o(f,u),_v(n,r,m)}catch(B){vm(n,r,B)}}function _v(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){yv(n,r,u)},function(u){return vm(n,r,u)}):yv(n,r,o)}function yv(n,r,o){r.status="fulfilled",r.value=o,vv(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,gv(n,o)))}function vm(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,vv(r),r=r.next;while(r!==u)}n.action=null}function vv(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ev(n,r){return r}function Tv(n,r){if(je){var o=ot.formState;if(o!==null){e:{var u=Ie;if(je){if(lt){t:{for(var f=lt,m=Xn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){lt=Jn(f.nextSibling),u=f.data==="F!";break e}}Zs(u)}u=!1}u&&(r=o[0])}}return o=En(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ev,lastRenderedState:r},o.queue=u,o=Bv.bind(null,Ie,u),u.dispatch=o,u=ym(!1),m=wm.bind(null,Ie,!1,u.queue),u=En(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,o=FR.bind(null,Ie,f,m,o),f.dispatch=o,u.memoizedState=n,[r,o,!1]}function Sv(n){var r=bt();return Av(r,it,n)}function Av(n,r,o){if(r=gm(n,r,Ev)[0],n=_h(fs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Jl(r)}catch(y){throw y===go?oh:y}else u=r;r=bt();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(Ie.flags|=2048,To(9,{destroy:void 0},qR.bind(null,f,o),null)),[u,m,n]}function qR(n,r){n.action=r}function bv(n){var r=bt(),o=it;if(o!==null)return Av(r,o,n);bt(),r=r.memoizedState,o=bt();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function To(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=ph(),Ie.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function wv(){return bt().memoizedState}function yh(n,r,o,u){var f=En();Ie.flags|=n,f.memoizedState=To(1|r,{destroy:void 0},o,u===void 0?null:u)}function vh(n,r,o,u){var f=bt();u=u===void 0?null:u;var m=f.memoizedState.inst;it!==null&&u!==null&&cm(u,it.memoizedState.deps)?f.memoizedState=To(r,m,o,u):(Ie.flags|=n,f.memoizedState=To(1|r,m,o,u))}function Cv(n,r){yh(8390656,8,n,r)}function Em(n,r){vh(2048,8,n,r)}function GR(n){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=ph(),Ie.updateQueue=r,r.events=[n];else{var o=r.events;o===null?r.events=[n]:o.push(n)}}function Rv(n){var r=bt().memoizedState;return GR({ref:r,nextImpl:n}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Iv(n,r){return vh(4,2,n,r)}function Nv(n,r){return vh(4,4,n,r)}function Ov(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Dv(n,r,o){o=o!=null?o.concat([n]):null,vh(4,4,Ov.bind(null,r,n),o)}function Tm(){}function Mv(n,r){var o=bt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&cm(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function Pv(n,r){var o=bt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&cm(r,u[1]))return u[0];if(u=n(),ga){jn(!0);try{n()}finally{jn(!1)}}return o.memoizedState=[u,r],u}function Sm(n,r,o){return o===void 0||(hs&1073741824)!==0&&(Ve&261930)===0?n.memoizedState=r:(n.memoizedState=o,n=kE(),Ie.lanes|=n,lr|=n,o)}function kv(n,r,o,u){return Pn(o,r)?o:yo.current!==null?(n=Sm(n,o,u),Pn(n,r)||(Pt=!0),n):(hs&42)===0||(hs&1073741824)!==0&&(Ve&261930)===0?(Pt=!0,n.memoizedState=o):(n=kE(),Ie.lanes|=n,lr|=n,r)}function xv(n,r,o,u,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var y=q.T,S={};q.T=S,wm(n,!1,r,o);try{var N=f(),B=q.S;if(B!==null&&B(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=BR(N,u);Zl(n,r,W,zn(n))}else Zl(n,r,u,zn(n))}catch(ee){Zl(n,r,{then:function(){},status:"rejected",reason:ee},zn())}finally{oe.p=m,y!==null&&S.types!==null&&(y.types=S.types),q.T=y}}function KR(){}function Am(n,r,o,u){if(n.tag!==5)throw Error(s(476));var f=Vv(n).queue;xv(n,f,r,de,o===null?KR:function(){return Lv(n),o(u)})}function Vv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Lv(n){var r=Vv(n);r.next===null&&(r=n.alternate.memoizedState),Zl(n,r.next.queue,{},zn())}function bm(){return tn(gu)}function Uv(){return bt().memoizedState}function zv(){return bt().memoizedState}function YR(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=zn();n=nr(o);var u=ir(r,n,o);u!==null&&(Rn(u,r,o),Ql(u,r,o)),r={cache:Zd()},n.payload=r;return}r=r.return}}function QR(n,r,o){var u=zn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Eh(n)?jv(r,o):(o=Hd(n,r,o,u),o!==null&&(Rn(o,n,u),Hv(o,r,u)))}function Bv(n,r,o){var u=zn();Zl(n,r,o,u)}function Zl(n,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Eh(n))jv(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var y=r.lastRenderedState,S=m(y,o);if(f.hasEagerState=!0,f.eagerState=S,Pn(S,y))return eh(n,r,f,0),ot===null&&Zc(),!1}catch{}finally{}if(o=Hd(n,r,f,u),o!==null)return Rn(o,n,u),Hv(o,r,u),!0}return!1}function wm(n,r,o,u){if(u={lane:2,revertLane:ip(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Eh(n)){if(r)throw Error(s(479))}else r=Hd(n,o,u,2),r!==null&&Rn(r,n,2)}function Eh(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function jv(n,r){vo=dh=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function Hv(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Tl(n,o)}}var eu={readContext:tn,use:gh,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};eu.useEffectEvent=vt;var Fv={readContext:tn,use:gh,useCallback:function(n,r){return En().memoizedState=[n,r===void 0?null:r],n},useContext:tn,useEffect:Cv,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,yh(4194308,4,Ov.bind(null,r,n),o)},useLayoutEffect:function(n,r){return yh(4194308,4,n,r)},useInsertionEffect:function(n,r){yh(4,2,n,r)},useMemo:function(n,r){var o=En();r=r===void 0?null:r;var u=n();if(ga){jn(!0);try{n()}finally{jn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=En();if(o!==void 0){var f=o(r);if(ga){jn(!0);try{o(r)}finally{jn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=QR.bind(null,Ie,n),[u.memoizedState,n]},useRef:function(n){var r=En();return n={current:n},r.memoizedState=n},useState:function(n){n=ym(n);var r=n.queue,o=Bv.bind(null,Ie,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:Tm,useDeferredValue:function(n,r){var o=En();return Sm(o,n,r)},useTransition:function(){var n=ym(!1);return n=xv.bind(null,Ie,n.queue,!0,!1),En().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=Ie,f=En();if(je){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ot===null)throw Error(s(349));(Ve&127)!==0||cv(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,Cv(fv.bind(null,u,m,n),[n]),u.flags|=2048,To(9,{destroy:void 0},hv.bind(null,u,m,o,r),null),o},useId:function(){var n=En(),r=ot.identifierPrefix;if(je){var o=Fi,u=Hi;o=(u&~(1<<32-Tt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=mh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=jR++,r="_"+r+"r_"+o.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:bm,useFormState:Tv,useActionState:Tv,useOptimistic:function(n){var r=En();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=wm.bind(null,Ie,!0,o),o.dispatch=r,[n,r]},useMemoCache:pm,useCacheRefresh:function(){return En().memoizedState=YR.bind(null,Ie)},useEffectEvent:function(n){var r=En(),o={impl:n};return r.memoizedState=o,function(){if((Xe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Cm={readContext:tn,use:gh,useCallback:Mv,useContext:tn,useEffect:Em,useImperativeHandle:Dv,useInsertionEffect:Iv,useLayoutEffect:Nv,useMemo:Pv,useReducer:_h,useRef:wv,useState:function(){return _h(fs)},useDebugValue:Tm,useDeferredValue:function(n,r){var o=bt();return kv(o,it.memoizedState,n,r)},useTransition:function(){var n=_h(fs)[0],r=bt().memoizedState;return[typeof n=="boolean"?n:Jl(n),r]},useSyncExternalStore:uv,useId:Uv,useHostTransitionStatus:bm,useFormState:Sv,useActionState:Sv,useOptimistic:function(n,r){var o=bt();return pv(o,it,n,r)},useMemoCache:pm,useCacheRefresh:zv};Cm.useEffectEvent=Rv;var qv={readContext:tn,use:gh,useCallback:Mv,useContext:tn,useEffect:Em,useImperativeHandle:Dv,useInsertionEffect:Iv,useLayoutEffect:Nv,useMemo:Pv,useReducer:_m,useRef:wv,useState:function(){return _m(fs)},useDebugValue:Tm,useDeferredValue:function(n,r){var o=bt();return it===null?Sm(o,n,r):kv(o,it.memoizedState,n,r)},useTransition:function(){var n=_m(fs)[0],r=bt().memoizedState;return[typeof n=="boolean"?n:Jl(n),r]},useSyncExternalStore:uv,useId:Uv,useHostTransitionStatus:bm,useFormState:bv,useActionState:bv,useOptimistic:function(n,r){var o=bt();return it!==null?pv(o,it,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:pm,useCacheRefresh:zv};qv.useEffectEvent=Rv;function Rm(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:E({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Im={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=zn(),f=nr(u);f.payload=r,o!=null&&(f.callback=o),r=ir(n,f,u),r!==null&&(Rn(r,n,u),Ql(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=zn(),f=nr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=ir(n,f,u),r!==null&&(Rn(r,n,u),Ql(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=zn(),u=nr(o);u.tag=2,r!=null&&(u.callback=r),r=ir(n,u,o),r!==null&&(Rn(r,n,o),Ql(r,n,o))}};function Gv(n,r,o,u,f,m,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,y):r.prototype&&r.prototype.isPureReactComponent?!Bl(o,u)||!Bl(f,m):!0}function Kv(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&Im.enqueueReplaceState(r,r.state,null)}function _a(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=E({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function Yv(n){Jc(n)}function Qv(n){console.error(n)}function Wv(n){Jc(n)}function Th(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Xv(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Nm(n,r,o){return o=nr(o),o.tag=3,o.payload={element:null},o.callback=function(){Th(n,r)},o}function $v(n){return n=nr(n),n.tag=3,n}function Jv(n,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){Xv(r,o,u)}}var y=o.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){Xv(r,o,u),typeof f!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function WR(n,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&fo(r,o,f,!0),o=xn.current,o!==null){switch(o.tag){case 31:case 13:return $n===null?Ph():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===lh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),ep(n,u,f)),!1;case 22:return o.flags|=65536,u===lh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),ep(n,u,f)),!1}throw Error(s(435,o.tag))}return ep(n,u,f),Ph(),!1}if(je)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Qd&&(n=Error(s(422),{cause:u}),Fl(Yn(n,o)))):(u!==Qd&&(r=Error(s(423),{cause:u}),Fl(Yn(r,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Yn(u,o),f=Nm(n.stateNode,u,f),rm(n,f),Et!==4&&(Et=2)),!1;var m=Error(s(520),{cause:u});if(m=Yn(m,o),lu===null?lu=[m]:lu.push(m),Et!==4&&(Et=2),r===null)return!0;u=Yn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Nm(o.stateNode,u,n),rm(o,n),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ur===null||!ur.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=$v(f),Jv(f,n,o,u),rm(o,f),!1}o=o.return}while(o!==null);return!1}var Om=Error(s(461)),Pt=!1;function nn(n,r,o,u){r.child=n===null?nv(r,null,o,u):pa(r,n.child,o,u)}function Zv(n,r,o,u,f){o=o.render;var m=r.ref;if("ref"in u){var y={};for(var S in u)S!=="ref"&&(y[S]=u[S])}else y=u;return ha(r),u=hm(n,r,o,y,m,f),S=fm(),n!==null&&!Pt?(dm(n,r,f),ds(n,r,f)):(je&&S&&Kd(r),r.flags|=1,nn(n,r,u,f),r.child)}function eE(n,r,o,u,f){if(n===null){var m=o.type;return typeof m=="function"&&!Fd(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,tE(n,r,m,u,f)):(n=nh(o.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Um(n,f)){var y=m.memoizedProps;if(o=o.compare,o=o!==null?o:Bl,o(y,u)&&n.ref===r.ref)return ds(n,r,f)}return r.flags|=1,n=os(m,u),n.ref=r.ref,n.return=r,r.child=n}function tE(n,r,o,u,f){if(n!==null){var m=n.memoizedProps;if(Bl(m,u)&&n.ref===r.ref)if(Pt=!1,r.pendingProps=u=m,Um(n,f))(n.flags&131072)!==0&&(Pt=!0);else return r.lanes=n.lanes,ds(n,r,f)}return Dm(n,r,o,u,f)}function nE(n,r,o,u){var f=u.children,m=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(u=r.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,r.child=null;return iE(n,r,m,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ah(r,m!==null?m.cachePool:null),m!==null?rv(r,m):om(),av(r);else return u=r.lanes=536870912,iE(n,r,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(ah(r,m.cachePool),rv(r,m),rr(),r.memoizedState=null):(n!==null&&ah(r,null),om(),rr());return nn(n,r,f,o),r.child}function tu(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function iE(n,r,o,u,f){var m=tm();return m=m===null?null:{parent:Dt._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},n!==null&&ah(r,null),om(),av(r),n!==null&&fo(n,r,u,!0),r.childLanes=f,null}function Sh(n,r){return r=bh({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function sE(n,r,o){return pa(r,n.child,null,o),n=Sh(r,r.pendingProps),n.flags|=2,Vn(r),r.memoizedState=null,n}function XR(n,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(je){if(u.mode==="hidden")return n=Sh(r,u),r.lanes=536870912,tu(null,n);if(um(r),(n=lt)?(n=gT(n,Xn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:$s!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},o=jy(n),o.return=r,r.child=o,en=r,lt=null)):n=null,n===null)throw Zs(r);return r.lanes=536870912,null}return Sh(r,u)}var m=n.memoizedState;if(m!==null){var y=m.dehydrated;if(um(r),f)if(r.flags&256)r.flags&=-257,r=sE(n,r,o);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(Pt||fo(n,r,o,!1),f=(o&n.childLanes)!==0,Pt||f){if(u=ot,u!==null&&(y=Sl(u,o),y!==0&&y!==m.retryLane))throw m.retryLane=y,oa(n,y),Rn(u,n,y),Om;Ph(),r=sE(n,r,o)}else n=m.treeContext,lt=Jn(y.nextSibling),en=r,je=!0,Js=null,Xn=!1,n!==null&&qy(r,n),r=Sh(r,u),r.flags|=4096;return r}return n=os(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Ah(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Dm(n,r,o,u,f){return ha(r),o=hm(n,r,o,u,void 0,f),u=fm(),n!==null&&!Pt?(dm(n,r,f),ds(n,r,f)):(je&&u&&Kd(r),r.flags|=1,nn(n,r,o,f),r.child)}function rE(n,r,o,u,f,m){return ha(r),r.updateQueue=null,o=lv(r,u,o,f),ov(n),u=fm(),n!==null&&!Pt?(dm(n,r,m),ds(n,r,m)):(je&&u&&Kd(r),r.flags|=1,nn(n,r,o,m),r.child)}function aE(n,r,o,u,f){if(ha(r),r.stateNode===null){var m=lo,y=o.contextType;typeof y=="object"&&y!==null&&(m=tn(y)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Im,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},im(r),y=o.contextType,m.context=typeof y=="object"&&y!==null?tn(y):lo,m.state=r.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Rm(r,o,y,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(y=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),y!==m.state&&Im.enqueueReplaceState(m,m.state,null),Xl(r,u,m,f),Wl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var S=r.memoizedProps,N=_a(o,S);m.props=N;var B=m.context,W=o.contextType;y=lo,typeof W=="object"&&W!==null&&(y=tn(W));var ee=o.getDerivedStateFromProps;W=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||B!==y)&&Kv(r,m,u,y),tr=!1;var F=r.memoizedState;m.state=F,Xl(r,u,m,f),Wl(),B=r.memoizedState,S||F!==B||tr?(typeof ee=="function"&&(Rm(r,o,ee,u),B=r.memoizedState),(N=tr||Gv(r,o,N,u,F,B,y))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=B),m.props=u,m.state=B,m.context=y,u=N):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,sm(n,r),y=r.memoizedProps,W=_a(o,y),m.props=W,ee=r.pendingProps,F=m.context,B=o.contextType,N=lo,typeof B=="object"&&B!==null&&(N=tn(B)),S=o.getDerivedStateFromProps,(B=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==ee||F!==N)&&Kv(r,m,u,N),tr=!1,F=r.memoizedState,m.state=F,Xl(r,u,m,f),Wl();var K=r.memoizedState;y!==ee||F!==K||tr||n!==null&&n.dependencies!==null&&sh(n.dependencies)?(typeof S=="function"&&(Rm(r,o,S,u),K=r.memoizedState),(W=tr||Gv(r,o,W,u,F,K,N)||n!==null&&n.dependencies!==null&&sh(n.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,K,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,K,N)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=K),m.props=u,m.state=K,m.context=N,u=W):(typeof m.componentDidUpdate!="function"||y===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,Ah(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=pa(r,n.child,null,f),r.child=pa(r,null,o,f)):nn(n,r,o,f),r.memoizedState=m.state,n=r.child):n=ds(n,r,f),n}function oE(n,r,o,u){return ua(),r.flags|=256,nn(n,r,o,u),r.child}var Mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(n){return{baseLanes:n,cachePool:Xy()}}function km(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Un),n}function lE(n,r,o){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,y;if((y=m)||(y=n!==null&&n.memoizedState===null?!1:(At.current&2)!==0),y&&(f=!0,r.flags&=-129),y=(r.flags&32)!==0,r.flags&=-33,n===null){if(je){if(f?sr(r):rr(),(n=lt)?(n=gT(n,Xn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:$s!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},o=jy(n),o.return=r,r.child=o,en=r,lt=null)):n=null,n===null)throw Zs(r);return gp(n)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(rr(),f=r.mode,S=bh({mode:"hidden",children:S},f),u=la(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Pm(o),u.childLanes=km(n,y,o),r.memoizedState=Mm,tu(null,u)):(sr(r),xm(r,S))}var N=n.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(m)r.flags&256?(sr(r),r.flags&=-257,r=Vm(n,r,o)):r.memoizedState!==null?(rr(),r.child=n.child,r.flags|=128,r=null):(rr(),S=u.fallback,f=r.mode,u=bh({mode:"visible",children:u.children},f),S=la(S,f,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,pa(r,n.child,null,o),u=r.child,u.memoizedState=Pm(o),u.childLanes=km(n,y,o),r.memoizedState=Mm,r=tu(null,u));else if(sr(r),gp(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var B=y.dgst;y=B,u=Error(s(419)),u.stack="",u.digest=y,Fl({value:u,source:null,stack:null}),r=Vm(n,r,o)}else if(Pt||fo(n,r,o,!1),y=(o&n.childLanes)!==0,Pt||y){if(y=ot,y!==null&&(u=Sl(y,o),u!==0&&u!==N.retryLane))throw N.retryLane=u,oa(n,u),Rn(y,n,u),Om;pp(S)||Ph(),r=Vm(n,r,o)}else pp(S)?(r.flags|=192,r.child=n.child,r=null):(n=N.treeContext,lt=Jn(S.nextSibling),en=r,je=!0,Js=null,Xn=!1,n!==null&&qy(r,n),r=xm(r,u.children),r.flags|=4096);return r}return f?(rr(),S=u.fallback,f=r.mode,N=n.child,B=N.sibling,u=os(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,B!==null?S=os(B,S):(S=la(S,f,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,tu(null,u),u=r.child,S=n.child.memoizedState,S===null?S=Pm(o):(f=S.cachePool,f!==null?(N=Dt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Xy(),S={baseLanes:S.baseLanes|o,cachePool:f}),u.memoizedState=S,u.childLanes=km(n,y,o),r.memoizedState=Mm,tu(n.child,u)):(sr(r),o=n.child,n=o.sibling,o=os(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(y=r.deletions,y===null?(r.deletions=[n],r.flags|=16):y.push(n)),r.child=o,r.memoizedState=null,o)}function xm(n,r){return r=bh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function bh(n,r){return n=kn(22,n,null,r),n.lanes=0,n}function Vm(n,r,o){return pa(r,n.child,null,o),n=xm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function uE(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),$d(n.return,r,o)}function Lm(n,r,o,u,f,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=f,y.treeForkCount=m)}function cE(n,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var y=At.current,S=(y&2)!==0;if(S?(y=y&1|2,r.flags|=128):y&=1,X(At,y),nn(n,r,u,o),u=je?Hl:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&uE(n,o,r);else if(n.tag===19)uE(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)n=o.alternate,n!==null&&fh(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Lm(r,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&fh(n)===null){r.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Lm(r,!0,o,null,m,u);break;case"together":Lm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ds(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),lr|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(fo(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,o=os(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=os(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Um(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&sh(n)))}function $R(n,r,o){switch(r.tag){case 3:zt(r,r.stateNode.containerInfo),er(r,Dt,n.memoizedState.cache),ua();break;case 27:case 5:Fr(r);break;case 4:zt(r,r.stateNode.containerInfo);break;case 10:er(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,um(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(sr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?lE(n,r,o):(sr(r),n=ds(n,r,o),n!==null?n.sibling:null);sr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(fo(n,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return cE(n,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(At,At.current),u)break;return null;case 22:return r.lanes=0,nE(n,r,o,r.pendingProps);case 24:er(r,Dt,n.memoizedState.cache)}return ds(n,r,o)}function hE(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)Pt=!0;else{if(!Um(n,o)&&(r.flags&128)===0)return Pt=!1,$R(n,r,o);Pt=(n.flags&131072)!==0}else Pt=!1,je&&(r.flags&1048576)!==0&&Fy(r,Hl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=da(r.elementType),r.type=n,typeof n=="function")Fd(n)?(u=_a(n,u),r.tag=1,r=aE(null,r,n,u,o)):(r.tag=0,r=Dm(null,r,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===ge){r.tag=11,r=Zv(null,r,n,u,o);break e}else if(f===I){r.tag=14,r=eE(null,r,n,u,o);break e}}throw r=xe(n)||n,Error(s(306,r,""))}}return r;case 0:return Dm(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=_a(u,r.pendingProps),aE(n,r,u,f,o);case 3:e:{if(zt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,sm(n,r),Xl(r,u,null,o);var y=r.memoizedState;if(u=y.cache,er(r,Dt,u),u!==m.cache&&Jd(r,[Dt],o,!0),Wl(),u=y.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:y.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=oE(n,r,u,o);break e}else if(u!==f){f=Yn(Error(s(424)),r),Fl(f),r=oE(n,r,u,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(lt=Jn(n.firstChild),en=r,je=!0,Js=null,Xn=!0,o=nv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ua(),u===f){r=ds(n,r,o);break e}nn(n,r,u,o)}r=r.child}return r;case 26:return Ah(n,r),n===null?(o=ST(r.type,null,r.pendingProps,null))?r.memoizedState=o:je||(o=r.type,n=r.pendingProps,u=Bh(Ne.current).createElement(o),u[It]=r,u[Gt]=n,sn(u,o,n),Nt(u),r.stateNode=u):r.memoizedState=ST(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Fr(r),n===null&&je&&(u=r.stateNode=vT(r.type,r.pendingProps,Ne.current),en=r,Xn=!0,f=lt,dr(r.type)?(_p=f,lt=Jn(u.firstChild)):lt=f),nn(n,r,r.pendingProps.children,o),Ah(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&je&&((f=u=lt)&&(u=RI(u,r.type,r.pendingProps,Xn),u!==null?(r.stateNode=u,en=r,lt=Jn(u.firstChild),Xn=!1,f=!0):f=!1),f||Zs(r)),Fr(r),f=r.type,m=r.pendingProps,y=n!==null?n.memoizedProps:null,u=m.children,fp(f,m)?u=null:y!==null&&fp(f,y)&&(r.flags|=32),r.memoizedState!==null&&(f=hm(n,r,HR,null,null,o),gu._currentValue=f),Ah(n,r),nn(n,r,u,o),r.child;case 6:return n===null&&je&&((n=o=lt)&&(o=II(o,r.pendingProps,Xn),o!==null?(r.stateNode=o,en=r,lt=null,n=!0):n=!1),n||Zs(r)),null;case 13:return lE(n,r,o);case 4:return zt(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=pa(r,null,u,o):nn(n,r,u,o),r.child;case 11:return Zv(n,r,r.type,r.pendingProps,o);case 7:return nn(n,r,r.pendingProps,o),r.child;case 8:return nn(n,r,r.pendingProps.children,o),r.child;case 12:return nn(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,er(r,r.type,u.value),nn(n,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ha(r),f=tn(f),u=u(f),r.flags|=1,nn(n,r,u,o),r.child;case 14:return eE(n,r,r.type,r.pendingProps,o);case 15:return tE(n,r,r.type,r.pendingProps,o);case 19:return cE(n,r,o);case 31:return XR(n,r,o);case 22:return nE(n,r,o,r.pendingProps);case 24:return ha(r),u=tn(Dt),n===null?(f=tm(),f===null&&(f=ot,m=Zd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:u,cache:f},im(r),er(r,Dt,f)):((n.lanes&o)!==0&&(sm(n,r),Xl(r,null,null,o),Wl()),f=n.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),er(r,Dt,u)):(u=m.cache,er(r,Dt,u),u!==f.cache&&Jd(r,[Dt],o,!0))),nn(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ms(n){n.flags|=4}function zm(n,r,o,u,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(UE())n.flags|=8192;else throw ma=lh,nm}else n.flags&=-16777217}function fE(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!RT(r))if(UE())n.flags|=8192;else throw ma=lh,nm}function wh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Dc():536870912,n.lanes|=r,wo|=r)}function nu(n,r){if(!je)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ut(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function JR(n,r,o){var u=r.pendingProps;switch(Yd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),cs(Dt),mt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ho(r)?ms(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wd())),ut(r),null;case 26:var f=r.type,m=r.memoizedState;return n===null?(ms(r),m!==null?(ut(r),fE(r,m)):(ut(r),zm(r,f,null,u,o))):m?m!==n.memoizedState?(ms(r),ut(r),fE(r,m)):(ut(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&ms(r),ut(r),zm(r,f,n,u,o)),null;case 27:if(Fa(r),o=Ne.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ut(r),null}n=Z.current,ho(r)?Gy(r):(n=vT(f,u,o),r.stateNode=n,ms(r))}return ut(r),null;case 5:if(Fa(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(m=Z.current,ho(r))Gy(r);else{var y=Bh(Ne.current);switch(m){case 1:m=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=y.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?y.createElement("select",{is:u.is}):y.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?y.createElement(f,{is:u.is}):y.createElement(f)}}m[It]=r,m[Gt]=u;e:for(y=r.child;y!==null;){if(y.tag===5||y.tag===6)m.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===r)break e;for(;y.sibling===null;){if(y.return===null||y.return===r)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}r.stateNode=m;e:switch(sn(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ms(r)}}return ut(r),zm(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,o),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&ms(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ne.current,ho(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,f=en,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[It]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||lT(n.nodeValue,o)),n||Zs(r,!0)}else n=Bh(n).createTextNode(u),n[It]=r,r.stateNode=n}return ut(r),null;case 31:if(o=r.memoizedState,n===null||n.memoizedState!==null){if(u=ho(r),o!==null){if(n===null){if(!u)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[It]=r}else ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),n=!1}else o=Wd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ut(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ho(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=r}else ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=Wd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==n&&o&&(r.child.flags|=8192),wh(r,r.updateQueue),ut(r),null);case 4:return mt(),n===null&&op(r.stateNode.containerInfo),ut(r),null;case 10:return cs(r.type),ut(r),null;case 19:if(J(At),u=r.memoizedState,u===null)return ut(r),null;if(f=(r.flags&128)!==0,m=u.rendering,m===null)if(f)nu(u,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=fh(n),m!==null){for(r.flags|=128,nu(u,!1),n=m.updateQueue,r.updateQueue=n,wh(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)By(o,n),o=o.sibling;return X(At,At.current&1|2),je&&ls(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&yn()>Oh&&(r.flags|=128,f=!0,nu(u,!1),r.lanes=4194304)}else{if(!f)if(n=fh(m),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,wh(r,n),nu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!je)return ut(r),null}else 2*yn()-u.renderingStartTime>Oh&&o!==536870912&&(r.flags|=128,f=!0,nu(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(n=u.last,n!==null?n.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=yn(),n.sibling=null,o=At.current,X(At,f?o&1|2:o&1),je&&ls(r,u.treeForkCount),n):(ut(r),null);case 22:case 23:return Vn(r),lm(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),o=r.updateQueue,o!==null&&wh(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&J(fa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),cs(Dt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ZR(n,r){switch(Yd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return cs(Dt),mt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Fa(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(s(340));ua()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Vn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ua()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return J(At),null;case 4:return mt(),null;case 10:return cs(r.type),null;case 22:case 23:return Vn(r),lm(),n!==null&&J(fa),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return cs(Dt),null;case 25:return null;default:return null}}function dE(n,r){switch(Yd(r),r.tag){case 3:cs(Dt),mt();break;case 26:case 27:case 5:Fa(r);break;case 4:mt();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:J(At);break;case 10:cs(r.type);break;case 22:case 23:Vn(r),lm(),n!==null&&J(fa);break;case 24:cs(Dt)}}function iu(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var m=o.create,y=o.inst;u=m(),y.destroy=u}o=o.next}while(o!==f)}}catch(S){tt(r,r.return,S)}}function ar(n,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var y=u.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,f=r;var N=o,B=S;try{B()}catch(W){tt(f,N,W)}}}u=u.next}while(u!==m)}}catch(W){tt(r,r.return,W)}}function mE(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{sv(r,o)}catch(u){tt(n,n.return,u)}}}function pE(n,r,o){o.props=_a(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tt(n,r,u)}}function su(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){tt(n,r,f)}}function qi(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){tt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(n,r,f)}else o.current=null}function gE(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){tt(n,n.return,f)}}function Bm(n,r,o){try{var u=n.stateNode;TI(u,n.type,o,r),u[Gt]=r}catch(f){tt(n,n.return,f)}}function _E(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&dr(n.type)||n.tag===4}function jm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_E(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&dr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hm(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ui));else if(u!==4&&(u===27&&dr(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Hm(n,r,o),n=n.sibling;n!==null;)Hm(n,r,o),n=n.sibling}function Ch(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&dr(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Ch(n,r,o),n=n.sibling;n!==null;)Ch(n,r,o),n=n.sibling}function yE(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);sn(r,u,o),r[It]=n,r[Gt]=o}catch(m){tt(n,n.return,m)}}var ps=!1,kt=!1,Fm=!1,vE=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function eI(n,r){if(n=n.containerInfo,cp=Yh,n=Dy(n),Vd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var y=0,S=-1,N=-1,B=0,W=0,ee=n,F=null;t:for(;;){for(var K;ee!==o||f!==0&&ee.nodeType!==3||(S=y+f),ee!==m||u!==0&&ee.nodeType!==3||(N=y+u),ee.nodeType===3&&(y+=ee.nodeValue.length),(K=ee.firstChild)!==null;)F=ee,ee=K;for(;;){if(ee===n)break t;if(F===o&&++B===f&&(S=y),F===m&&++W===u&&(N=y),(K=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=K}o=S===-1||N===-1?null:{start:S,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(hp={focusedElem:n,selectionRange:o},Yh=!1,Yt=r;Yt!==null;)if(r=Yt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Yt=n;else for(;Yt!==null;){switch(r=Yt,m=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var he=_a(o.type,f);n=u.getSnapshotBeforeUpdate(he,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ee){tt(o,o.return,Ee)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)mp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Yt=n;break}Yt=r.return}}function EE(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_s(n,o),u&4&&iu(5,o);break;case 1:if(_s(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(y){tt(o,o.return,y)}else{var f=_a(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(y){tt(o,o.return,y)}}u&64&&mE(o),u&512&&su(o,o.return);break;case 3:if(_s(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{sv(n,r)}catch(y){tt(o,o.return,y)}}break;case 27:r===null&&u&4&&yE(o);case 26:case 5:_s(n,o),r===null&&u&4&&gE(o),u&512&&su(o,o.return);break;case 12:_s(n,o);break;case 31:_s(n,o),u&4&&AE(n,o);break;case 13:_s(n,o),u&4&&bE(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=uI.bind(null,o),NI(n,o))));break;case 22:if(u=o.memoizedState!==null||ps,!u){r=r!==null&&r.memoizedState!==null||kt,f=ps;var m=kt;ps=u,(kt=r)&&!m?ys(n,o,(o.subtreeFlags&8772)!==0):_s(n,o),ps=f,kt=m}break;case 30:break;default:_s(n,o)}}function TE(n){var r=n.alternate;r!==null&&(n.alternate=null,TE(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Qa(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var gt=null,An=!1;function gs(n,r,o){for(o=o.child;o!==null;)SE(n,r,o),o=o.sibling}function SE(n,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ri,o)}catch{}switch(o.tag){case 26:kt||qi(o,r),gs(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||qi(o,r);var u=gt,f=An;dr(o.type)&&(gt=o.stateNode,An=!1),gs(n,r,o),du(o.stateNode),gt=u,An=f;break;case 5:kt||qi(o,r);case 6:if(u=gt,f=An,gt=null,gs(n,r,o),gt=u,An=f,gt!==null)if(An)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(m){tt(o,r,m)}else try{gt.removeChild(o.stateNode)}catch(m){tt(o,r,m)}break;case 18:gt!==null&&(An?(n=gt,mT(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Po(n)):mT(gt,o.stateNode));break;case 4:u=gt,f=An,gt=o.stateNode.containerInfo,An=!0,gs(n,r,o),gt=u,An=f;break;case 0:case 11:case 14:case 15:ar(2,o,r),kt||ar(4,o,r),gs(n,r,o);break;case 1:kt||(qi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&pE(o,r,u)),gs(n,r,o);break;case 21:gs(n,r,o);break;case 22:kt=(u=kt)||o.memoizedState!==null,gs(n,r,o),kt=u;break;default:gs(n,r,o)}}function AE(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Po(n)}catch(o){tt(r,r.return,o)}}}function bE(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Po(n)}catch(o){tt(r,r.return,o)}}function tI(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new vE),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new vE),r;default:throw Error(s(435,n.tag))}}function Rh(n,r){var o=tI(n);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=cI.bind(null,n,u);u.then(f,f)}})}function bn(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=n,y=r,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(dr(S.type)){gt=S.stateNode,An=!1;break e}break;case 5:gt=S.stateNode,An=!1;break e;case 3:case 4:gt=S.stateNode.containerInfo,An=!0;break e}S=S.return}if(gt===null)throw Error(s(160));SE(m,y,f),gt=null,An=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)wE(r,n),r=r.sibling}var pi=null;function wE(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:bn(r,n),wn(n),u&4&&(ar(3,n,n.return),iu(3,n),ar(5,n,n.return));break;case 1:bn(r,n),wn(n),u&512&&(kt||o===null||qi(o,o.return)),u&64&&ps&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=pi;if(bn(r,n),wn(n),u&512&&(kt||o===null||qi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Oi]||m[It]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),sn(m,u,o),m[It]=n,Nt(m),u=m;break e;case"link":var y=wT("link","href",f).get(u+(o.href||""));if(y){for(var S=0;S<y.length;S++)if(m=y[S],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){y.splice(S,1);break t}}m=f.createElement(u),sn(m,u,o),f.head.appendChild(m);break;case"meta":if(y=wT("meta","content",f).get(u+(o.content||""))){for(S=0;S<y.length;S++)if(m=y[S],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){y.splice(S,1);break t}}m=f.createElement(u),sn(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[It]=n,Nt(m),u=m}n.stateNode=u}else CT(f,n.type,n.stateNode);else n.stateNode=bT(f,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?CT(f,n.type,n.stateNode):bT(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Bm(n,n.memoizedProps,o.memoizedProps)}break;case 27:bn(r,n),wn(n),u&512&&(kt||o===null||qi(o,o.return)),o!==null&&u&4&&Bm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(bn(r,n),wn(n),u&512&&(kt||o===null||qi(o,o.return)),n.flags&32){f=n.stateNode;try{Sn(f,"")}catch(he){tt(n,n.return,he)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Bm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Fm=!0);break;case 6:if(bn(r,n),wn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(he){tt(n,n.return,he)}}break;case 3:if(Fh=null,f=pi,pi=jh(r.containerInfo),bn(r,n),pi=f,wn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Po(r.containerInfo)}catch(he){tt(n,n.return,he)}Fm&&(Fm=!1,CE(n));break;case 4:u=pi,pi=jh(n.stateNode.containerInfo),bn(r,n),wn(n),pi=u;break;case 12:bn(r,n),wn(n);break;case 31:bn(r,n),wn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rh(n,u)));break;case 13:bn(r,n),wn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Nh=yn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rh(n,u)));break;case 22:f=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,B=ps,W=kt;if(ps=B||f,kt=W||N,bn(r,n),kt=W,ps=B,wn(n),u&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||N||ps||kt||ya(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){N=o=r;try{if(m=N.stateNode,f)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){tt(N,N.return,he)}}}else if(r.tag===6){if(o===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(he){tt(N,N.return,he)}}}else if(r.tag===18){if(o===null){N=r;try{var K=N.stateNode;f?pT(K,!0):pT(N.stateNode,!1)}catch(he){tt(N,N.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Rh(n,o))));break;case 19:bn(r,n),wn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rh(n,u)));break;case 30:break;case 21:break;default:bn(r,n),wn(n)}}function wn(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(_E(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=jm(n);Ch(n,m,f);break;case 5:var y=o.stateNode;o.flags&32&&(Sn(y,""),o.flags&=-33);var S=jm(n);Ch(n,S,y);break;case 3:case 4:var N=o.stateNode.containerInfo,B=jm(n);Hm(n,B,N);break;default:throw Error(s(161))}}catch(W){tt(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function CE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;CE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function _s(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)EE(n,r.alternate,r),r=r.sibling}function ya(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ar(4,r,r.return),ya(r);break;case 1:qi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&pE(r,r.return,o),ya(r);break;case 27:du(r.stateNode);case 26:case 5:qi(r,r.return),ya(r);break;case 22:r.memoizedState===null&&ya(r);break;case 30:ya(r);break;default:ya(r)}n=n.sibling}}function ys(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,m=r,y=m.flags;switch(m.tag){case 0:case 11:case 15:ys(f,m,o),iu(4,m);break;case 1:if(ys(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){tt(u,u.return,B)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)iv(N[f],S)}catch(B){tt(u,u.return,B)}}o&&y&64&&mE(m),su(m,m.return);break;case 27:yE(m);case 26:case 5:ys(f,m,o),o&&u===null&&y&4&&gE(m),su(m,m.return);break;case 12:ys(f,m,o);break;case 31:ys(f,m,o),o&&y&4&&AE(f,m);break;case 13:ys(f,m,o),o&&y&4&&bE(f,m);break;case 22:m.memoizedState===null&&ys(f,m,o),su(m,m.return);break;case 30:break;default:ys(f,m,o)}r=r.sibling}}function qm(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&ql(o))}function Gm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ql(n))}function gi(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)RE(n,r,o,u),r=r.sibling}function RE(n,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:gi(n,r,o,u),f&2048&&iu(9,r);break;case 1:gi(n,r,o,u);break;case 3:gi(n,r,o,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ql(n)));break;case 12:if(f&2048){gi(n,r,o,u),n=r.stateNode;try{var m=r.memoizedProps,y=m.id,S=m.onPostCommit;typeof S=="function"&&S(y,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){tt(r,r.return,N)}}else gi(n,r,o,u);break;case 31:gi(n,r,o,u);break;case 13:gi(n,r,o,u);break;case 23:break;case 22:m=r.stateNode,y=r.alternate,r.memoizedState!==null?m._visibility&2?gi(n,r,o,u):ru(n,r):m._visibility&2?gi(n,r,o,u):(m._visibility|=2,So(n,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&qm(y,r);break;case 24:gi(n,r,o,u),f&2048&&Gm(r.alternate,r);break;default:gi(n,r,o,u)}}function So(n,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=n,y=r,S=o,N=u,B=y.flags;switch(y.tag){case 0:case 11:case 15:So(m,y,S,N,f),iu(8,y);break;case 23:break;case 22:var W=y.stateNode;y.memoizedState!==null?W._visibility&2?So(m,y,S,N,f):ru(m,y):(W._visibility|=2,So(m,y,S,N,f)),f&&B&2048&&qm(y.alternate,y);break;case 24:So(m,y,S,N,f),f&&B&2048&&Gm(y.alternate,y);break;default:So(m,y,S,N,f)}r=r.sibling}}function ru(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,f=u.flags;switch(u.tag){case 22:ru(o,u),f&2048&&qm(u.alternate,u);break;case 24:ru(o,u),f&2048&&Gm(u.alternate,u);break;default:ru(o,u)}r=r.sibling}}var au=8192;function Ao(n,r,o){if(n.subtreeFlags&au)for(n=n.child;n!==null;)IE(n,r,o),n=n.sibling}function IE(n,r,o){switch(n.tag){case 26:Ao(n,r,o),n.flags&au&&n.memoizedState!==null&&jI(o,pi,n.memoizedState,n.memoizedProps);break;case 5:Ao(n,r,o);break;case 3:case 4:var u=pi;pi=jh(n.stateNode.containerInfo),Ao(n,r,o),pi=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=au,au=16777216,Ao(n,r,o),au=u):Ao(n,r,o));break;default:Ao(n,r,o)}}function NE(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ou(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Yt=u,DE(u,n)}NE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)OE(n),n=n.sibling}function OE(n){switch(n.tag){case 0:case 11:case 15:ou(n),n.flags&2048&&ar(9,n,n.return);break;case 3:ou(n);break;case 12:ou(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Ih(n)):ou(n);break;default:ou(n)}}function Ih(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Yt=u,DE(u,n)}NE(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ar(8,r,r.return),Ih(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Ih(r));break;default:Ih(r)}n=n.sibling}}function DE(n,r){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:ar(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ql(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=n;Yt!==null;){u=Yt;var f=u.sibling,m=u.return;if(TE(u),u===o){Yt=null;break e}if(f!==null){f.return=m,Yt=f;break e}Yt=m}}}var nI={getCacheForType:function(n){var r=tn(Dt),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o},cacheSignal:function(){return tn(Dt).controller.signal}},iI=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ot=null,Me=null,Ve=0,et=0,Ln=null,or=!1,bo=!1,Km=!1,vs=0,Et=0,lr=0,va=0,Ym=0,Un=0,wo=0,lu=null,Cn=null,Qm=!1,Nh=0,ME=0,Oh=1/0,Dh=null,ur=null,jt=0,cr=null,Co=null,Es=0,Wm=0,Xm=null,PE=null,uu=0,$m=null;function zn(){return(Xe&2)!==0&&Ve!==0?Ve&-Ve:q.T!==null?ip():Mc()}function kE(){if(Un===0)if((Ve&536870912)===0||je){var n=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),Un=n}else Un=536870912;return n=xn.current,n!==null&&(n.flags|=32),Un}function Rn(n,r,o){(n===ot&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Ro(n,0),hr(n,Ve,Un,!1)),Yr(n,o),((Xe&2)===0||n!==ot)&&(n===ot&&((Xe&2)===0&&(va|=o),Et===4&&hr(n,Ve,Un,!1)),Gi(n))}function xE(n,r,o){if((Xe&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&n.expiredLanes)===0||ai(n,r),f=u?aI(n,r):Zm(n,r,!0),m=u;do{if(f===0){bo&&!u&&hr(n,r,0,!1);break}else{if(o=n.current.alternate,m&&!sI(o)){f=Zm(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){r=y;e:{var S=n;f=lu;var N=S.current.memoizedState.isDehydrated;if(N&&(Ro(S,y).flags|=256),y=Zm(S,y,!1),y!==2){if(Km&&!N){S.errorRecoveryDisabledLanes|=m,va|=m,f=4;break e}m=Cn,Cn=f,m!==null&&(Cn===null?Cn=m:Cn.push.apply(Cn,m))}f=y}if(m=!1,f!==2)continue}}if(f===1){Ro(n,0),hr(n,r,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:hr(u,r,Un,!or);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Nh+300-yn(),10<f)){if(hr(u,r,Un,!or),Ri(u,0,!0)!==0)break e;Es=r,u.timeoutHandle=fT(VE.bind(null,u,o,Cn,Dh,Qm,r,Un,va,wo,or,m,"Throttled",-0,0),f);break e}VE(u,o,Cn,Dh,Qm,r,Un,va,wo,or,m,null,-0,0)}}break}while(!0);Gi(n)}function VE(n,r,o,u,f,m,y,S,N,B,W,ee,F,K){if(n.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},IE(r,m,ee);var he=(m&62914560)===m?Nh-yn():(m&4194048)===m?ME-yn():0;if(he=HI(ee,he),he!==null){Es=m,n.cancelPendingCommit=he(qE.bind(null,n,r,m,o,u,f,y,S,N,W,ee,null,F,K)),hr(n,m,y,!B);return}}qE(n,r,m,o,u,f,y,S,N)}function sI(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Pn(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function hr(n,r,o,u){r&=~Ym,r&=~va,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var m=31-Tt(f),y=1<<m;u[m]=-1,f&=~y}o!==0&&Qr(n,o,r)}function Mh(){return(Xe&6)===0?(cu(0),!1):!0}function Jm(){if(Me!==null){if(et===0)var n=Me.return;else n=Me,us=ca=null,mm(n),_o=null,Kl=0,n=Me;for(;n!==null;)dE(n.alternate,n),n=n.return;Me=null}}function Ro(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,bI(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Es=0,Jm(),ot=n,Me=o=os(n.current,null),Ve=r,et=0,Ln=null,or=!1,bo=ai(n,r),Km=!1,wo=Un=Ym=va=lr=Et=0,Cn=lu=null,Qm=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-Tt(u),m=1<<f;r|=n[f],u&=~m}return vs=r,Zc(),o}function LE(n,r){Ie=null,q.H=eu,r===go||r===oh?(r=Zy(),et=3):r===nm?(r=Zy(),et=4):et=r===Om?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ln=r,Me===null&&(Et=1,Th(n,Yn(r,n.current)))}function UE(){var n=xn.current;return n===null?!0:(Ve&4194048)===Ve?$n===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?n===$n:!1}function zE(){var n=q.H;return q.H=eu,n===null?eu:n}function BE(){var n=q.A;return q.A=nI,n}function Ph(){Et=4,or||(Ve&4194048)!==Ve&&xn.current!==null||(bo=!0),(lr&134217727)===0&&(va&134217727)===0||ot===null||hr(ot,Ve,Un,!1)}function Zm(n,r,o){var u=Xe;Xe|=2;var f=zE(),m=BE();(ot!==n||Ve!==r)&&(Dh=null,Ro(n,r)),r=!1;var y=Et;e:do try{if(et!==0&&Me!==null){var S=Me,N=Ln;switch(et){case 8:Jm(),y=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var B=et;if(et=0,Ln=null,Io(n,S,N,B),o&&bo){y=0;break e}break;default:B=et,et=0,Ln=null,Io(n,S,N,B)}}rI(),y=Et;break}catch(W){LE(n,W)}while(!0);return r&&n.shellSuspendCounter++,us=ca=null,Xe=u,q.H=f,q.A=m,Me===null&&(ot=null,Ve=0,Zc()),y}function rI(){for(;Me!==null;)jE(Me)}function aI(n,r){var o=Xe;Xe|=2;var u=zE(),f=BE();ot!==n||Ve!==r?(Dh=null,Oh=yn()+500,Ro(n,r)):bo=ai(n,r);e:do try{if(et!==0&&Me!==null){r=Me;var m=Ln;t:switch(et){case 1:et=0,Ln=null,Io(n,r,m,1);break;case 2:case 9:if($y(m)){et=0,Ln=null,HE(r);break}r=function(){et!==2&&et!==9||ot!==n||(et=7),Gi(n)},m.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:$y(m)?(et=0,Ln=null,HE(r)):(et=0,Ln=null,Io(n,r,m,7));break;case 5:var y=null;switch(Me.tag){case 26:y=Me.memoizedState;case 5:case 27:var S=Me;if(y?RT(y):S.stateNode.complete){et=0,Ln=null;var N=S.sibling;if(N!==null)Me=N;else{var B=S.return;B!==null?(Me=B,kh(B)):Me=null}break t}}et=0,Ln=null,Io(n,r,m,5);break;case 6:et=0,Ln=null,Io(n,r,m,6);break;case 8:Jm(),Et=6;break e;default:throw Error(s(462))}}oI();break}catch(W){LE(n,W)}while(!0);return us=ca=null,q.H=u,q.A=f,Xe=o,Me!==null?0:(ot=null,Ve=0,Zc(),Et)}function oI(){for(;Me!==null&&!Nd();)jE(Me)}function jE(n){var r=hE(n.alternate,n,vs);n.memoizedProps=n.pendingProps,r===null?kh(n):Me=r}function HE(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=rE(o,r,r.pendingProps,r.type,void 0,Ve);break;case 11:r=rE(o,r,r.pendingProps,r.type.render,r.ref,Ve);break;case 5:mm(r);default:dE(o,r),r=Me=By(r,vs),r=hE(o,r,vs)}n.memoizedProps=n.pendingProps,r===null?kh(n):Me=r}function Io(n,r,o,u){us=ca=null,mm(r),_o=null,Kl=0;var f=r.return;try{if(WR(n,f,r,o,Ve)){Et=1,Th(n,Yn(o,n.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;Et=1,Th(n,Yn(o,n.current)),Me=null;return}r.flags&32768?(je||u===1?n=!0:bo||(Ve&536870912)!==0?n=!1:(or=n=!0,(u===2||u===9||u===3||u===6)&&(u=xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),FE(r,n)):kh(r)}function kh(n){var r=n;do{if((r.flags&32768)!==0){FE(r,or);return}n=r.return;var o=JR(r.alternate,r,vs);if(o!==null){Me=o;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);Et===0&&(Et=5)}function FE(n,r){do{var o=ZR(n.alternate,n);if(o!==null){o.flags&=32767,Me=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=o}while(n!==null);Et=6,Me=null}function qE(n,r,o,u,f,m,y,S,N){n.cancelPendingCommit=null;do xh();while(jt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=jd,Md(n,o,m,y,S,N),n===ot&&(Me=ot=null,Ve=0),Co=r,cr=n,Es=o,Wm=m,Xm=f,PE=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,hI(js,function(){return WE(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,f=oe.p,oe.p=2,y=Xe,Xe|=4;try{eI(n,r,o)}finally{Xe=y,oe.p=f,q.T=u}}jt=1,GE(),KE(),YE()}}function GE(){if(jt===1){jt=0;var n=cr,r=Co,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var u=oe.p;oe.p=2;var f=Xe;Xe|=4;try{wE(r,n);var m=hp,y=Dy(n.containerInfo),S=m.focusedElem,N=m.selectionRange;if(y!==S&&S&&S.ownerDocument&&Oy(S.ownerDocument.documentElement,S)){if(N!==null&&Vd(S)){var B=N.start,W=N.end;if(W===void 0&&(W=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(W,S.value.length);else{var ee=S.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var K=F.getSelection(),he=S.textContent.length,Ee=Math.min(N.start,he),rt=N.end===void 0?Ee:Math.min(N.end,he);!K.extend&&Ee>rt&&(y=rt,rt=Ee,Ee=y);var x=Ny(S,Ee),M=Ny(S,rt);if(x&&M&&(K.rangeCount!==1||K.anchorNode!==x.node||K.anchorOffset!==x.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var z=ee.createRange();z.setStart(x.node,x.offset),K.removeAllRanges(),Ee>rt?(K.addRange(z),K.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),K.addRange(z))}}}}for(ee=[],K=S;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var $=ee[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Yh=!!cp,hp=cp=null}finally{Xe=f,oe.p=u,q.T=o}}n.current=r,jt=2}}function KE(){if(jt===2){jt=0;var n=cr,r=Co,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var u=oe.p;oe.p=2;var f=Xe;Xe|=4;try{EE(n,r.alternate,r)}finally{Xe=f,oe.p=u,q.T=o}}jt=3}}function YE(){if(jt===4||jt===3){jt=0,wc();var n=cr,r=Co,o=Es,u=PE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Co=cr=null,QE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ur=null),is(o),r=r.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ri,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=q.T,f=oe.p,oe.p=2,q.T=null;try{for(var m=n.onRecoverableError,y=0;y<u.length;y++){var S=u[y];m(S.value,{componentStack:S.stack})}}finally{q.T=r,oe.p=f}}(Es&3)!==0&&xh(),Gi(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===$m?uu++:(uu=0,$m=n):uu=0,cu(0)}}function QE(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ql(r)))}function xh(){return GE(),KE(),YE(),WE()}function WE(){if(jt!==5)return!1;var n=cr,r=Wm;Wm=0;var o=is(Es),u=q.T,f=oe.p;try{oe.p=32>o?32:o,q.T=null,o=Xm,Xm=null;var m=cr,y=Es;if(jt=0,Co=cr=null,Es=0,(Xe&6)!==0)throw Error(s(331));var S=Xe;if(Xe|=4,OE(m.current),RE(m,m.current,y,o),Xe=S,cu(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ri,m)}catch{}return!0}finally{oe.p=f,q.T=u,QE(n,r)}}function XE(n,r,o){r=Yn(o,r),r=Nm(n.stateNode,r,2),n=ir(n,r,2),n!==null&&(Yr(n,2),Gi(n))}function tt(n,r,o){if(n.tag===3)XE(n,n,o);else for(;r!==null;){if(r.tag===3){XE(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ur===null||!ur.has(u))){n=Yn(o,n),o=$v(2),u=ir(r,o,2),u!==null&&(Jv(o,u,r,n),Yr(u,2),Gi(u));break}}r=r.return}}function ep(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new iI;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Km=!0,f.add(o),n=lI.bind(null,n,r,o),r.then(n,n))}function lI(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ot===n&&(Ve&o)===o&&(Et===4||Et===3&&(Ve&62914560)===Ve&&300>yn()-Nh?(Xe&2)===0&&Ro(n,0):Ym|=o,wo===Ve&&(wo=0)),Gi(n)}function $E(n,r){r===0&&(r=Dc()),n=oa(n,r),n!==null&&(Yr(n,r),Gi(n))}function uI(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),$E(n,o)}function cI(n,r){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),$E(n,o)}function hI(n,r){return Bt(n,r)}var Vh=null,No=null,tp=!1,Lh=!1,np=!1,fr=0;function Gi(n){n!==No&&n.next===null&&(No===null?Vh=No=n:No=No.next=n),Lh=!0,tp||(tp=!0,dI())}function cu(n,r){if(!np&&Lh){np=!0;do for(var o=!1,u=Vh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var y=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Tt(42|n)+1)-1,m&=f&~(y&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,tT(u,m))}else m=Ve,m=Ri(u,u===ot?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||ai(u,m)||(o=!0,tT(u,m));u=u.next}while(o);np=!1}}function fI(){JE()}function JE(){Lh=tp=!1;var n=0;fr!==0&&AI()&&(n=fr);for(var r=yn(),o=null,u=Vh;u!==null;){var f=u.next,m=ZE(u,r);m===0?(u.next=null,o===null?Vh=f:o.next=f,f===null&&(No=o)):(o=u,(n!==0||(m&3)!==0)&&(Lh=!0)),u=f}jt!==0&&jt!==5||cu(n),fr!==0&&(fr=0)}function ZE(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var y=31-Tt(m),S=1<<y,N=f[y];N===-1?((S&o)===0||(S&u)!==0)&&(f[y]=Dd(S,r)):N<=r&&(n.expiredLanes|=S),m&=~S}if(r=ot,o=Ve,o=Ri(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(et===2||et===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Bs(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ai(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&Bs(u),is(o)){case 2:case 8:o=El;break;case 32:o=js;break;case 268435456:o=Cc;break;default:o=js}return u=eT.bind(null,n),o=Bt(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&Bs(u),n.callbackPriority=2,n.callbackNode=null,2}function eT(n,r){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(xh()&&n.callbackNode!==o)return null;var u=Ve;return u=Ri(n,n===ot?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(xE(n,u,r),ZE(n,yn()),n.callbackNode!=null&&n.callbackNode===o?eT.bind(null,n):null)}function tT(n,r){if(xh())return null;xE(n,r,!0)}function dI(){wI(function(){(Xe&6)!==0?Bt(vl,fI):JE()})}function ip(){if(fr===0){var n=mo;n===0&&(n=wi,wi<<=1,(wi&261888)===0&&(wi=256)),fr=n}return fr}function nT(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ja(""+n)}function iT(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function mI(n,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var m=nT((f[Gt]||null).action),y=u.submitter;y&&(r=(r=y[Gt]||null)?nT(r.formAction):y.getAttribute("formAction"),r!==null&&(m=r,y=null));var S=new Ui("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fr!==0){var N=y?iT(f,y):new FormData(f);Am(o,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(S.preventDefault(),N=y?iT(f,y):new FormData(f),Am(o,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var sp=0;sp<Bd.length;sp++){var rp=Bd[sp],pI=rp.toLowerCase(),gI=rp[0].toUpperCase()+rp.slice(1);mi(pI,"on"+gI)}mi(ky,"onAnimationEnd"),mi(xy,"onAnimationIteration"),mi(Vy,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(MR,"onTransitionRun"),mi(PR,"onTransitionStart"),mi(kR,"onTransitionCancel"),mi(Ly,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_I=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function sT(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var y=u.length-1;0<=y;y--){var S=u[y],N=S.instance,B=S.currentTarget;if(S=S.listener,N!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=B;try{m(f)}catch(W){Jc(W)}f.currentTarget=null,m=N}else for(y=0;y<u.length;y++){if(S=u[y],N=S.instance,B=S.currentTarget,S=S.listener,N!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=B;try{m(f)}catch(W){Jc(W)}f.currentTarget=null,m=N}}}}function Pe(n,r){var o=r[Ya];o===void 0&&(o=r[Ya]=new Set);var u=n+"__bubble";o.has(u)||(rT(r,n,2,!1),o.add(u))}function ap(n,r,o){var u=0;r&&(u|=4),rT(o,n,u,r)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function op(n){if(!n[Uh]){n[Uh]=!0,Al.forEach(function(o){o!=="selectionchange"&&(_I.has(o)||ap(o,!1,n),ap(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Uh]||(r[Uh]=!0,ap("selectionchange",!1,r))}}function rT(n,r,o,u){switch(kT(r)){case 2:var f=GI;break;case 8:f=KI;break;default:f=Sp}o=f.bind(null,r,o,n),f=void 0,!Zr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,o,{capture:!0,passive:f}):n.addEventListener(r,o,!0):f!==void 0?n.addEventListener(r,o,{passive:f}):n.addEventListener(r,o,!1)}function lp(n,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var S=u.stateNode.containerInfo;if(S===f)break;if(y===4)for(y=u.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;S!==null;){if(y=Di(S),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){u=m=y;continue e}S=S.parentNode}}u=u.return}Ys(function(){var B=m,W=Fn(o),ee=[];e:{var F=Uy.get(n);if(F!==void 0){var K=Ui,he=n;switch(n){case"keypress":if(ta(o)===0)break e;case"keydown":case"keyup":K=Wc;break;case"focusin":he="focus",K=ia;break;case"focusout":he="blur",K=ia;break;case"beforeblur":case"afterblur":K=ia;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_;break;case ky:case xy:case Vy:K=Hc;break;case Ly:K=A;break;case"scroll":case"scrollend":K=xl;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=as;break;case"toggle":case"beforetoggle":K=Re}var Ee=(r&4)!==0,rt=!Ee&&(n==="scroll"||n==="scrollend"),x=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var M=B,z;M!==null;){var $=M;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||x===null||($=ci(M,x),$!=null&&Ee.push(fu(M,$,z))),rt)break;M=M.return}0<Ee.length&&(F=new K(F,he,null,o,W),ee.push({event:F,listeners:Ee}))}}if((r&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",F&&o!==Ml&&(he=o.relatedTarget||o.fromElement)&&(Di(he)||he[Ni]))break e;if((K||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,K?(he=o.relatedTarget||o.toElement,K=B,he=he?Di(he):null,he!==null&&(rt=l(he),Ee=he.tag,he!==rt||Ee!==5&&Ee!==27&&Ee!==6)&&(he=null)):(K=null,he=B),K!==he)){if(Ee=Vl,$="onMouseLeave",x="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=as,$="onPointerLeave",x="onPointerEnter",M="pointer"),rt=K==null?F:Dn(K),z=he==null?F:Dn(he),F=new Ee($,M+"leave",K,o,W),F.target=rt,F.relatedTarget=z,$=null,Di(W)===B&&(Ee=new Ee(x,M+"enter",he,o,W),Ee.target=z,Ee.relatedTarget=rt,$=Ee),rt=$,K&&he)t:{for(Ee=yI,x=K,M=he,z=0,$=x;$;$=Ee($))z++;$=0;for(var pe=M;pe;pe=Ee(pe))$++;for(;0<z-$;)x=Ee(x),z--;for(;0<$-z;)M=Ee(M),$--;for(;z--;){if(x===M||M!==null&&x===M.alternate){Ee=x;break t}x=Ee(x),M=Ee(M)}Ee=null}else Ee=null;K!==null&&aT(ee,F,K,Ee,!1),he!==null&&rt!==null&&aT(ee,rt,he,Ee,!0)}}e:{if(F=B?Dn(B):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Ye=Ay;else if(Ty(F))if(by)Ye=NR;else{Ye=RR;var fe=CR}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&$a(B.elementType)&&(Ye=Ay):Ye=IR;if(Ye&&(Ye=Ye(n,B))){Sy(ee,Ye,o,W);break e}fe&&fe(n,F,B),n==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Nl(F,"number",F.value)}switch(fe=B?Dn(B):window,n){case"focusin":(Ty(fe)||fe.contentEditable==="true")&&(ro=fe,Ld=B,jl=null);break;case"focusout":jl=Ld=ro=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,My(ee,o,W);break;case"selectionchange":if(DR)break;case"keydown":case"keyup":My(ee,o,W)}var Oe;if(We)e:{switch(n){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else so?sa(n,o)&&(Le="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(ji&&o.locale!=="ko"&&(so||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&so&&(Oe=kl()):(Li=W,Pl="value"in Li?Li.value:Li.textContent,so=!0)),fe=zh(B,Le),0<fe.length&&(Le=new Bi(Le,n,null,o,W),ee.push({event:Le,listeners:fe}),Oe?Le.data=Oe:(Oe=io(o),Oe!==null&&(Le.data=Oe)))),(Oe=Gn?SR(n,o):AR(n,o))&&(Le=zh(B,"onBeforeInput"),0<Le.length&&(fe=new Bi("onBeforeInput","beforeinput",null,o,W),ee.push({event:fe,listeners:Le}),fe.data=Oe)),mI(ee,n,B,o,W)}sT(ee,r)})}function fu(n,r,o){return{instance:n,listener:r,currentTarget:o}}function zh(n,r){for(var o=r+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ci(n,o),f!=null&&u.unshift(fu(n,f,m)),f=ci(n,r),f!=null&&u.push(fu(n,f,m))),n.tag===3)return u;n=n.return}return[]}function yI(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function aT(n,r,o,u,f){for(var m=r._reactName,y=[];o!==null&&o!==u;){var S=o,N=S.alternate,B=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||B===null||(N=B,f?(B=ci(o,m),B!=null&&y.unshift(fu(o,B,N))):f||(B=ci(o,m),B!=null&&y.push(fu(o,B,N)))),o=o.return}y.length!==0&&n.push({event:r,listeners:y})}var vI=/\r\n?/g,EI=/\u0000|\uFFFD/g;function oT(n){return(typeof n=="string"?n:""+n).replace(vI,`
`).replace(EI,"")}function lT(n,r){return r=oT(r),oT(n)===r}function st(n,r,o,u,f,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Sn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Sn(n,""+u);break;case"className":Mn(n,"class",u);break;case"tabIndex":Mn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(n,o,u);break;case"style":Dl(n,u,m);break;case"data":if(r!=="object"){Mn(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ja(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&st(n,r,"name",f.name,f,null),st(n,r,"formEncType",f.formEncType,f,null),st(n,r,"formMethod",f.formMethod,f,null),st(n,r,"formTarget",f.formTarget,f,null)):(st(n,r,"encType",f.encType,f,null),st(n,r,"method",f.method,f,null),st(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ja(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=ui);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ja(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Wa(n,"popover",u);break;case"xlinkActuate":Ot(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ot(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ot(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ot(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ot(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ot(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=zc.get(o)||o,Wa(n,o,u))}}function up(n,r,o,u,f,m){switch(o){case"style":Dl(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Sn(n,u):(typeof u=="number"||typeof u=="bigint")&&Sn(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=n[Gt]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Wa(n,o,u)}}}function sn(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var y=o[m];if(y!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(n,r,m,y,o,null)}}f&&st(n,r,"srcSet",o.srcSet,o,null),u&&st(n,r,"src",o.src,o,null);return;case"input":Pe("invalid",n);var S=m=y=f=null,N=null,B=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":f=W;break;case"type":y=W;break;case"checked":N=W;break;case"defaultChecked":B=W;break;case"value":m=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:st(n,r,u,W,o,null)}}Vc(n,m,S,N,B,y,f,!1);return;case"select":Pe("invalid",n),u=y=m=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":y=S;break;case"multiple":u=S;default:st(n,r,f,S,o,null)}r=m,o=y,n.multiple=!!u,r!=null?Fs(n,!!u,r,!1):o!=null&&Fs(n,!!u,o,!0);return;case"textarea":Pe("invalid",n),m=f=u=null;for(y in o)if(o.hasOwnProperty(y)&&(S=o[y],S!=null))switch(y){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:st(n,r,y,S,o,null)}qs(n,u,f,m);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(n,r,N,u,o,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<hu.length;u++)Pe(hu[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(n,r,B,u,o,null)}return;default:if($a(r)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&up(n,r,W,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&st(n,r,S,u,o,null))}function TI(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,y=null,S=null,N=null,B=null,W=null;for(K in o){var ee=o[K];if(o.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=ee;default:u.hasOwnProperty(K)||st(n,r,K,null,u,ee)}}for(var F in u){var K=u[F];if(ee=o[F],u.hasOwnProperty(F)&&(K!=null||ee!=null))switch(F){case"type":m=K;break;case"name":f=K;break;case"checked":B=K;break;case"defaultChecked":W=K;break;case"value":y=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ee&&st(n,r,F,K,u,ee)}}Xa(n,y,S,N,B,W,m,f);return;case"select":K=y=S=F=null;for(m in o)if(N=o[m],o.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":K=N;default:u.hasOwnProperty(m)||st(n,r,m,null,u,N)}for(f in u)if(m=u[f],N=o[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":F=m;break;case"defaultValue":S=m;break;case"multiple":y=m;default:m!==N&&st(n,r,f,m,u,N)}r=S,o=y,u=K,F!=null?Fs(n,!!o,F,!1):!!u!=!!o&&(r!=null?Fs(n,!!o,r,!0):Fs(n,!!o,o?[]:"",!1));return;case"textarea":K=F=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:st(n,r,S,null,u,f)}for(y in u)if(f=u[y],m=o[y],u.hasOwnProperty(y)&&(f!=null||m!=null))switch(y){case"value":F=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&st(n,r,y,f,u,m)}Lc(n,F,K);return;case"option":for(var he in o)if(F=o[he],o.hasOwnProperty(he)&&F!=null&&!u.hasOwnProperty(he))switch(he){case"selected":n.selected=!1;break;default:st(n,r,he,null,u,F)}for(N in u)if(F=u[N],K=o[N],u.hasOwnProperty(N)&&F!==K&&(F!=null||K!=null))switch(N){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:st(n,r,N,F,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)F=o[Ee],o.hasOwnProperty(Ee)&&F!=null&&!u.hasOwnProperty(Ee)&&st(n,r,Ee,null,u,F);for(B in u)if(F=u[B],K=o[B],u.hasOwnProperty(B)&&F!==K&&(F!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:st(n,r,B,F,u,K)}return;default:if($a(r)){for(var rt in o)F=o[rt],o.hasOwnProperty(rt)&&F!==void 0&&!u.hasOwnProperty(rt)&&up(n,r,rt,void 0,u,F);for(W in u)F=u[W],K=o[W],!u.hasOwnProperty(W)||F===K||F===void 0&&K===void 0||up(n,r,W,F,u,K);return}}for(var x in o)F=o[x],o.hasOwnProperty(x)&&F!=null&&!u.hasOwnProperty(x)&&st(n,r,x,null,u,F);for(ee in u)F=u[ee],K=o[ee],!u.hasOwnProperty(ee)||F===K||F==null&&K==null||st(n,r,ee,F,u,K)}function uT(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SI(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,y=f.initiatorType,S=f.duration;if(m&&S&&uT(y)){for(y=0,S=f.responseEnd,u+=1;u<o.length;u++){var N=o[u],B=N.startTime;if(B>S)break;var W=N.transferSize,ee=N.initiatorType;W&&uT(ee)&&(N=N.responseEnd,y+=W*(N<S?1:(S-B)/(N-B)))}if(--u,r+=8*(m+y)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var cp=null,hp=null;function Bh(n){return n.nodeType===9?n:n.ownerDocument}function cT(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hT(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function fp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var dp=null;function AI(){var n=window.event;return n&&n.type==="popstate"?n===dp?!1:(dp=n,!0):(dp=null,!1)}var fT=typeof setTimeout=="function"?setTimeout:void 0,bI=typeof clearTimeout=="function"?clearTimeout:void 0,dT=typeof Promise=="function"?Promise:void 0,wI=typeof queueMicrotask=="function"?queueMicrotask:typeof dT<"u"?function(n){return dT.resolve(null).then(n).catch(CI)}:fT;function CI(n){setTimeout(function(){throw n})}function dr(n){return n==="head"}function mT(n,r){var o=r,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),Po(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")du(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,du(o);for(var m=o.firstChild;m;){var y=m.nextSibling,S=m.nodeName;m[Oi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=y}}else o==="body"&&du(n.ownerDocument.body);o=f}while(o);Po(r)}function pT(n,r){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function mp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":mp(o),Qa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function RI(n,r,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Oi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Jn(n.nextSibling),n===null)break}return null}function II(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Jn(n.nextSibling),n===null))return null;return n}function gT(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Jn(n.nextSibling),n===null))return null;return n}function pp(n){return n.data==="$?"||n.data==="$~"}function gp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function NI(n,r){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Jn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var _p=null;function _T(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(r===0)return Jn(n.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}n=n.nextSibling}return null}function yT(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return n;r--}else o!=="/$"&&o!=="/&"||r++}n=n.previousSibling}return null}function vT(n,r,o){switch(r=Bh(o),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function du(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Qa(n)}var Zn=new Map,ET=new Set;function jh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ts=oe.d;oe.d={f:OI,r:DI,D:MI,C:PI,L:kI,m:xI,X:LI,S:VI,M:UI};function OI(){var n=Ts.f(),r=Mh();return n||r}function DI(n){var r=Hn(n);r!==null&&r.tag===5&&r.type==="form"?Lv(r):Ts.r(n)}var Oo=typeof document>"u"?null:document;function TT(n,r,o){var u=Oo;if(u&&typeof r=="string"&&r){var f=Tn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),ET.has(f)||(ET.add(f),n={rel:n,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),sn(r,"link",n),Nt(r),u.head.appendChild(r)))}}function MI(n){Ts.D(n),TT("dns-prefetch",n,null)}function PI(n,r){Ts.C(n,r),TT("preconnect",n,r)}function kI(n,r,o){Ts.L(n,r,o);var u=Oo;if(u&&n&&r){var f='link[rel="preload"][as="'+Tn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Tn(o.imageSizes)+'"]')):f+='[href="'+Tn(n)+'"]';var m=f;switch(r){case"style":m=Do(n);break;case"script":m=Mo(n)}Zn.has(m)||(n=E({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Zn.set(m,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(mu(m))||r==="script"&&u.querySelector(pu(m))||(r=u.createElement("link"),sn(r,"link",n),Nt(r),u.head.appendChild(r)))}}function xI(n,r){Ts.m(n,r);var o=Oo;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Tn(u)+'"][href="'+Tn(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Mo(n)}if(!Zn.has(m)&&(n=E({rel:"modulepreload",href:n},r),Zn.set(m,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pu(m)))return}u=o.createElement("link"),sn(u,"link",n),Nt(u),o.head.appendChild(u)}}}function VI(n,r,o){Ts.S(n,r,o);var u=Oo;if(u&&n){var f=Mi(u).hoistableStyles,m=Do(n);r=r||"default";var y=f.get(m);if(!y){var S={loading:0,preload:null};if(y=u.querySelector(mu(m)))S.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Zn.get(m))&&yp(n,o);var N=y=u.createElement("link");Nt(N),sn(N,"link",n),N._p=new Promise(function(B,W){N.onload=B,N.onerror=W}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hh(y,r,u)}y={type:"stylesheet",instance:y,count:1,state:S},f.set(m,y)}}}function LI(n,r){Ts.X(n,r);var o=Oo;if(o&&n){var u=Mi(o).hoistableScripts,f=Mo(n),m=u.get(f);m||(m=o.querySelector(pu(f)),m||(n=E({src:n,async:!0},r),(r=Zn.get(f))&&vp(n,r),m=o.createElement("script"),Nt(m),sn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function UI(n,r){Ts.M(n,r);var o=Oo;if(o&&n){var u=Mi(o).hoistableScripts,f=Mo(n),m=u.get(f);m||(m=o.querySelector(pu(f)),m||(n=E({src:n,async:!0,type:"module"},r),(r=Zn.get(f))&&vp(n,r),m=o.createElement("script"),Nt(m),sn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function ST(n,r,o,u){var f=(f=Ne.current)?jh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Do(o.href),o=Mi(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Do(o.href);var m=Mi(f).hoistableStyles,y=m.get(n);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,y),(m=f.querySelector(mu(n)))&&!m._p&&(y.instance=m,y.state.loading=5),Zn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(n,o),m||zI(f,n,o,y.state))),r&&u===null)throw Error(s(528,""));return y}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Mo(o),o=Mi(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Do(n){return'href="'+Tn(n)+'"'}function mu(n){return'link[rel="stylesheet"]['+n+"]"}function AT(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function zI(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),sn(r,"link",o),Nt(r),n.head.appendChild(r))}function Mo(n){return'[src="'+Tn(n)+'"]'}function pu(n){return"script[async]"+n}function bT(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Tn(o.href)+'"]');if(u)return r.instance=u,Nt(u),u;var f=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Nt(u),sn(u,"style",f),Hh(u,o.precedence,n),r.instance=u;case"stylesheet":f=Do(o.href);var m=n.querySelector(mu(f));if(m)return r.state.loading|=4,r.instance=m,Nt(m),m;u=AT(o),(f=Zn.get(f))&&yp(u,f),m=(n.ownerDocument||n).createElement("link"),Nt(m);var y=m;return y._p=new Promise(function(S,N){y.onload=S,y.onerror=N}),sn(m,"link",u),r.state.loading|=4,Hh(m,o.precedence,n),r.instance=m;case"script":return m=Mo(o.src),(f=n.querySelector(pu(m)))?(r.instance=f,Nt(f),f):(u=o,(f=Zn.get(m))&&(u=E({},o),vp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Nt(f),sn(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Hh(u,o.precedence,n));return r.instance}function Hh(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,y=0;y<u.length;y++){var S=u[y];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function yp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function vp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Fh=null;function wT(n,r,o){if(Fh===null){var u=new Map,f=Fh=new Map;f.set(o,u)}else f=Fh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[Oi]||m[It]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var y=m.getAttribute(r)||"";y=n+y;var S=u.get(y);S?S.push(m):u.set(y,[m])}}return u}function CT(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function BI(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function RT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function jI(n,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Do(u.href),m=r.querySelector(mu(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=qh.bind(n),r.then(n,n)),o.state.loading|=4,o.instance=m,Nt(m);return}m=r.ownerDocument||r,u=AT(u),(f=Zn.get(f))&&yp(u,f),m=m.createElement("link"),Nt(m);var y=m;y._p=new Promise(function(S,N){y.onload=S,y.onerror=N}),sn(m,"link",u),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=qh.bind(n),r.addEventListener("load",o),r.addEventListener("error",o))}}var Ep=0;function HI(n,r){return n.stylesheets&&n.count===0&&Kh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Kh(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+r);0<n.imgBytes&&Ep===0&&(Ep=62500*SI());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Kh(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Ep?50:800)+r);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Gh=null;function Kh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Gh=new Map,r.forEach(FI,n),Gh=null,qh.call(n))}function FI(n,r){if(!(r.state.loading&4)){var o=Gh.get(n);if(o)var u=o.get(null);else{o=new Map,Gh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var y=f[m];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(o.set(y.dataset.precedence,y),u=y)}u&&o.set(null,u)}f=r.instance,y=f.getAttribute("data-precedence"),m=o.get(y)||u,m===u&&o.set(null,f),o.set(y,f),this.count++,u=qh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var gu={$$typeof:re,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function qI(n,r,o,u,f,m,y,S,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function IT(n,r,o,u,f,m,y,S,N,B,W,ee){return n=new qI(n,r,o,y,N,B,W,ee,S),r=1,m===!0&&(r|=24),m=kn(3,null,null,r),n.current=m,m.stateNode=n,r=Zd(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},im(m),n}function NT(n){return n?(n=lo,n):lo}function OT(n,r,o,u,f,m){f=NT(f),u.context===null?u.context=f:u.pendingContext=f,u=nr(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=ir(n,u,r),o!==null&&(Rn(o,n,r),Ql(o,n,r))}function DT(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Tp(n,r){DT(n,r),(n=n.alternate)&&DT(n,r)}function MT(n){if(n.tag===13||n.tag===31){var r=oa(n,67108864);r!==null&&Rn(r,n,67108864),Tp(n,67108864)}}function PT(n){if(n.tag===13||n.tag===31){var r=zn();r=Wr(r);var o=oa(n,r);o!==null&&Rn(o,n,r),Tp(n,r)}}var Yh=!0;function GI(n,r,o,u){var f=q.T;q.T=null;var m=oe.p;try{oe.p=2,Sp(n,r,o,u)}finally{oe.p=m,q.T=f}}function KI(n,r,o,u){var f=q.T;q.T=null;var m=oe.p;try{oe.p=8,Sp(n,r,o,u)}finally{oe.p=m,q.T=f}}function Sp(n,r,o,u){if(Yh){var f=Ap(u);if(f===null)lp(n,r,u,Qh,o),xT(n,u);else if(QI(f,n,r,o,u))u.stopPropagation();else if(xT(n,u),r&4&&-1<YI.indexOf(n)){for(;f!==null;){var m=Hn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=Ci(m.pendingLanes);if(y!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var N=1<<31-Tt(y);S.entanglements[1]|=N,y&=~N}Gi(m),(Xe&6)===0&&(Oh=yn()+500,cu(0))}}break;case 31:case 13:S=oa(m,2),S!==null&&Rn(S,m,2),Mh(),Tp(m,2)}if(m=Ap(u),m===null&&lp(n,r,u,Qh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else lp(n,r,u,null,o)}}function Ap(n){return n=Fn(n),bp(n)}var Qh=null;function bp(n){if(Qh=null,n=Di(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=c(r),n!==null)return n;n=null}else if(o===31){if(n=d(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Qh=n,null}function kT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gr()){case vl:return 2;case El:return 8;case js:case Od:return 32;case Cc:return 268435456;default:return 32}default:return 32}}var wp=!1,mr=null,pr=null,gr=null,_u=new Map,yu=new Map,_r=[],YI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xT(n,r){switch(n){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":_u.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(r.pointerId)}}function vu(n,r,o,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Hn(r),r!==null&&MT(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function QI(n,r,o,u,f){switch(r){case"focusin":return mr=vu(mr,n,r,o,u,f),!0;case"dragenter":return pr=vu(pr,n,r,o,u,f),!0;case"mouseover":return gr=vu(gr,n,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return _u.set(m,vu(_u.get(m)||null,n,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,yu.set(m,vu(yu.get(m)||null,n,r,o,u,f)),!0}return!1}function VT(n){var r=Di(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){n.blockedOn=r,oi(n.priority,function(){PT(o)});return}}else if(r===31){if(r=d(o),r!==null){n.blockedOn=r,oi(n.priority,function(){PT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Ap(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Ml=u,o.target.dispatchEvent(u),Ml=null}else return r=Hn(o),r!==null&&MT(r),n.blockedOn=o,!1;r.shift()}return!0}function LT(n,r,o){Wh(n)&&o.delete(r)}function WI(){wp=!1,mr!==null&&Wh(mr)&&(mr=null),pr!==null&&Wh(pr)&&(pr=null),gr!==null&&Wh(gr)&&(gr=null),_u.forEach(LT),yu.forEach(LT)}function Xh(n,r){n.blockedOn===r&&(n.blockedOn=null,wp||(wp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,WI)))}var $h=null;function UT(n){$h!==n&&($h=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){$h===n&&($h=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(bp(u||o)===null)continue;break}var m=Hn(o);m!==null&&(n.splice(r,3),r-=3,Am(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Po(n){function r(N){return Xh(N,n)}mr!==null&&Xh(mr,n),pr!==null&&Xh(pr,n),gr!==null&&Xh(gr,n),_u.forEach(r),yu.forEach(r);for(var o=0;o<_r.length;o++){var u=_r[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<_r.length&&(o=_r[0],o.blockedOn===null);)VT(o),o.blockedOn===null&&_r.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],y=f[Gt]||null;if(typeof m=="function")y||UT(o);else if(y){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,y=m[Gt]||null)S=y.formAction;else if(bp(f)!==null)continue}else S=y.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),UT(o)}}}function zT(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Cp(n){this._internalRoot=n}Jh.prototype.render=Cp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=zn();OT(o,u,n,r,null,null)},Jh.prototype.unmount=Cp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;OT(n.current,2,null,n,null,null),Mh(),r[Ni]=null}};function Jh(n){this._internalRoot=n}Jh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Mc();n={blockedOn:null,target:n,priority:r};for(var o=0;o<_r.length&&r!==0&&r<_r[o].priority;o++);_r.splice(o,0,n),o===0&&VT(n)}};var BT=e.version;if(BT!=="19.2.0")throw Error(s(527,BT,"19.2.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var XI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{ri=Zh.inject(XI),Jt=Zh}catch{}}return Tu.createRoot=function(n,r){if(!a(n))throw Error(s(299));var o=!1,u="",f=Yv,m=Qv,y=Wv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=IT(n,1,!1,null,null,o,u,null,f,m,y,zT),n[Ni]=r.current,op(n),new Cp(r)},Tu.hydrateRoot=function(n,r,o){if(!a(n))throw Error(s(299));var u=!1,f="",m=Yv,y=Qv,S=Wv,N=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),r=IT(n,1,!0,r,o??null,u,f,N,m,y,S,zT),r.context=NT(null),o=r.current,u=zn(),u=Wr(u),f=nr(u),f.callback=null,ir(o,f,u),o=u,r.current.lanes=o,Yr(r,o),Gi(r),n[Ni]=r.current,op(n),new Jh(r)},Tu.version="19.2.0",Tu}var XT;function a1(){if(XT)return Np.exports;XT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Np.exports=r1(),Np.exports}var o1=a1();var $T="popstate";function l1(i={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return sg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Ku(a)}return c1(e,t,null,i)}function yt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Si(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u1(){return Math.random().toString(36).substring(2,10)}function JT(i,e){return{usr:i.state,key:i.key,idx:e}}function sg(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:t,key:e&&e.key||s||u1()}}function Ku({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function al(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function c1(i,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function E(){d="POP";let H=v(),ne=H==null?null:H-g;g=H,p&&p({action:d,location:Q.location,delta:ne})}function b(H,ne){d="PUSH";let se=sg(Q.location,H,ne);g=v()+1;let re=JT(se,g),ge=Q.createHref(se);try{c.pushState(re,"",ge)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;a.location.assign(ge)}l&&p&&p({action:d,location:Q.location,delta:1})}function D(H,ne){d="REPLACE";let se=sg(Q.location,H,ne);g=v();let re=JT(se,g),ge=Q.createHref(se);c.replaceState(re,"",ge),l&&p&&p({action:d,location:Q.location,delta:0})}function U(H){return h1(H)}let Q={get action(){return d},get location(){return i(a,c)},listen(H){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener($T,E),p=H,()=>{a.removeEventListener($T,E),p=null}},createHref(H){return e(a,H)},createURL:U,encodeLocation(H){let ne=U(H);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:b,replace:D,go(H){return c.go(H)}};return Q}function h1(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),yt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Ku(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function fA(i,e,t="/"){return f1(i,e,t,!1)}function f1(i,e,t,s){let a=typeof e=="string"?al(e):e,l=Ns(a.pathname||"/",t);if(l==null)return null;let c=dA(i);d1(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=b1(l);d=S1(c[p],g,s)}return d}function dA(i,e=[],t=[],s="",a=!1){let l=(c,d,p=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;yt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let E=Cs([s,v.relativePath]),b=t.concat(v);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),dA(c.children,e,b,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:E1(E,c.index),routesMeta:b})};return i.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of mA(c.path))l(c,d,!0,p)}),e}function mA(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=mA(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function d1(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:T1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var m1=/^:[\w-]+$/,p1=3,g1=2,_1=1,y1=10,v1=-2,ZT=i=>i==="*";function E1(i,e){let t=i.split("/"),s=t.length;return t.some(ZT)&&(s+=v1),e&&(s+=g1),t.filter(a=>!ZT(a)).reduce((a,l)=>a+(m1.test(l)?p1:l===""?_1:y1),s)}function T1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function S1(i,e,t=!1){let{routesMeta:s}=i,a={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=bf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),b=p.route;if(!E&&g&&t&&!s[s.length-1].route.index&&(E=bf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:Cs([l,E.pathname]),pathnameBase:N1(Cs([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=Cs([l,E.pathnameBase]))}return c}function bf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=A1(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:E},b)=>{if(v==="*"){let U=d[b]||"";c=l.slice(0,l.length-U.length).replace(/(.)\/+$/,"$1")}const D=d[b];return E&&!D?g[v]=void 0:g[v]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function A1(i,e=!1,t=!0){Si(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function b1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ns(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C1=i=>w1.test(i);function R1(i,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof i=="string"?al(i):i,l;if(t)if(C1(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Si(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=eS(t.substring(1),"/"):l=eS(t,e)}else l=e;return{pathname:l,search:O1(s),hash:D1(a)}}function eS(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Pp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I1(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pA(i){let e=I1(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function gA(i,e,t,s=!1){let a;typeof i=="string"?a=al(i):(a={...i},yt(!a.pathname||!a.pathname.includes("?"),Pp("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Pp("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Pp("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;a.pathname=b.join("/")}d=E>=0?e[E]:"/"}let p=R1(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Cs=i=>i.join("/").replace(/\/\/+/g,"/"),N1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),O1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,D1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function M1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _A=["POST","PUT","PATCH","DELETE"];new Set(_A);var P1=["GET",..._A];new Set(P1);var ol=j.createContext(null);ol.displayName="DataRouter";var td=j.createContext(null);td.displayName="DataRouterState";j.createContext(!1);var yA=j.createContext({isTransitioning:!1});yA.displayName="ViewTransition";var k1=j.createContext(new Map);k1.displayName="Fetchers";var x1=j.createContext(null);x1.displayName="Await";var ts=j.createContext(null);ts.displayName="Navigation";var oc=j.createContext(null);oc.displayName="Location";var Ls=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ls.displayName="Route";var Gg=j.createContext(null);Gg.displayName="RouteError";function V1(i,{relative:e}={}){yt(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(ts),{hash:a,pathname:l,search:c}=uc(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Cs([t,l])),s.createHref({pathname:d,search:c,hash:a})}function lc(){return j.useContext(oc)!=null}function ka(){return yt(lc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(oc).location}var vA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EA(i){j.useContext(ts).static||j.useLayoutEffect(i)}function L1(){let{isDataRoute:i}=j.useContext(Ls);return i?X1():U1()}function U1(){yt(lc(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(ol),{basename:e,navigator:t}=j.useContext(ts),{matches:s}=j.useContext(Ls),{pathname:a}=ka(),l=JSON.stringify(pA(s)),c=j.useRef(!1);return EA(()=>{c.current=!0}),j.useCallback((p,g={})=>{if(Si(c.current,vA),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=gA(p,JSON.parse(l),a,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Cs([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,i])}j.createContext(null);function uc(i,{relative:e}={}){let{matches:t}=j.useContext(Ls),{pathname:s}=ka(),a=JSON.stringify(pA(t));return j.useMemo(()=>gA(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function z1(i,e){return TA(i,e)}function TA(i,e,t,s,a){yt(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(ts),{matches:c}=j.useContext(Ls),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let se=E&&E.path||"";SA(g,!E||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let b=ka(),D;if(e){let se=typeof e=="string"?al(e):e;yt(v==="/"||se.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${se.pathname}" was given in the \`location\` prop.`),D=se}else D=b;let U=D.pathname||"/",Q=U;if(v!=="/"){let se=v.replace(/^\//,"").split("/");Q="/"+U.replace(/^\//,"").split("/").slice(se.length).join("/")}let H=fA(i,{pathname:Q});Si(E||H!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Si(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=q1(H&&H.map(se=>Object.assign({},se,{params:Object.assign({},p,se.params),pathname:Cs([v,l.encodeLocation?l.encodeLocation(se.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?v:Cs([v,l.encodeLocation?l.encodeLocation(se.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathnameBase])})),c,t,s,a);return e&&ne?j.createElement(oc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},ne):ne}function B1(){let i=W1(),e=M1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:a},t):null,c)}var j1=j.createElement(B1,null),H1=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?j.createElement(Ls.Provider,{value:this.props.routeContext},j.createElement(Gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F1({routeContext:i,match:e,children:t}){let s=j.useContext(ol);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Ls.Provider,{value:i},t)}function q1(i,e=[],t=null,s=null,a=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=t?.errors;if(c!=null){let v=l.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=v),E.route.id){let{loaderData:b,errors:D}=t,U=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!D||D[E.route.id]===void 0);if(E.route.lazy||U){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&s?(v,E)=>{s(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:E})}:void 0;return l.reduceRight((v,E,b)=>{let D,U=!1,Q=null,H=null;t&&(D=c&&E.route.id?c[E.route.id]:void 0,Q=E.route.errorElement||j1,d&&(p<0&&b===0?(SA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,H=null):p===b&&(U=!0,H=E.route.hydrateFallbackElement||null)));let ne=e.concat(l.slice(0,b+1)),se=()=>{let re;return D?re=Q:U?re=H:E.route.Component?re=j.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=v,j.createElement(F1,{match:E,routeContext:{outlet:v,matches:ne,isDataRoute:t!=null},children:re})};return t&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?j.createElement(H1,{location:t.location,revalidation:t.revalidation,component:Q,error:D,children:se(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):se()},null)}function Kg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G1(i){let e=j.useContext(ol);return yt(e,Kg(i)),e}function K1(i){let e=j.useContext(td);return yt(e,Kg(i)),e}function Y1(i){let e=j.useContext(Ls);return yt(e,Kg(i)),e}function Yg(i){let e=Y1(i),t=e.matches[e.matches.length-1];return yt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function Q1(){return Yg("useRouteId")}function W1(){let i=j.useContext(Gg),e=K1("useRouteError"),t=Yg("useRouteError");return i!==void 0?i:e.errors?.[t]}function X1(){let{router:i}=G1("useNavigate"),e=Yg("useNavigate"),t=j.useRef(!1);return EA(()=>{t.current=!0}),j.useCallback(async(a,l={})=>{Si(t.current,vA),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var tS={};function SA(i,e,t){!e&&!tS[i]&&(tS[i]=!0,Si(!1,t))}j.memo($1);function $1({routes:i,future:e,state:t,unstable_onError:s}){return TA(i,void 0,t,s,e)}function cf(i){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){yt(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=al(t));let{pathname:p="/",search:g="",hash:v="",state:E=null,key:b="default"}=t,D=j.useMemo(()=>{let U=Ns(p,c);return U==null?null:{location:{pathname:U,search:g,hash:v,state:E,key:b},navigationType:s}},[c,p,g,v,E,b,s]);return Si(D!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:j.createElement(ts.Provider,{value:d},j.createElement(oc.Provider,{children:e,value:D}))}function Z1({children:i,location:e}){return z1(rg(i),e)}function rg(i,e=[]){let t=[];return j.Children.forEach(i,(s,a)=>{if(!j.isValidElement(s))return;let l=[...e,a];if(s.type===j.Fragment){t.push.apply(t,rg(s.props.children,l));return}yt(s.type===cf,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=rg(s.props.children,l)),t.push(c)}),t}var hf="get",ff="application/x-www-form-urlencoded";function nd(i){return i!=null&&typeof i.tagName=="string"}function eN(i){return nd(i)&&i.tagName.toLowerCase()==="button"}function tN(i){return nd(i)&&i.tagName.toLowerCase()==="form"}function nN(i){return nd(i)&&i.tagName.toLowerCase()==="input"}function iN(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function sN(i,e){return i.button===0&&(!e||e==="_self")&&!iN(i)}var ef=null;function rN(){if(ef===null)try{new FormData(document.createElement("form"),0),ef=!1}catch{ef=!0}return ef}var aN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kp(i){return i!=null&&!aN.has(i)?(Si(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ff}"`),null):i}function oN(i,e){let t,s,a,l,c;if(tN(i)){let d=i.getAttribute("action");s=d?Ns(d,e):null,t=i.getAttribute("method")||hf,a=kp(i.getAttribute("enctype"))||ff,l=new FormData(i)}else if(eN(i)||nN(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?Ns(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||hf,a=kp(i.getAttribute("formenctype"))||kp(d.getAttribute("enctype"))||ff,l=new FormData(d,i),!rN()){let{name:g,type:v,value:E}=i;if(v==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,E)}}else{if(nd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hf,s=null,a=ff,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function lN(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Ns(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function uN(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cN(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function hN(i,e,t){let s=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await uN(l,t);return c.links?c.links():[]}return[]}));return pN(s.flat(1).filter(cN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nS(i,e,t,s,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function fN(i,e,{includeHydrateFallback:t}={}){return dN(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function dN(i){return[...new Set(i)]}function mN(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function pN(i,e){let t=new Set;return new Set(e),i.reduce((s,a)=>{let l=JSON.stringify(mN(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function AA(){let i=j.useContext(ol);return Qg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function gN(){let i=j.useContext(td);return Qg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Wg=j.createContext(void 0);Wg.displayName="FrameworkContext";function bA(){let i=j.useContext(Wg);return Qg(i,"You must render this element inside a <HydratedRouter> element"),i}function _N(i,e){let t=j.useContext(Wg),[s,a]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,b=j.useRef(null);j.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let Q=ne=>{ne.forEach(se=>{c(se.isIntersecting)})},H=new IntersectionObserver(Q,{threshold:.5});return b.current&&H.observe(b.current),()=>{H.disconnect()}}},[i]),j.useEffect(()=>{if(s){let Q=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let D=()=>{a(!0)},U=()=>{a(!1),c(!1)};return t?i!=="intent"?[l,b,{}]:[l,b,{onFocus:Su(d,D),onBlur:Su(p,U),onMouseEnter:Su(g,D),onMouseLeave:Su(v,U),onTouchStart:Su(E,D)}]:[!1,b,{}]}function Su(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function yN({page:i,...e}){let{router:t}=AA(),s=j.useMemo(()=>fA(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?j.createElement(EN,{page:i,matches:s,...e}):null}function vN(i){let{manifest:e,routeModules:t}=bA(),[s,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return hN(i,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[i,e,t]),s}function EN({page:i,matches:e,...t}){let s=ka(),{manifest:a,routeModules:l}=bA(),{basename:c}=AA(),{loaderData:d,matches:p}=gN(),g=j.useMemo(()=>nS(i,e,p,a,s,"data"),[i,e,p,a,s]),v=j.useMemo(()=>nS(i,e,p,a,s,"assets"),[i,e,p,a,s]),E=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,Q=!1;if(e.forEach(ne=>{let se=a.routes[ne.route.id];!se||!se.hasLoader||(!g.some(re=>re.route.id===ne.route.id)&&ne.route.id in d&&l[ne.route.id]?.shouldRevalidate||se.hasClientLoader?Q=!0:U.add(ne.route.id))}),U.size===0)return[];let H=lN(i,c,"data");return Q&&U.size>0&&H.searchParams.set("_routes",e.filter(ne=>U.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[H.pathname+H.search]},[c,d,s,a,g,e,i,l]),b=j.useMemo(()=>fN(v,a),[v,a]),D=vN(v);return j.createElement(j.Fragment,null,E.map(U=>j.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),b.map(U=>j.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),D.map(({key:U,link:Q})=>j.createElement("link",{key:U,nonce:t.nonce,...Q})))}function TN(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var wA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wA&&(window.__reactRouterVersion="7.9.6")}catch{}function SN({basename:i,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=l1({window:t,v5Compat:!0}));let a=s.current,[l,c]=j.useState({action:a.action,location:a.location}),d=j.useCallback(p=>{j.startTransition(()=>c(p))},[c]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.createElement(J1,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var CA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yu=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:E,...b},D){let{basename:U}=j.useContext(ts),Q=typeof g=="string"&&CA.test(g),H,ne=!1;if(typeof g=="string"&&Q&&(H=g,wA))try{let C=new URL(window.location.href),k=g.startsWith("//")?new URL(C.protocol+g):new URL(g),O=Ns(k.pathname,U);k.origin===C.origin&&O!=null?g=O+k.search+k.hash:ne=!0}catch{Si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=V1(g,{relative:a}),[re,ge,Te]=_N(s,b),Ae=CN(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:E});function I(C){e&&e(C),C.defaultPrevented||Ae(C)}let w=j.createElement("a",{...b,...Te,href:H||se,onClick:ne||l?e:I,ref:TN(D,ge),target:p,"data-discover":!Q&&t==="render"?"true":void 0});return re&&!Q?j.createElement(j.Fragment,null,w,j.createElement(yN,{page:se})):w});Yu.displayName="Link";var AN=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let E=uc(c,{relative:g.relative}),b=ka(),D=j.useContext(td),{navigator:U,basename:Q}=j.useContext(ts),H=D!=null&&DN(E)&&d===!0,ne=U.encodeLocation?U.encodeLocation(E).pathname:E.pathname,se=b.pathname,re=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(se=se.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&Q&&(re=Ns(re,Q)||re);const ge=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Te=se===ne||!a&&se.startsWith(ne)&&se.charAt(ge)==="/",Ae=re!=null&&(re===ne||!a&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),I={isActive:Te,isPending:Ae,isTransitioning:H},w=Te?e:void 0,C;typeof s=="function"?C=s(I):C=[s,Te?"active":null,Ae?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(I):l;return j.createElement(Yu,{...g,"aria-current":w,className:C,ref:v,style:k,to:c,viewTransition:d},typeof p=="function"?p(I):p)});AN.displayName="NavLink";var bN=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=hf,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:E,...b},D)=>{let U=NN(),Q=ON(d,{relative:g}),H=c.toLowerCase()==="get"?"get":"post",ne=typeof d=="string"&&CA.test(d),se=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ge=re.nativeEvent.submitter,Te=ge?.getAttribute("formmethod")||c;U(ge||re.currentTarget,{fetcherKey:e,method:Te,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:E})};return j.createElement("form",{ref:D,method:H,action:Q,onSubmit:s?p:se,...b,"data-discover":!ne&&i==="render"?"true":void 0})});bN.displayName="Form";function wN(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RA(i){let e=j.useContext(ol);return yt(e,wN(i)),e}function CN(i,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=L1(),p=ka(),g=uc(i,{relative:l});return j.useCallback(v=>{if(sN(v,e)){v.preventDefault();let E=t!==void 0?t:Ku(p)===Ku(g);d(i,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,s,e,i,a,l,c])}var RN=0,IN=()=>`__${String(++RN)}__`;function NN(){let{router:i}=RA("useSubmit"),{basename:e}=j.useContext(ts),t=Q1();return j.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=oN(s,e);if(a.navigate===!1){let v=a.fetcherKey||IN();await i.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function ON(i,{relative:e}={}){let{basename:t}=j.useContext(ts),s=j.useContext(Ls);yt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...uc(i||".",{relative:e})},c=ka();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();l.search=v?`?${v}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Cs([t,l.pathname])),Ku(l)}function DN(i,{relative:e}={}){let t=j.useContext(yA);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=RA("useViewTransitionState"),a=uc(i,{relative:e});if(!t.isTransitioning)return!1;let l=Ns(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Ns(t.nextLocation.pathname,s)||t.nextLocation.pathname;return bf(a.pathname,c)!=null||bf(a.pathname,l)!=null}const Xg="/skill-exchange/assets/logo-CZvJbn1G.png",IA=()=>{const[i,e]=j.useState(""),[t,s]=j.useState("");function a(d){d.preventDefault(),alert("submitted"),console.log(i,t),e(""),s("")}function l(d){e(d.target.value)}function c(d){s(d.target.value)}return Y.jsx(Y.Fragment,{children:Y.jsxs("div",{className:"login-page",children:[Y.jsx("h1",{children:"Skill Exchange Login"}),Y.jsxs("form",{className:"login-page-content",autoComplete:"off",onSubmit:d=>{a(d)},children:[Y.jsx("img",{src:Xg,alt:"skillx logo"}),Y.jsx("input",{type:"text",placeholder:"Enter user id",autoComplete:"off",required:!0,onChange:d=>{l(d)},value:i}),Y.jsx("input",{type:"text",placeholder:"Enter your password",autoComplete:"off",required:!0,onChange:d=>{c(d)},value:t}),Y.jsxs("h3",{children:["Don't have any account? ",Y.jsx(Yu,{to:"/register",children:"RegisterNow"})]}),Y.jsx("button",{type:"submit",children:"Login"})]}),Y.jsx("h3",{children:Y.jsx(Yu,{children:"Forgotten Password"})})]})})},MN=()=>{function i(){return Y.jsx(IA,{})}return Y.jsx(Y.Fragment,{children:Y.jsxs("nav",{className:"navLanding",children:[Y.jsx("div",{className:"logo",children:Y.jsx("img",{src:Xg,alt:""})}),Y.jsx("div",{className:"cta-nav",children:Y.jsxs(Yu,{to:"/login",children:[" ",Y.jsxs("button",{className:"login-cta",onClick:i,children:[Y.jsx("i",{className:"fa-solid fa-arrow-right-to-bracket"}),"Login"]})]})})]})})},PN="/skill-exchange/assets/hero_sec_img-xu7NUY8L.png",kN="/skill-exchange/assets/hero_background-DbhdSA7v.png",xN=()=>Y.jsx(Y.Fragment,{children:Y.jsxs("section",{class:"hero-sec",children:[Y.jsx("img",{src:kN,alt:"bg-hero",class:"hero-bg"}),Y.jsxs("div",{class:"hero-left",children:[Y.jsx("h1",{children:"Connect, Learn, Collaborate, Grow with SkillX"}),Y.jsx("p",{children:"Empowering students to showcase their skills, connect with mentors, and work on real Organization projects  all in one smart AI-driven ecosystem."}),Y.jsxs("div",{class:"btn-hero-left",children:[Y.jsxs("button",{class:"login-cta",onclick:"window.location.href='roleReg.html'",children:[Y.jsx("i",{class:"fa-solid fa-arrow-right-to-bracket"}),"Login"]}),Y.jsx("button",{class:"learn-btn-hero",children:"Learn More"})]})]}),Y.jsx("div",{class:"hero-right",children:Y.jsx("img",{src:PN,alt:"SkillX related image"})})]})}),VN=()=>Y.jsxs("div",{children:[Y.jsx(MN,{}),Y.jsx(xN,{})]});class cc{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const LN=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},rn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:LN()},$g=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},UN=(i,e="https://api.emailjs.com")=>{if(!i)return;const t=$g(i);rn.publicKey=t.publicKey,rn.blockHeadless=t.blockHeadless,rn.storageProvider=t.storageProvider,rn.blockList=t.blockList,rn.limitRate=t.limitRate,rn.origin=t.origin||e},NA=async(i,e,t={})=>{const s=await fetch(rn.origin+i,{method:"POST",headers:t,body:e}),a=await s.text(),l=new cc(s.status,a);if(s.ok)return l;throw l},OA=(i,e,t)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},zN=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},DA=i=>i.webdriver||!i.languages||i.languages.length===0,MA=()=>new cc(451,"Unavailable For Headless Browser"),BN=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},jN=i=>!i.list?.length||!i.watchVariable,HN=(i,e)=>i instanceof FormData?i.get(e):i[e],PA=(i,e)=>{if(jN(i))return!1;BN(i.list,i.watchVariable);const t=HN(e,i.watchVariable);return typeof t!="string"?!1:i.list.includes(t)},kA=()=>new cc(403,"Forbidden"),FN=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},qN=async(i,e,t)=>{const s=Number(await t.get(i)||0);return e-Date.now()+s},xA=async(i,e,t)=>{if(!e.throttle||!t)return!1;FN(e.throttle,e.id);const s=e.id||i;return await qN(s,e.throttle,t)>0?!0:(await t.set(s,Date.now().toString()),!1)},VA=()=>new cc(429,"Too Many Requests"),GN=async(i,e,t,s)=>{const a=$g(s),l=a.publicKey||rn.publicKey,c=a.blockHeadless||rn.blockHeadless,d=a.storageProvider||rn.storageProvider,p={...rn.blockList,...a.blockList},g={...rn.limitRate,...a.limitRate};return c&&DA(navigator)?Promise.reject(MA()):(OA(l,i,e),zN(t),t&&PA(p,t)?Promise.reject(kA()):await xA(location.pathname,g,d)?Promise.reject(VA()):NA("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"}))},KN=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},YN=i=>typeof i=="string"?document.querySelector(i):i,QN=async(i,e,t,s)=>{const a=$g(s),l=a.publicKey||rn.publicKey,c=a.blockHeadless||rn.blockHeadless,d=rn.storageProvider||a.storageProvider,p={...rn.blockList,...a.blockList},g={...rn.limitRate,...a.limitRate};if(c&&DA(navigator))return Promise.reject(MA());const v=YN(t);OA(l,i,e),KN(v);const E=new FormData(v);return PA(p,E)?Promise.reject(kA()):await xA(location.pathname,g,d)?Promise.reject(VA()):(E.append("lib_version","4.4.1"),E.append("service_id",i),E.append("template_id",e),E.append("user_id",l),NA("/api/v1.0/email/send-form",E))},Yo={init:UN,send:GN,sendForm:QN,EmailJSResponseStatus:cc},WN=()=>{};var iS={};const LA={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const le=function(i,e){if(!i)throw ll(e)},ll=function(i){return new Error("Firebase Database ("+LA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};const UA=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},XN=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const a=i[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],c=i[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Jg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,p=a+2<i.length,g=p?i[a+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,D=g&63;p||(D=64,c||(b=64)),s.push(t[v],t[E],t[b],t[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(UA(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):XN(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const g=a<i.length?t[i.charAt(a)]:64;++a;const E=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new $N;const b=l<<2|d>>4;if(s.push(b),g!==64){const D=d<<4&240|g>>2;if(s.push(D),E!==64){const U=g<<6&192|E;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class $N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zA=function(i){const e=UA(i);return Jg.encodeByteArray(e,!0)},wf=function(i){return zA(i).replace(/\./g,"")},Cf=function(i){try{return Jg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JN(i){return BA(void 0,i)}function BA(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!ZN(t)||(i[t]=BA(i[t],e[t]));return i}function ZN(i){return i!=="__proto__"}function eO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tO=()=>eO().__FIREBASE_DEFAULTS__,nO=()=>{if(typeof process>"u"||typeof iS>"u")return;const i=iS.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},iO=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Cf(i[1]);return e&&JSON.parse(e)},id=()=>{try{return WN()||tO()||nO()||iO()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},jA=i=>id()?.emulatorHosts?.[i],HA=i=>{const e=jA(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},FA=()=>id()?.config,qA=i=>id()?.[`_${i}`];class sd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function jr(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zg(i){return(await fetch(i,{credentials:"include"})).ok}function GA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[wf(JSON.stringify(t)),wf(JSON.stringify(c)),""].join(".")}const Mu={};function sO(){const i={prod:[],emulator:[]};for(const e of Object.keys(Mu))Mu[e]?i.emulator.push(e):i.prod.push(e);return i}function rO(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let sS=!1;function e_(i,e){if(typeof window>"u"||typeof document>"u"||!jr(window.location.host)||Mu[i]===e||Mu[i]||sS)return;Mu[i]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=sO().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{sS=!0,c()},b}function v(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=rO(s),D=t("text"),U=document.getElementById(D)||document.createElement("span"),Q=t("learnmore"),H=document.getElementById(Q)||document.createElement("a"),ne=t("preprendIcon"),se=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const re=b.element;d(re),v(H,Q);const ge=g();p(se,ne),re.append(se,U,H,ge),document.body.appendChild(re)}l?(U.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function aO(){const i=id()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lO(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uO(){const i=gn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function cO(){return LA.NODE_ADMIN===!0}function hO(){return!aO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fO(){try{return typeof indexedDB=="object"}catch{return!1}}function dO(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const mO="FirebaseError";class Us extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=mO,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?pO(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Us(a,d,s)}}function pO(i,e){return i.replace(gO,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const gO=/\{\$([^}]+)}/g;function Qu(i){return JSON.parse(i)}function on(i){return JSON.stringify(i)}const YA=function(i){let e={},t={},s={},a="";try{const l=i.split(".");e=Qu(Cf(l[0])||""),t=Qu(Cf(l[1])||""),a=l[2],s=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:s,signature:a}},_O=function(i){const e=YA(i),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},yO=function(i){const e=YA(i).claims;return typeof e=="object"&&e.admin===!0};function zs(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Qo(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function ag(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Rf(i,e,t){const s={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=e.call(t,i[a],a,i));return s}function Mr(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=i[a],c=e[a];if(rS(l)&&rS(c)){if(!Mr(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function rS(i){return i!==null&&typeof i=="object"}function xa(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}class vO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const s=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)s[E]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let E=0;E<16;E++)s[E]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let E=16;E<80;E++){const b=s[E-3]^s[E-8]^s[E-14]^s[E-16];s[E]=(b<<1|b>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],d=this.chain_[3],p=this.chain_[4],g,v;for(let E=0;E<80;E++){E<40?E<20?(g=d^l&(c^d),v=1518500249):(g=l^c^d,v=1859775393):E<60?(g=l&c|d&(l|c),v=2400959708):(g=l^c^d,v=3395469782);const b=(a<<5|a>>>27)+g+p+v+s[E]&4294967295;p=d,d=c,c=(l<<30|l>>>2)&4294967295,l=a,a=b}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const s=t-this.blockSize;let a=0;const l=this.buf_;let c=this.inbuf_;for(;a<t;){if(c===0)for(;a<=s;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<t;)if(l[c]=e.charCodeAt(a),++c,++a,c===this.blockSize){this.compress_(l),c=0;break}}else for(;a<t;)if(l[c]=e[a],++c,++a,c===this.blockSize){this.compress_(l),c=0;break}}this.inbuf_=c,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=t&255,t/=256;this.compress_(this.buf_);let s=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[a]>>l&255,++s;return e}}function EO(i,e){const t=new TO(i,e);return t.subscribe.bind(t)}class TO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");SO(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=xp),a.error===void 0&&(a.error=xp),a.complete===void 0&&(a.complete=xp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SO(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function xp(){}function n_(i,e){return`${i} failed: ${e} argument `}const AO=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);if(a>=55296&&a<=56319){const l=a-55296;s++,le(s<i.length,"Surrogate pair missing trail surrogate.");const c=i.charCodeAt(s)-56320;a=65536+(l<<10)+c}a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):a<65536?(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},rd=function(i){let e=0;for(let t=0;t<i.length;t++){const s=i.charCodeAt(t);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,t++):e+=3}return e};function _n(i){return i&&i._delegate?i._delegate:i}class Pr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ea="[DEFAULT]";class bO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new sd;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CO(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wO(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wO(i){return i===Ea?void 0:i}function CO(i){return i.instantiationMode==="EAGER"}class RO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const IO={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},NO=ke.INFO,OO={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},DO=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=OO[e];if(a)console[a](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ad{constructor(e){this.name=e,this._logLevel=NO,this._logHandler=DO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const MO=(i,e)=>e.some(t=>i instanceof t);let aS,oS;function PO(){return aS||(aS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kO(){return oS||(oS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QA=new WeakMap,og=new WeakMap,WA=new WeakMap,Vp=new WeakMap,i_=new WeakMap;function xO(i){const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(wr(i.result)),a()},c=()=>{s(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&QA.set(t,i)}).catch(()=>{}),i_.set(e,i),e}function VO(i){if(og.has(i))return;const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});og.set(i,e)}let lg={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return og.get(i);if(e==="objectStoreNames")return i.objectStoreNames||WA.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function LO(i){lg=i(lg)}function UO(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Lp(this),e,...t);return WA.set(s,e.sort?e.sort():[e]),wr(s)}:kO().includes(i)?function(...e){return i.apply(Lp(this),e),wr(QA.get(this))}:function(...e){return wr(i.apply(Lp(this),e))}}function zO(i){return typeof i=="function"?UO(i):(i instanceof IDBTransaction&&VO(i),MO(i,PO())?new Proxy(i,lg):i)}function wr(i){if(i instanceof IDBRequest)return xO(i);if(Vp.has(i))return Vp.get(i);const e=zO(i);return e!==i&&(Vp.set(i,e),i_.set(e,i)),e}const Lp=i=>i_.get(i);function BO(i,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=wr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(wr(c.result),p.oldVersion,p.newVersion,wr(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const jO=["get","getKey","getAll","getAllKeys","count"],HO=["put","add","delete","clear"],Up=new Map;function lS(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Up.get(e))return Up.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=HO.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||jO.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return Up.set(e,l),l}LO(i=>({...i,get:(e,t,s)=>lS(e,t)||i.get(e,t,s),has:(e,t)=>!!lS(e,t)||i.has(e,t)}));class FO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qO(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function qO(i){return i.getComponent()?.type==="VERSION"}const ug="@firebase/app",uS="0.14.6";const Os=new ad("@firebase/app"),GO="@firebase/app-compat",KO="@firebase/analytics-compat",YO="@firebase/analytics",QO="@firebase/app-check-compat",WO="@firebase/app-check",XO="@firebase/auth",$O="@firebase/auth-compat",JO="@firebase/database",ZO="@firebase/data-connect",eD="@firebase/database-compat",tD="@firebase/functions",nD="@firebase/functions-compat",iD="@firebase/installations",sD="@firebase/installations-compat",rD="@firebase/messaging",aD="@firebase/messaging-compat",oD="@firebase/performance",lD="@firebase/performance-compat",uD="@firebase/remote-config",cD="@firebase/remote-config-compat",hD="@firebase/storage",fD="@firebase/storage-compat",dD="@firebase/firestore",mD="@firebase/ai",pD="@firebase/firestore-compat",gD="firebase",_D="12.6.0";const cg="[DEFAULT]",yD={[ug]:"fire-core",[GO]:"fire-core-compat",[YO]:"fire-analytics",[KO]:"fire-analytics-compat",[WO]:"fire-app-check",[QO]:"fire-app-check-compat",[XO]:"fire-auth",[$O]:"fire-auth-compat",[JO]:"fire-rtdb",[ZO]:"fire-data-connect",[eD]:"fire-rtdb-compat",[tD]:"fire-fn",[nD]:"fire-fn-compat",[iD]:"fire-iid",[sD]:"fire-iid-compat",[rD]:"fire-fcm",[aD]:"fire-fcm-compat",[oD]:"fire-perf",[lD]:"fire-perf-compat",[uD]:"fire-rc",[cD]:"fire-rc-compat",[hD]:"fire-gcs",[fD]:"fire-gcs-compat",[dD]:"fire-fst",[pD]:"fire-fst-compat",[mD]:"fire-vertex","fire-js":"fire-js",[gD]:"fire-js-all"};const If=new Map,vD=new Map,hg=new Map;function cS(i,e){try{i.container.addComponent(e)}catch(t){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ra(i){const e=i.name;if(hg.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;hg.set(e,i);for(const t of If.values())cS(t,i);for(const t of vD.values())cS(t,i);return!0}function od(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ei(i){return i==null?!1:i.settings!==void 0}const ED={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new hc("app","Firebase",ED);class TD{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}const Va=_D;function XA(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:cg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Cr.create("bad-app-name",{appName:String(a)});if(t||(t=FA()),!t)throw Cr.create("no-options");const l=If.get(a);if(l){if(Mr(t,l.options)&&Mr(s,l.config))return l;throw Cr.create("duplicate-app",{appName:a})}const c=new RO(a);for(const p of hg.values())c.addComponent(p);const d=new TD(t,s,c);return If.set(a,d),d}function s_(i=cg){const e=If.get(i);if(!e&&i===cg&&FA())return XA();if(!e)throw Cr.create("no-app",{appName:i});return e}function Qi(i,e,t){let s=yD[i]??i;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(c.join(" "));return}Ra(new Pr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const SD="firebase-heartbeat-database",AD=1,Wu="firebase-heartbeat-store";let zp=null;function $A(){return zp||(zp=BO(SD,AD,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Wu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Cr.create("idb-open",{originalErrorMessage:i.message})})),zp}async function bD(i){try{const t=(await $A()).transaction(Wu),s=await t.objectStore(Wu).get(JA(i));return await t.done,s}catch(e){if(e instanceof Us)Os.warn(e.message);else{const t=Cr.create("idb-get",{originalErrorMessage:e?.message});Os.warn(t.message)}}}async function hS(i,e){try{const s=(await $A()).transaction(Wu,"readwrite");await s.objectStore(Wu).put(e,JA(i)),await s.done}catch(t){if(t instanceof Us)Os.warn(t.message);else{const s=Cr.create("idb-set",{originalErrorMessage:t?.message});Os.warn(s.message)}}}function JA(i){return`${i.name}!${i.options.appId}`}const wD=1024,CD=30;class RD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ND(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>CD){const a=OD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fS(),{heartbeatsToSend:t,unsentEntries:s}=ID(this._heartbeatsCache.heartbeats),a=wf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Os.warn(e),""}}}function fS(){return new Date().toISOString().substring(0,10)}function ID(i,e=wD){const t=[];let s=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),dS(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),dS(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class ND{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fO()?dO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bD(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function dS(i){return wf(JSON.stringify({version:2,heartbeats:i})).length}function OD(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function DD(i){Ra(new Pr("platform-logger",e=>new FO(e),"PRIVATE")),Ra(new Pr("heartbeat",e=>new RD(e),"PRIVATE")),Qi(ug,uS,i),Qi(ug,uS,"esm2020"),Qi("fire-js","")}DD("");var mS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rr,ZA;(function(){var i;function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(k,O,V){for(var R=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)R[xe-2]=arguments[xe];return w.prototype[O].apply(k,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,w,C){C||(C=0);const k=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)k[O]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(O=0;O<16;++O)k[O]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],O=I.g[2];let V=I.g[3],R;R=w+(V^C&(O^V))+k[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(O^w&(C^O))+k[1]+3905402710&4294967295,V=w+(R<<12&4294967295|R>>>20),R=O+(C^V&(w^C))+k[2]+606105819&4294967295,O=V+(R<<17&4294967295|R>>>15),R=C+(w^O&(V^w))+k[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(V^C&(O^V))+k[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(O^w&(C^O))+k[5]+1200080426&4294967295,V=w+(R<<12&4294967295|R>>>20),R=O+(C^V&(w^C))+k[6]+2821735955&4294967295,O=V+(R<<17&4294967295|R>>>15),R=C+(w^O&(V^w))+k[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(V^C&(O^V))+k[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(O^w&(C^O))+k[9]+2336552879&4294967295,V=w+(R<<12&4294967295|R>>>20),R=O+(C^V&(w^C))+k[10]+4294925233&4294967295,O=V+(R<<17&4294967295|R>>>15),R=C+(w^O&(V^w))+k[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(V^C&(O^V))+k[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(O^w&(C^O))+k[13]+4254626195&4294967295,V=w+(R<<12&4294967295|R>>>20),R=O+(C^V&(w^C))+k[14]+2792965006&4294967295,O=V+(R<<17&4294967295|R>>>15),R=C+(w^O&(V^w))+k[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(O^V&(C^O))+k[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^O&(w^C))+k[6]+3225465664&4294967295,V=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(V^w))+k[11]+643717713&4294967295,O=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(O^V))+k[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^V&(C^O))+k[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^O&(w^C))+k[10]+38016083&4294967295,V=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(V^w))+k[15]+3634488961&4294967295,O=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(O^V))+k[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^V&(C^O))+k[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^O&(w^C))+k[14]+3275163606&4294967295,V=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(V^w))+k[3]+4107603335&4294967295,O=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(O^V))+k[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^V&(C^O))+k[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^O&(w^C))+k[2]+4243563512&4294967295,V=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(V^w))+k[7]+1735328473&4294967295,O=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(O^V))+k[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(C^O^V)+k[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^O)+k[8]+2272392833&4294967295,V=w+(R<<11&4294967295|R>>>21),R=O+(V^w^C)+k[11]+1839030562&4294967295,O=V+(R<<16&4294967295|R>>>16),R=C+(O^V^w)+k[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^V)+k[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^O)+k[4]+1272893353&4294967295,V=w+(R<<11&4294967295|R>>>21),R=O+(V^w^C)+k[7]+4139469664&4294967295,O=V+(R<<16&4294967295|R>>>16),R=C+(O^V^w)+k[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^V)+k[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^O)+k[0]+3936430074&4294967295,V=w+(R<<11&4294967295|R>>>21),R=O+(V^w^C)+k[3]+3572445317&4294967295,O=V+(R<<16&4294967295|R>>>16),R=C+(O^V^w)+k[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^V)+k[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^O)+k[12]+3873151461&4294967295,V=w+(R<<11&4294967295|R>>>21),R=O+(V^w^C)+k[15]+530742520&4294967295,O=V+(R<<16&4294967295|R>>>16),R=C+(O^V^w)+k[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(O^(C|~V))+k[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~O))+k[7]+1126891415&4294967295,V=w+(R<<10&4294967295|R>>>22),R=O+(w^(V|~C))+k[14]+2878612391&4294967295,O=V+(R<<15&4294967295|R>>>17),R=C+(V^(O|~w))+k[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~V))+k[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~O))+k[3]+2399980690&4294967295,V=w+(R<<10&4294967295|R>>>22),R=O+(w^(V|~C))+k[10]+4293915773&4294967295,O=V+(R<<15&4294967295|R>>>17),R=C+(V^(O|~w))+k[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~V))+k[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~O))+k[15]+4264355552&4294967295,V=w+(R<<10&4294967295|R>>>22),R=O+(w^(V|~C))+k[6]+2734768916&4294967295,O=V+(R<<15&4294967295|R>>>17),R=C+(V^(O|~w))+k[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~V))+k[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~O))+k[11]+3174756917&4294967295,V=w+(R<<10&4294967295|R>>>22),R=O+(w^(V|~C))+k[2]+718787259&4294967295,O=V+(R<<15&4294967295|R>>>17),R=C+(V^(O|~w))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+V&4294967295}s.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,k=this.C;let O=this.h,V=0;for(;V<w;){if(O==0)for(;V<=C;)a(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<w;)if(k[O++]=I.charCodeAt(V++),O==this.blockSize){a(this,k),O=0;break}}else for(;V<w;)if(k[O++]=I[V++],O==this.blockSize){a(this,k),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)I[w++]=this.g[C]>>>k&255;return I};function l(I,w){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function c(I,w){this.h=w;const C=[];let k=!0;for(let O=I.length-1;O>=0;O--){const V=I[O]|0;k&&V==w||(C[O]=V,k=!1)}this.g=C}var d={};function p(I){return-128<=I&&I<128?l(I,function(w){return new c([w|0],w<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return H(g(-I));const w=[];let C=1;for(let k=0;I>=C;k++)w[k]=I/C|0,C*=4294967296;return new c(w,0)}function v(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return H(v(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let k=E;for(let V=0;V<I.length;V+=8){var O=Math.min(8,I.length-V);const R=parseInt(I.substring(V,V+O),w);O<8?(O=g(Math.pow(w,O)),k=k.j(O).add(g(R))):(k=k.j(C),k=k.add(g(R)))}return k}var E=p(0),b=p(1),D=p(16777216);i=c.prototype,i.m=function(){if(Q(this))return-H(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);I+=(k>=0?k:4294967296+k)*w,w*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(Q(this))return"-"+H(this).toString(I);const w=g(Math.pow(I,6));var C=this;let k="";for(;;){const O=ge(C,w).g;C=ne(C,O.j(w));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,U(C))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function Q(I){return I.h==-1}i.l=function(I){return I=ne(this,I),Q(I)?-1:U(I)?0:1};function H(I){const w=I.g.length,C=[];for(let k=0;k<w;k++)C[k]=~I.g[k];return new c(C,~I.h).add(b)}i.abs=function(){return Q(this)?H(this):this},i.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let k=0;for(let O=0;O<=w;O++){let V=k+(this.i(O)&65535)+(I.i(O)&65535),R=(V>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);k=R>>>16,V&=65535,R&=65535,C[O]=R<<16|V}return new c(C,C[C.length-1]&-2147483648?-1:0)};function ne(I,w){return I.add(H(w))}i.j=function(I){if(U(this)||U(I))return E;if(Q(this))return Q(I)?H(this).j(H(I)):H(H(this).j(I));if(Q(I))return H(this.j(H(I)));if(this.l(D)<0&&I.l(D)<0)return g(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var k=0;k<2*w;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<I.g.length;O++){const V=this.i(k)>>>16,R=this.i(k)&65535,xe=I.i(O)>>>16,ye=I.i(O)&65535;C[2*k+2*O]+=R*ye,se(C,2*k+2*O),C[2*k+2*O+1]+=V*ye,se(C,2*k+2*O+1),C[2*k+2*O+1]+=R*xe,se(C,2*k+2*O+1),C[2*k+2*O+2]+=V*xe,se(C,2*k+2*O+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new c(C,0)};function se(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function re(I,w){this.g=I,this.h=w}function ge(I,w){if(U(w))throw Error("division by zero");if(U(I))return new re(E,E);if(Q(I))return w=ge(H(I),w),new re(H(w.g),H(w.h));if(Q(w))return w=ge(I,H(w)),new re(H(w.g),w.h);if(I.g.length>30){if(Q(I)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var C=b,k=w;k.l(I)<=0;)C=Te(C),k=Te(k);var O=Ae(C,1),V=Ae(k,1);for(k=Ae(k,2),C=Ae(C,2);!U(k);){var R=V.add(k);R.l(I)<=0&&(O=O.add(C),V=R),k=Ae(k,1),C=Ae(C,1)}return w=ne(I,O.j(w)),new re(O,w)}for(O=E;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=g(C),R=V.j(w);Q(R)||R.l(I)>0;)C-=k,V=g(C),R=V.j(w);U(V)&&(V=b),O=O.add(V),I=ne(I,R)}return new re(O,I)}i.B=function(I){return ge(this,I).h},i.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)&I.i(k);return new c(C,this.h&I.h)},i.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)|I.i(k);return new c(C,this.h|I.h)},i.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)^I.i(k);return new c(C,this.h^I.h)};function Te(I){const w=I.g.length+1,C=[];for(let k=0;k<w;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new c(C,I.h)}function Ae(I,w){const C=w>>5;w%=32;const k=I.g.length-C,O=[];for(let V=0;V<k;V++)O[V]=w>0?I.i(V+C)>>>w|I.i(V+C+1)<<32-w:I.i(V+C);return new c(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ZA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Rr=c}).apply(typeof mS<"u"?mS:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eb,Ru,tb,df,fg,nb,ib,sb;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=t(this);function a(h,_){if(_)e:{var T=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var L=h[A];if(!(L in T))break e;T=T[L]}h=h[h.length-1],A=T[h],_=_(A),_!=A&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&T.push([A,_[A]]);return T}});var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=p,g.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function E(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,L,G){for(var ae=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ae[Re-2]=arguments[Re];return _.prototype[L].apply(A,ae)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const _=h.length;if(_>0){const T=Array(_);for(let A=0;A<_;A++)T[A]=h[A];return T}return[]}function U(h,_){for(let A=1;A<arguments.length;A++){const L=arguments[A];var T=typeof L;if(T=T!="object"?T:L?Array.isArray(L)?"array":T:"null",T=="array"||T=="object"&&typeof L.length=="number"){T=h.length||0;const G=L.length||0;h.length=T+G;for(let ae=0;ae<G;ae++)h[T+ae]=L[ae]}else h.push(L)}}class Q{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function H(h){c.setTimeout(()=>{throw h},0)}function ne(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class se{constructor(){this.h=this.g=null}add(_,T){const A=re.get();A.set(_,T),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new Q(()=>new ge,h=>h.reset());class ge{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,Ae=!1,I=new se,w=()=>{const h=Promise.resolve(void 0);Te=()=>{h.then(C)}};function C(){for(var h;h=ne();){try{h.h.call(h.g)}catch(T){H(T)}var _=re;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}Ae=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function xe(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}E(xe,O),xe.prototype.init=function(h,_){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),q=0;function oe(h,_,T,A,L){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!A,this.ha=L,this.key=++q,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,_,T){for(const A in h)_.call(T,h[A],A,h)}function Ke(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function P(h){const _={};for(const T in h)_[T]=h[T];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(h,_){let T,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(T in A)h[T]=A[T];for(let G=0;G<J.length;G++)T=J[G],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function Z(h){this.src=h,this.g={},this.h=0}Z.prototype.add=function(h,_,T,A,L){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const ae=Ne(h,_,A,L);return ae>-1?(_=h[ae],T||(_.fa=!1)):(_=new oe(_,this.src,G,!!A,L),_.fa=T,h.push(_)),_};function _e(h,_){const T=_.type;if(T in h.g){var A=h.g[T],L=Array.prototype.indexOf.call(A,_,void 0),G;(G=L>=0)&&Array.prototype.splice.call(A,L,1),G&&(de(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ne(h,_,T,A){for(let L=0;L<h.length;++L){const G=h[L];if(!G.da&&G.listener==_&&G.capture==!!T&&G.ha==A)return L}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),zt={};function mt(h,_,T,A,L){if(Array.isArray(_)){for(let G=0;G<_.length;G++)mt(h,_[G],T,A,L);return null}return T=yl(T),h&&h[ye]?h.J(_,T,d(A)?!!A.capture:!1,L):Fr(h,_,T,!1,A,L)}function Fr(h,_,T,A,L,G){if(!_)throw Error("Invalid event type");const ae=d(L)?!!L.capture:!!L;let Re=qr(h);if(Re||(h[Fe]=Re=new Z(h)),T=Re.add(_,T,A,ae,G),T.proxy)return T;if(A=Fa(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)V||(L=ae),L===void 0&&(L=!1),h.addEventListener(_.toString(),A,L);else if(h.attachEvent)h.attachEvent(bi(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Fa(){function h(T){return _.call(h.src,h.listener,T)}const _=gl;return h}function qa(h,_,T,A,L){if(Array.isArray(_))for(var G=0;G<_.length;G++)qa(h,_[G],T,A,L);else A=d(A)?!!A.capture:!!A,T=yl(T),h&&h[ye]?(h=h.i,G=String(_).toString(),G in h.g&&(_=h.g[G],T=Ne(_,T,A,L),T>-1&&(de(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[G],h.h--)))):h&&(h=qr(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ne(_,T,A,L)),(T=h>-1?_[h]:null)&&Ga(T))}function Ga(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ye])_e(_.i,h);else{var T=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(T,A,h.capture):_.detachEvent?_.detachEvent(bi(T),A):_.addListener&&_.removeListener&&_.removeListener(A),(T=qr(_))?(_e(T,h),T.h==0&&(T.src=null,_[Fe]=null)):de(h)}}}function bi(h){return h in zt?zt[h]:zt[h]="on"+h}function gl(h,_){if(h.da)h=!0;else{_=new xe(_,this);const T=h.listener,A=h.ha||h.src;h.fa&&Ga(h),h=T.call(A,_)}return h}function qr(h){return h=h[Fe],h instanceof Z?h:null}var _l="__closure_events_fn_"+(Math.random()*1e9>>>0);function yl(h){return typeof h=="function"?h:(h[_l]||(h[_l]=function(_){return h.handleEvent(_)}),h[_l])}function Ct(){k.call(this),this.i=new Z(this),this.M=this,this.G=null}E(Ct,k),Ct.prototype[ye]=!0,Ct.prototype.removeEventListener=function(h,_,T,A){qa(this,h,_,T,A)};function Bt(h,_){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var L=_;_=new O(A,h),X(_,L)}L=!0;let G,ae;if(T)for(ae=T.length-1;ae>=0;ae--)G=_.g=T[ae],L=Bs(G,A,!0,_)&&L;if(G=_.g=h,L=Bs(G,A,!0,_)&&L,L=Bs(G,A,!1,_)&&L,T)for(ae=0;ae<T.length;ae++)G=_.g=T[ae],L=Bs(G,A,!1,_)&&L}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let A=0;A<T.length;A++)de(T[A]);delete h.g[_],h.h--}}this.G=null},Ct.prototype.J=function(h,_,T,A){return this.i.add(String(h),_,!1,T,A)},Ct.prototype.K=function(h,_,T,A){return this.i.add(String(h),_,!0,T,A)};function Bs(h,_,T,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let L=!0;for(let G=0;G<_.length;++G){const ae=_[G];if(ae&&!ae.da&&ae.capture==T){const Re=ae.listener,St=ae.ha||ae.src;ae.fa&&_e(h.i,ae),L=Re.call(St,A)!==!1&&L}}return L&&!A.defaultPrevented}function Nd(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function wc(h){h.g=Nd(()=>{h.g=null,h.i&&(h.i=!1,wc(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class yn extends k{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:wc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(h){k.call(this),this.h=h,this.g={}}E(Gr,k);var vl=[];function El(h){De(h.g,function(_,T){this.g.hasOwnProperty(T)&&Ga(_)},h),h.g={}}Gr.prototype.N=function(){Gr.Z.N.call(this),El(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=c.JSON.stringify,Od=c.JSON.parse,Cc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Rc(){}function Ic(){}var ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){O.call(this,"d")}E(Jt,O);function jn(){O.call(this,"c")}E(jn,O);var Tt={},Nc=null;function Ka(){return Nc=Nc||new Ct}Tt.Ia="serverreachability";function Oc(h){O.call(this,Tt.Ia,h)}E(Oc,O);function wi(h){const _=Ka();Bt(_,new Oc(_))}Tt.STAT_EVENT="statevent";function Kr(h,_){O.call(this,Tt.STAT_EVENT,h),this.stat=_}E(Kr,O);function Rt(h){const _=Ka();Bt(_,new Kr(_,h))}Tt.Ja="timingevent";function Ci(h,_){O.call(this,Tt.Ja,h),this.size=_}E(Ci,O);function Ri(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Dd(h,_,T,A,L,G){h.info(function(){if(h.g)if(G){var ae="",Re=G.split("&");for(let We=0;We<Re.length;We++){var St=Re[We].split("=");if(St.length>1){const pt=St[0];St=St[1];const Gn=pt.split("_");ae=Gn.length>=2&&Gn[1]=="type"?ae+(pt+"="+St+"&"):ae+(pt+"=redacted&")}}}else ae=null;else ae=G;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+_+`
`+T+`
`+ae})}function Dc(h,_,T,A,L,G,ae){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+_+`
`+T+`
`+G+" "+ae})}function Ii(h,_,T,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Md(h,T)+(A?" "+A:"")})}function Yr(h,_){h.info(function(){return"TIMEOUT: "+_})}ai.prototype.info=function(){};function Md(h,_){if(!h.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var T=G[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return js(G)}catch{return _}}var Qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function Wr(){}E(Wr,Rc),Wr.prototype.g=function(){return new XMLHttpRequest},Sl=new Wr;function is(h){return encodeURIComponent(String(h))}function Mc(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function oi(h,_,T,A){this.j=h,this.i=_,this.l=T,this.S=A||1,this.V=new Gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var It={},Gt={};function Ni(h,_,T){h.M=1,h.A=Xr(Ot(_)),h.u=T,h.R=!0,Ya(h,null)}function Ya(h,_){h.F=Date.now(),Oi(h),h.B=Ot(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),$a(T.i,"t",A),h.C=0,T=h.j.L,h.h=new li,h.g=Yc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new yn(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,A=h.ba;var L="readystatechange";Array.isArray(L)||(L&&(vl[0]=L.toString()),L=vl);for(let G=0;G<L.length;G++){const ae=mt(T,L[G],A||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),wi(),Dd(h.i,h.v,h.B,h.l,h.S,h.u)}oi.prototype.ba=function(h){h=h.target;const _=this.O;_&&hi(h)==3?_.j():this.Y(h)},oi.prototype.Y=function(h){try{if(h==this.g)e:{const Re=hi(this.g),St=this.g.ya(),We=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||Re!=4||St==7||(St==8||We<=0?wi(3):wi(2)),Di(this);var _=this.g.ca();this.X=_;var T=Pd(this);if(this.o=_==200,Dc(this.i,this.v,this.B,this.l,this.S,Re,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var G=A;break t}}G=null}if(h=G)Ii(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,h);else{this.o=!1,this.m=3,Rt(12),Dn(this),Hn(this);break e}}if(this.R){h=!0;let pt;for(;!this.K&&this.C<T.length;)if(pt=kc(this,T),pt==Gt){Re==4&&(this.m=4,Rt(14),h=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==It){this.m=4,Rt(15),Ii(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ii(this.i,this.l,pt,null),Mi(this,pt);if(Pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||T.length!=0||this.h.h||(this.m=1,Rt(16),h=!1),this.o=this.o&&h,!h)Ii(this.i,this.l,T,"[Invalid Chunked Response]"),Dn(this),Hn(this);else if(T.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ll(ae),ae.P=!0,Rt(11))}}else Ii(this.i,this.l,T,null),Mi(this,T);Re==4&&Dn(this),this.o&&!this.K&&(Re==4?Fc(this.j,this):(this.o=!1,Oi(this)))}else rs(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Dn(this),Hn(this)}}}catch{}finally{}};function Pd(h){if(!Pc(h))return h.g.la();const _=Zt(h.g);if(_==="")return"";let T="";const A=_.length,L=hi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Dn(h),Hn(h),"";h.h.i=new c.TextDecoder}for(let G=0;G<A;G++)h.h.h=!0,T+=h.h.i.decode(_[G],{stream:!(L&&G==A-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Pc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function kc(h,_){var T=h.C,A=_.indexOf(`
`,T);return A==-1?Gt:(T=Number(_.substring(T,A)),isNaN(T)?It:(A+=1,A+T>_.length?Gt:(_=_.slice(A,A+T),h.C=A+T,_)))}oi.prototype.cancel=function(){this.K=!0,Dn(this)};function Oi(h){h.T=Date.now()+h.H,Qa(h,h.H)}function Qa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ri(g(h.aa,h),_)}function Di(h){h.D&&(c.clearTimeout(h.D),h.D=null)}oi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Yr(this.i,this.B),this.M!=2&&(wi(),Rt(17)),Dn(this),this.m=2,Hn(this)):Qa(this,this.T-h)};function Hn(h){h.j.I==0||h.K||Fc(h.j,h)}function Dn(h){Di(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,El(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Mi(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||ki(T.h,h))){if(!h.L&&ki(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)no(T),Ws(T);else break e;ia(T),Rt(18)}}else T.xa=L[1],0<T.xa-T.K&&L[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ri(g(T.Va,T),6e3));Pi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Bi(T,11)}else if((h.L||T.g==h)&&no(T),!R(_))for(L=T.Ba.g.parse(_),_=0;_<L.length;_++){let We=L[_];const pt=We[0];if(!(pt<=T.K))if(T.K=pt,We=We[1],T.I==2)if(We[0]=="c"){T.M=We[1],T.ba=We[2];const Gn=We[3];Gn!=null&&(T.ka=Gn,T.j.info("VER="+T.ka));const ji=We[4];ji!=null&&(T.za=ji,T.j.info("SVER="+T.za));const fi=We[5];fi!=null&&typeof fi=="number"&&fi>0&&(A=1.5*fi,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const di=h.g;if(di){const sa=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var G=A.h;G.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(wl(G,G.h),G.h=null))}if(A.G){const io=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(A.wa=io,Ze(A.J,A.G,io))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var ae=h;if(A.na=Kc(A,A.L?A.ba:null,A.W),ae.L){Cl(A.h,ae);var Re=ae,St=A.O;St&&(Re.H=St),Re.D&&(Di(Re),Oi(Re)),A.g=ae}else jc(A);T.i.length>0&&zi(T)}else We[0]!="stop"&&We[0]!="close"||Bi(T,7);else T.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Bi(T,7):xl(T):We[0]!="noop"&&T.l&&T.l.qa(We),T.A=0)}}wi(4)}catch{}}var Nt=class{constructor(h,_){this.g=h,this.map=_}};function Al(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pi(h){return h.h?1:h.g?h.g.size:0}function ki(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function wl(h,_){h.g?h.g.add(_):h.h=_}function Cl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Al.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return D(h.i)}var xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let L,G=null;A>=0?(L=h[T].substring(0,A),G=h[T].substring(A+1)):L=h[T],_(L,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Mn?(this.l=h.l,Kt(this,h.j),this.o=h.o,this.g=h.g,Hs(this,h.u),this.h=h.h,Il(this,zc(h.i)),this.m=h.m):h&&(_=String(h).match(xc))?(this.l=!1,Kt(this,_[1]||"",!0),this.o=xi(_[2]||""),this.g=xi(_[3]||"",!0),Hs(this,_[4]),this.h=xi(_[5]||"",!0),Il(this,_[6]||"",!0),this.m=xi(_[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}Mn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push($r(_,Xa,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push($r(_,Xa,!0),"@"),h.push(is(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push($r(T,T.charAt(0)=="/"?Nl:Vc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",$r(T,Lc)),h.join("")},Mn.prototype.resolve=function(h){const _=Ot(this);let T=!!h.j;T?Kt(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var A=h.h;if(T)Hs(_,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=_.h.lastIndexOf("/");L!=-1&&(A=_.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const G=[];for(let ae=0;ae<L.length;){const Re=L[ae++];Re=="."?A&&ae==L.length&&G.push(""):Re==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&ae==L.length&&G.push("")):(G.push(Re),A=!0)}A=G.join("/")}else A=L}return T?_.h=A:T=h.i.toString()!=="",T?Il(_,zc(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Ot(h){return new Mn(h)}function Kt(h,_,T){h.j=T?xi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Hs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Il(h,_,T){_ instanceof qs?(h.i=_,Ja(h.i,h.l)):(T||(_=$r(_,Fs)),h.i=new qs(_,h.l))}function Ze(h,_,T){h.i.set(_,T)}function Xr(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function xi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function $r(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Tn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Tn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xa=/[#\/\?@]/g,Vc=/[#\?:]/g,Nl=/[#\?]/g,Fs=/[#\?@]/g,Lc=/#/g;function qs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Sn(h){h.g||(h.g=new Map,h.h=0,h.i&&Wa(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}i=qs.prototype,i.add=function(h,_){Sn(this),this.i=null,h=Gs(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Uc(h,_){Sn(h),_=Gs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ol(h,_){return Sn(h),_=Gs(h,_),h.g.has(_)}i.forEach=function(h,_){Sn(this),this.g.forEach(function(T,A){T.forEach(function(L){h.call(_,L,A,this)},this)},this)};function Dl(h,_){Sn(h);let T=[];if(typeof _=="string")Ol(h,_)&&(T=T.concat(h.g.get(Gs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}i.set=function(h,_){return Sn(this),this.i=null,h=Gs(this,h),Ol(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},i.get=function(h,_){return h?(h=Dl(this,h),h.length>0?String(h[0]):_):_};function $a(h,_,T){Uc(h,_),T.length>0&&(h.i=null,h.g.set(Gs(h,_),D(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var T=_[A];const L=is(T);T=Dl(this,T);for(let G=0;G<T.length;G++){let ae=L;T[G]!==""&&(ae+="="+is(T[G])),h.push(ae)}}return this.i=h.join("&")};function zc(h){const _=new qs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Gs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ja(h,_){_&&!h.j&&(Sn(h),h.i=null,h.g.forEach(function(T,A){const L=A.toLowerCase();A!=L&&(Uc(this,A),$a(this,L,T))},h)),h.j=_}function ui(h,_){const T=new ai;if(c.Image){const A=new Image;A.onload=v(Fn,T,"TestLoadImage: loaded",!0,_,A),A.onerror=v(Fn,T,"TestLoadImage: error",!1,_,A),A.onabort=v(Fn,T,"TestLoadImage: abort",!1,_,A),A.ontimeout=v(Fn,T,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function Ml(h,_){const T=new ai,A=new AbortController,L=setTimeout(()=>{A.abort(),Fn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(G=>{clearTimeout(L),G.ok?Fn(T,"TestPingServer: ok",!0,_):Fn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(L),Fn(T,"TestPingServer: error",!1,_)})}function Fn(h,_,T,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(T)}catch{}}function Ks(){this.g=new Cc}function Vi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Vi,Rc),Vi.prototype.g=function(){return new Jr(this.i,this.h)};function Jr(h,_){Ct.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Jr,Ct),i=Jr.prototype,i.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,ci(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Za(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Za(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ys(this):ci(this),this.readyState==3&&Za(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Ys(this))},i.Na=function(h){this.g&&(this.response=h,Ys(this))},i.ga=function(){this.g&&Ys(this)};function Ys(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ci(h)}i.setRequestHeader=function(h,_){this.A.append(h,_)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qn(h){let _="";return De(h,function(T,A){_+=A,_+=":",_+=T,_+=`\r
`}),_}function Zr(h,_,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=qn(T),typeof h=="string"?T!=null&&is(T):Ze(h,_,T))}function nt(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(nt,Ct);var Li=/^https?$/i,Pl=["POST","PUT"];i=nt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,_,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(G){ea(this,G);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)T.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())T.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(G=>G.toLowerCase()=="content-type"),L=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Pl,_,void 0)>=0)||A||L||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of T)this.g.setRequestHeader(G,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){ea(this,G)}};function ea(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,kl(h),ss(h)}function kl(h){h.A||(h.A=!0,Bt(h,"complete"),Bt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Bt(this,"complete"),Bt(this,"abort"),ss(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},i.Xa=function(){ta(this)};function ta(h){if(h.h&&typeof l<"u"){if(h.v&&hi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Bt(h,"readystatechange"),hi(h)==4){h.h=!1;try{const G=h.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var A;if(A=G===0){let ae=String(h.D).match(xc)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),A=!Li.test(ae?ae.toLowerCase():"")}T=A}if(T)Bt(h,"complete"),Bt(h,"success");else{h.o=6;try{var L=hi(h)>2?h.g.statusText:""}catch{L=""}h.l=L+" ["+h.ca()+"]",kl(h)}}finally{ss(h)}}}}function ss(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||Bt(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function hi(h){return h.g?h.g.readyState:0}i.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Od(_)}};function Zt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(h){const _={};h=(h.g&&hi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(R(h[A]))continue;var T=Mc(h[A]);const L=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const G=_[L]||[];_[L]=G,G.push(T)}Ke(_,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Qs(h){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,h),this.Za=Ui("retryDelaySeedMs",1e4,h),this.Ta=Ui("forwardChannelMaxRetries",2,h),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(h&&h.concurrentRequestLimit),this.Ba=new Ks,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Qs.prototype,i.ka=8,i.I=1,i.connect=function(h,_,T,A){Rt(0),this.W=h,this.H=_||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=Kc(this,null,this.W),zi(this)};function xl(h){if(eo(h),h.I==3){var _=h.V++,T=Ot(h.J);if(Ze(T,"SID",h.M),Ze(T,"RID",_),Ze(T,"TYPE","terminate"),na(h,T),_=new oi(h,h.j,_),_.M=2,_.A=Xr(Ot(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=Yc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Oi(_)}Gc(h)}function Ws(h){h.g&&(Ll(h),h.g.cancel(),h.g=null)}function eo(h){Ws(h),h.v&&(c.clearTimeout(h.v),h.v=null),no(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function zi(h){if(!bl(h.h)&&!h.m){h.m=!0;var _=h.Ea;Te||w(),Ae||(Te(),Ae=!0),I.add(_,h),h.D=0}}function to(h,_){return Pi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ri(g(h.Ea,h,_),qc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const L=new oi(this,this.j,h);let G=this.o;if(this.U&&(G?(G=P(G),X(G,this.U)):G=this.U),this.u!==null||this.R||(L.J=G,G=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Bc(this,L,_),T=Ot(this.J),Ze(T,"RID",h),Ze(T,"CVER",22),this.G&&Ze(T,"X-HTTP-Session-Id",this.G),na(this,T),G&&(this.R?_="headers="+is(qn(G))+"&"+_:this.u&&Zr(T,this.u,G)),wl(this.h,L),this.Ra&&Ze(T,"TYPE","init"),this.S?(Ze(T,"$req",_),Ze(T,"SID","null"),L.U=!0,Ni(L,T,null)):Ni(L,T,_),this.I=2}}else this.I==3&&(h?Vl(this,h):this.i.length==0||bl(this.h)||Vl(this))};function Vl(h,_){var T;_?T=_.l:T=h.V++;const A=Ot(h.J);Ze(A,"SID",h.M),Ze(A,"RID",T),Ze(A,"AID",h.K),na(h,A),h.u&&h.o&&Zr(A,h.u,h.o),T=new oi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Bc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),wl(h.h,T),Ni(T,A,_)}function na(h,_){h.H&&De(h.H,function(T,A){Ze(_,A,T)}),h.l&&De({},function(T,A){Ze(_,A,T)})}function Bc(h,_,T){T=Math.min(h.i.length,T);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var L=h.i;let Re=-1;for(;;){const St=["count="+T];Re==-1?T>0?(Re=L[0].g,St.push("ofs="+Re)):Re=0:St.push("ofs="+Re);let We=!0;for(let pt=0;pt<T;pt++){var G=L[pt].g;const Gn=L[pt].map;if(G-=Re,G<0)Re=Math.max(0,L[pt].g-100),We=!1;else try{G="req"+G+"_"||"";try{var ae=Gn instanceof Map?Gn:Object.entries(Gn);for(const[ji,fi]of ae){let di=fi;d(fi)&&(di=js(fi)),St.push(G+ji+"="+encodeURIComponent(di))}}catch(ji){throw St.push(G+"type="+encodeURIComponent("_badmap")),ji}}catch{A&&A(Gn)}}if(We){ae=St.join("&");break e}}ae=void 0}return h=h.i.splice(0,T),_.G=h,ae}function jc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;Te||w(),Ae||(Te(),Ae=!0),I.add(_,h),h.A=0}}function ia(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ri(g(h.Da,h),qc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ri(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Ws(this),Hc(this))};function Ll(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Hc(h){h.g=new oi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ot(h.na);Ze(_,"RID","rpc"),Ze(_,"SID",h.M),Ze(_,"AID",h.K),Ze(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(_,"TO",h.ia),Ze(_,"TYPE","xmlhttp"),na(h,_),h.u&&h.o&&Zr(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Xr(Ot(_)),T.u=null,T.R=!0,Ya(T,h)}i.Va=function(){this.C!=null&&(this.C=null,Ws(this),ia(this),Rt(19))};function no(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Fc(h,_){var T=null;if(h.g==_){no(h),Ll(h),h.g=null;var A=2}else if(ki(h.h,_))T=_.G,Cl(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var L=h.D;A=Ka(),Bt(A,new Ci(A,T)),zi(h)}else jc(h);else if(L=_.m,L==3||L==0&&_.X>0||!(A==1&&to(h,_)||A==2&&ia(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),L){case 1:Bi(h,5);break;case 4:Bi(h,10);break;case 3:Bi(h,6);break;default:Bi(h,2)}}}function qc(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Bi(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),A=h.Ua;const L=!A;A=new Mn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Kt(A,"https"),Xr(A),L?ui(A.toString(),T):Ml(A.toString(),T)}else Rt(2);h.I=0,h.l&&h.l.pa(_),Gc(h),eo(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Gc(h){if(h.I=0,h.ja=[],h.l){const _=Rl(h.h);(_.length!=0||h.i.length!=0)&&(U(h.ja,_),U(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function Kc(h,_,T){var A=T instanceof Mn?Ot(T):new Mn(T);if(A.g!="")_&&(A.g=_+"."+A.g),Hs(A,A.u);else{var L=c.location;A=L.protocol,_=_?_+"."+L.hostname:L.hostname,L=+L.port;const G=new Mn(null);A&&Kt(G,A),_&&(G.g=_),L&&Hs(G,L),T&&(G.h=T),A=G}return T=h.G,_=h.wa,T&&_&&Ze(A,T,_),Ze(A,"VER",h.ka),na(h,A),A}function Yc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new nt(new Vi({ab:T})):new nt(h.ma),_.Fa(h.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qc(){}i=Qc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Xs(){}Xs.prototype.g=function(h,_){return new vn(h,_)};function vn(h,_){Ct.call(this),this.g=new Qs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!R(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new as(this)}E(vn,Ct),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){xl(this.g)},vn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=js(h),h=T);_.i.push(new Nt(_.Ya++,h)),_.I==3&&zi(_)},vn.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,vn.Z.N.call(this)};function Wc(h){Jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}E(Wc,Jt);function Xc(){jn.call(this),this.status=1}E(Xc,jn);function as(h){this.g=h}E(as,Qc),as.prototype.ra=function(){Bt(this.g,"a")},as.prototype.qa=function(h){Bt(this.g,new Wc(h))},as.prototype.pa=function(h){Bt(this.g,new Xc)},as.prototype.oa=function(){Bt(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,sb=function(){return new Xs},ib=function(){return Ka()},nb=Tt,fg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,df=Qr,Tl.COMPLETE="complete",tb=Tl,Ic.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,Ru=Ic,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,eb=nt}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const pS="@firebase/firestore",gS="4.9.2";class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let ul="12.3.0";const Ia=new ad("@firebase/firestore");function xo(){return Ia.logLevel}function ue(i,...e){if(Ia.logLevel<=ke.DEBUG){const t=e.map(r_);Ia.debug(`Firestore (${ul}): ${i}`,...t)}}function Ds(i,...e){if(Ia.logLevel<=ke.ERROR){const t=e.map(r_);Ia.error(`Firestore (${ul}): ${i}`,...t)}}function Wo(i,...e){if(Ia.logLevel<=ke.WARN){const t=e.map(r_);Ia.warn(`Firestore (${ul}): ${i}`,...t)}}function r_(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Se(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,rb(i,s,t)}function rb(i,e,t){let s=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ds(s),new Error(s)}function Je(i,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,i||rb(e,a,s)}function Ce(i,e){return i}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Us{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ab{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(fn.UNAUTHENTICATED)))}shutdown(){}}class PD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class kD{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ir,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ir)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new ab(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class xD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new xD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _S{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const s=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _S(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _S(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class a_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=UD(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function dg(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const a=i.charAt(s),l=e.charAt(s);if(a!==l)return Bp(a)===Bp(l)?Ue(a,l):Bp(a)?1:-1}return Ue(i.length,e.length)}const zD=55296,BD=57343;function Bp(i){const e=i.charCodeAt(0);return e>=zD&&e<=BD}function Xo(i,e,t){return i.length===e.length&&i.every(((s,a)=>t(s,e[a])))}const yS="__name__";class Ki{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Se(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Ki.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ue(e.length,t.length)}static compareSegments(e,t){const s=Ki.isNumericId(e),a=Ki.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Ki.extractNumericId(e).compare(Ki.extractNumericId(t)):dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class _t extends Ki{construct(e,t,s){return new _t(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new _t(t)}static emptyPath(){return new _t([])}}const jD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Ki{construct(e,t,s){return new ln(e,t,s)}static isValidIdentifier(e){return jD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yS}static keyField(){return new ln([yS])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(_t.fromString(e))}static fromName(e){return new ve(_t.fromString(e).popFirst(5))}static empty(){return new ve(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new _t(e.slice()))}}function HD(i,e,t){if(!t)throw new me(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function FD(i,e,t,s){if(e===!0&&s===!0)throw new me(ie.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function vS(i){if(!ve.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ob(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function o_(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Xu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=o_(i);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Lt(i,e){const t={typeString:i};return e&&(t.value=e),t}function fc(i,e){if(!ob(i))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const c=i[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new me(ie.INVALID_ARGUMENT,t);return!0}const ES=-62135596800,TS=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*TS);return new ft(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ES)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TS}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ES;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Lt("string",ft._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ft(0,0))}static max(){return new be(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $u=-1;function qD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=be.fromTimestamp(s===1e9?new ft(t+1,0):new ft(t,s));return new kr(a,ve.empty(),e)}function GD(i){return new kr(i.readTime,i.key,$u)}class kr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new kr(be.min(),ve.empty(),$u)}static max(){return new kr(be.max(),ve.empty(),$u)}}function KD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:Ue(i.largestBatchId,e.largestBatchId))}const YD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cl(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==YD)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,s)=>{t(e)}))}static reject(e){return new te(((t,s)=>{s(e)}))}static waitFor(e){return new te(((t,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>s(p)))})),c=!0,l===a&&t()}))}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next((a=>a?te.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new te(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++d,d===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new te(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function WD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hl(i){return i.name==="IndexedDbTransactionError"}class ld{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ld.ce=-1;const l_=-1;function ud(i){return i==null}function Nf(i){return i===0&&1/i==-1/0}function XD(i){return typeof i=="number"&&Number.isInteger(i)&&!Nf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const lb="";function $D(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=SS(e)),e=JD(i.get(t),e);return SS(e)}function JD(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case lb:t+="";break;default:t+=l}}return t}function SS(i){return i+lb+""}function AS(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function La(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ub(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}let Ut=class mg{constructor(e,t){this.comparator=e,this.root=t||Nr.EMPTY}insert(e,t){return new mg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nr.BLACK,null,null))}remove(e){return new mg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}},nf=class{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Nr=class Ss{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Ss.RED,this.left=a??Ss.EMPTY,this.right=l??Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Ss(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ss.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}};Nr.EMPTY=null,Nr.RED=!0,Nr.BLACK=!1;Nr.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new Nr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bS(this.data.getIterator())}getIteratorFrom(e){return new bS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class bS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yi{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new yi([])}unionWith(e){let t=new qt(ln.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new yi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cb("Invalid base64 string: "+l):l}})(e);return new un(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const ZD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(i){if(Je(!!i,39018),typeof i=="string"){let e=0;const t=ZD.exec(i);if(Je(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(i.seconds),nanos:wt(i.nanos)}}function wt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Vr(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}const hb="server_timestamp",fb="__type__",db="__previous_value__",mb="__local_write_time__";function u_(i){return(i?.mapValue?.fields||{})[fb]?.stringValue===hb}function cd(i){const e=i.mapValue.fields[db];return u_(e)?cd(e):e}function Ju(i){const e=xr(i.mapValue.fields[mb].timestampValue);return new ft(e.seconds,e.nanos)}class e2{constructor(e,t,s,a,l,c,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Of="(default)";class Zu{constructor(e,t){this.projectId=e,this.database=t||Of}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database===Of}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}const pb="__type__",t2="__max__",sf={mapValue:{}},gb="__vector__",Df="value";function Lr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?u_(i)?4:i2(i)?9007199254740991:n2(i)?10:11:Se(28295,{value:i})}function Zi(i,e){if(i===e)return!0;const t=Lr(i);if(t!==Lr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ju(i).isEqual(Ju(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=xr(a.timestampValue),d=xr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,l){return Vr(a.bytesValue).isEqual(Vr(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)})(i,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),d=wt(l.doubleValue);return c===d?Nf(c)===Nf(d):isNaN(c)&&isNaN(d)}return!1})(i,e);case 9:return Xo(i.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(AS(c)!==AS(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Zi(c[p],d[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function ec(i,e){return(i.values||[]).find((t=>Zi(t,e)))!==void 0}function $o(i,e){if(i===e)return 0;const t=Lr(i),s=Lr(e);if(t!==s)return Ue(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=wt(l.integerValue||l.doubleValue),p=wt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(i,e);case 3:return wS(i.timestampValue,e.timestampValue);case 4:return wS(Ju(i),Ju(e));case 5:return dg(i.stringValue,e.stringValue);case 6:return(function(l,c){const d=Vr(l),p=Vr(c);return d.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Ue(d[g],p[g]);if(v!==0)return v}return Ue(d.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ue(wt(l.latitude),wt(c.latitude));return d!==0?d:Ue(wt(l.longitude),wt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return CS(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[Df]?.arrayValue,v=p[Df]?.arrayValue,E=Ue(g?.values?.length||0,v?.values?.length||0);return E!==0?E:CS(g,v)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===sf.mapValue&&c===sf.mapValue)return 0;if(l===sf.mapValue)return 1;if(c===sf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const b=dg(p[E],v[E]);if(b!==0)return b;const D=$o(d[p[E]],g[v[E]]);if(D!==0)return D}return Ue(p.length,v.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function wS(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const t=xr(i),s=xr(e),a=Ue(t.seconds,s.seconds);return a!==0?a:Ue(t.nanos,s.nanos)}function CS(i,e){const t=i.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=$o(t[a],s[a]);if(l)return l}return Ue(t.length,s.length)}function Jo(i){return pg(i)}function pg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=xr(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Vr(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ve.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=pg(l);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${pg(t.fields[c])}`;return a+"}"})(i.mapValue):Se(61005,{value:i})}function mf(i){switch(Lr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cd(i);return e?16+mf(e):16;case 5:return 2*i.stringValue.length;case 6:return Vr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+mf(l)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return La(s.fields,((l,c)=>{a+=l.length+mf(c)})),a})(i.mapValue);default:throw Se(13486,{value:i})}}function gg(i){return!!i&&"integerValue"in i}function c_(i){return!!i&&"arrayValue"in i}function RS(i){return!!i&&"nullValue"in i}function IS(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function pf(i){return!!i&&"mapValue"in i}function n2(i){return(i?.mapValue?.fields||{})[pb]?.stringValue===gb}function Pu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return La(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Pu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pu(i.arrayValue.values[t]);return e}return{...i}}function i2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(t)}setAll(e){let t=ln.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=Pu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){La(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new ti(Pu(this.value))}}function _b(i){const e=[];return La(i.fields,((t,s)=>{const a=new ln([t]);if(pf(s)){const l=_b(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new yi(e)}class dn{constructor(e,t,s,a,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,be.min(),be.min(),be.min(),ti.empty(),0)}static newFoundDocument(e,t,s,a){return new dn(e,1,t,be.min(),s,a,0)}static newNoDocument(e,t){return new dn(e,2,t,be.min(),be.min(),ti.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,be.min(),be.min(),ti.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mf{constructor(e,t){this.position=e,this.inclusive=t}}function NS(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(c.referenceValue),t.key):s=$o(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function OS(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Zi(i.position[t],e.position[t]))return!1;return!0}class Pf{constructor(e,t="asc"){this.field=e,this.dir=t}}function s2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class yb{}class Ht extends yb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new a2(e,t,s):t==="array-contains"?new u2(e,s):t==="in"?new c2(e,s):t==="not-in"?new h2(e,s):t==="array-contains-any"?new f2(e,s):new Ht(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new o2(e,s):new l2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($o(t,this.value)):t!==null&&Lr(this.value)===Lr(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends yb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new es(e,t)}matches(e){return vb(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vb(i){return i.op==="and"}function Eb(i){return r2(i)&&vb(i)}function r2(i){for(const e of i.filters)if(e instanceof es)return!1;return!0}function _g(i){if(i instanceof Ht)return i.field.canonicalString()+i.op.toString()+Jo(i.value);if(Eb(i))return i.filters.map((e=>_g(e))).join(",");{const e=i.filters.map((t=>_g(t))).join(",");return`${i.op}(${e})`}}function Tb(i,e){return i instanceof Ht?(function(s,a){return a instanceof Ht&&s.op===a.op&&s.field.isEqual(a.field)&&Zi(s.value,a.value)})(i,e):i instanceof es?(function(s,a){return a instanceof es&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&Tb(c,a.filters[d])),!0):!1})(i,e):void Se(19439)}function Sb(i){return i instanceof Ht?(function(t){return`${t.field.canonicalString()} ${t.op} ${Jo(t.value)}`})(i):i instanceof es?(function(t){return t.op.toString()+" {"+t.getFilters().map(Sb).join(" ,")+"}"})(i):"Filter"}class a2 extends Ht{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class o2 extends Ht{constructor(e,t){super(e,"in",t),this.keys=Ab("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class l2 extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=Ab("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ab(i,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class u2 extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return c_(t)&&ec(t.arrayValue,this.value)}}class c2 extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ec(this.value.arrayValue,t)}}class h2 extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ec(this.value.arrayValue,t)}}class f2 extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!c_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>ec(this.value.arrayValue,s)))}}class d2{constructor(e,t=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function DS(i,e=null,t=[],s=[],a=null,l=null,c=null){return new d2(i,e,t,s,a,l,c)}function h_(i){const e=Ce(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>_g(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Jo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Jo(s))).join(",")),e.Te=t}return e.Te}function f_(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!s2(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Tb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!OS(i.startAt,e.startAt)&&OS(i.endAt,e.endAt)}function yg(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class hd{constructor(e,t=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m2(i,e,t,s,a,l,c,d){return new hd(i,e,t,s,a,l,c,d)}function d_(i){return new hd(i)}function MS(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function p2(i){return i.collectionGroup!==null}function ku(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new qt(ln.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Pf(l,s))})),t.has(ln.keyField().canonicalString())||e.Ie.push(new Pf(ln.keyField(),s))}return e.Ie}function Wi(i){const e=Ce(i);return e.Ee||(e.Ee=g2(e,ku(i))),e.Ee}function g2(i,e){if(i.limitType==="F")return DS(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Pf(a.field,l)}));const t=i.endAt?new Mf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mf(i.startAt.position,i.startAt.inclusive):null;return DS(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function vg(i,e,t){return new hd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function fd(i,e){return f_(Wi(i),Wi(e))&&i.limitType===e.limitType}function bb(i){return`${h_(Wi(i))}|lt:${i.limitType}`}function Vo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>Sb(a))).join(", ")}]`),ud(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>Jo(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>Jo(a))).join(",")),`Target(${s})`})(Wi(i))}; limitType=${i.limitType})`}function dd(i,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(i,e)&&(function(s,a){for(const l of ku(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,p){const g=NS(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,ku(s),a)||s.endAt&&!(function(c,d,p){const g=NS(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,ku(s),a))})(i,e)}function _2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function wb(i){return(e,t)=>{let s=!1;for(const a of ku(i)){const l=y2(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function y2(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?$o(p,g):Se(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}class Ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return ub(this.inner)}size(){return this.innerSize}}const v2=new Ut(ve.comparator);function Ms(){return v2}const Cb=new Ut(ve.comparator);function Iu(...i){let e=Cb;for(const t of i)e=e.insert(t.key,t);return e}function Rb(i){let e=Cb;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Sa(){return xu()}function Ib(){return xu()}function xu(){return new Ua((i=>i.toString()),((i,e)=>i.isEqual(e)))}const E2=new Ut(ve.comparator),T2=new qt(ve.comparator);function Be(...i){let e=T2;for(const t of i)e=e.add(t);return e}const S2=new qt(Ue);function A2(){return S2}function m_(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(e)?"-0":e}}function Nb(i){return{integerValue:""+i}}function b2(i,e){return XD(e)?Nb(e):m_(i,e)}class md{constructor(){this._=void 0}}function w2(i,e,t){return i instanceof kf?(function(a,l){const c={fields:{[fb]:{stringValue:hb},[mb]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&u_(l)&&(l=cd(l)),l&&(c.fields[db]=l),{mapValue:c}})(t,e):i instanceof tc?Db(i,e):i instanceof nc?Mb(i,e):(function(a,l){const c=Ob(a,l),d=PS(c)+PS(a.Ae);return gg(c)&&gg(a.Ae)?Nb(d):m_(a.serializer,d)})(i,e)}function C2(i,e,t){return i instanceof tc?Db(i,e):i instanceof nc?Mb(i,e):t}function Ob(i,e){return i instanceof xf?(function(s){return gg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class kf extends md{}class tc extends md{constructor(e){super(),this.elements=e}}function Db(i,e){const t=Pb(e);for(const s of i.elements)t.some((a=>Zi(a,s)))||t.push(s);return{arrayValue:{values:t}}}class nc extends md{constructor(e){super(),this.elements=e}}function Mb(i,e){let t=Pb(e);for(const s of i.elements)t=t.filter((a=>!Zi(a,s)));return{arrayValue:{values:t}}}class xf extends md{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function PS(i){return wt(i.integerValue||i.doubleValue)}function Pb(i){return c_(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function R2(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof tc&&a instanceof tc||s instanceof nc&&a instanceof nc?Xo(s.elements,a.elements,Zi):s instanceof xf&&a instanceof xf?Zi(s.Ae,a.Ae):s instanceof kf&&a instanceof kf})(i.transform,e.transform)}class I2{constructor(e,t){this.version=e,this.transformResults=t}}class Rs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class pd{}function kb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Vb(i.key,Rs.none()):new dc(i.key,i.data,Rs.none());{const t=i.data,s=ti.empty();let a=new qt(ln.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new za(i.key,s,new yi(a.toArray()),Rs.none())}}function N2(i,e,t){i instanceof dc?(function(a,l,c){const d=a.value.clone(),p=xS(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,e,t):i instanceof za?(function(a,l,c){if(!gf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=xS(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(xb(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Vu(i,e,t,s){return i instanceof dc?(function(l,c,d,p){if(!gf(l.precondition,c))return d;const g=l.value.clone(),v=VS(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof za?(function(l,c,d,p){if(!gf(l.precondition,c))return d;const g=VS(l.fieldTransforms,p,c),v=c.data;return v.setAll(xb(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(i,e,t,s):(function(l,c,d){return gf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,e,t)}function O2(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),l=Ob(s.transform,a||null);l!=null&&(t===null&&(t=ti.empty()),t.set(s.field,l))}return t||null}function kS(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Xo(s,a,((l,c)=>R2(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class dc extends pd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class za extends pd{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xb(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function xS(i,e,t){const s=new Map;Je(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,C2(c,d,t[a]))}return s}function VS(i,e,t){const s=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);s.set(a.field,w2(l,c,e))}return s}class Vb extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D2 extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class M2{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&N2(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Vu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Vu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ib();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=kb(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,((t,s)=>kS(t,s)))&&Xo(this.baseMutations,e.baseMutations,((t,s)=>kS(t,s)))}}class p_{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return E2})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new p_(e,t,s,a)}}class P2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class k2{constructor(e,t){this.count=e,this.unchangedNames=t}}var xt,qe;function x2(i){switch(i){case ie.OK:return Se(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function Lb(i){if(i===void 0)return Ds("GRPC error has no .code"),ie.UNKNOWN;switch(i){case xt.OK:return ie.OK;case xt.CANCELLED:return ie.CANCELLED;case xt.UNKNOWN:return ie.UNKNOWN;case xt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case xt.INTERNAL:return ie.INTERNAL;case xt.UNAVAILABLE:return ie.UNAVAILABLE;case xt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case xt.NOT_FOUND:return ie.NOT_FOUND;case xt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case xt.ABORTED:return ie.ABORTED;case xt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case xt.DATA_LOSS:return ie.DATA_LOSS;default:return Se(39323,{code:i})}}(qe=xt||(xt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function V2(){return new TextEncoder}const L2=new Rr([4294967295,4294967295],0);function LS(i){const e=V2().encode(i),t=new ZA;return t.update(e),new Uint8Array(t.digest())}function US(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Rr([t,s],0),new Rr([a,l],0)]}class g_{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Nu(`Invalid padding: ${t}`);if(s<0)throw new Nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Rr.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Rr.fromNumber(s)));return a.compare(L2)===1&&(a=new Rr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=LS(e),[s,a]=US(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new g_(l,a,t);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=LS(e),[s,a]=US(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gd{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new gd(be.min(),a,new Ut(Ue),Ms(),Be())}}class mc{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new mc(s,t,Be(),Be(),Be())}}class _f{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class Ub{constructor(e,t){this.targetId=e,this.Ce=t}}class zb{constructor(e,t,s=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class zS{constructor(){this.ve=0,this.Fe=BS(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),s=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Se(38017,{changeType:l})}})),new mc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=BS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.Je=rf(),this.He=rf(),this.Ye=new Ut(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(yg(l))if(s===0){const c=new ve(l.path);this.et(t,c,dn.newNoDocument(c,be.min()))}else Je(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Vr(s).toUint8Array()}catch(p){if(p instanceof cb)return Wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new g_(c,a,l)}catch(p){return Wo(p instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&yg(d.target)){const p=new ve(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,dn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let s=Be();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new gd(e,t,this.Ye,this.je,s);return this.je=Ms(),this.Je=rf(),this.He=rf(),this.Ye=new Ut(Ue),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new zS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rf(){return new Ut(ve.comparator)}function BS(){return new Ut(ve.comparator)}const z2={asc:"ASCENDING",desc:"DESCENDING"},B2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j2={and:"AND",or:"OR"};class H2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Eg(i,e){return i.useProto3Json||ud(e)?e:{value:e}}function Vf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function F2(i,e){return Vf(i,e.toTimestamp())}function Xi(i){return Je(!!i,49232),be.fromTimestamp((function(t){const s=xr(t);return new ft(s.seconds,s.nanos)})(i))}function __(i,e){return Tg(i,e).canonicalString()}function Tg(i,e){const t=(function(a){return new _t(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?t:t.child(e)}function jb(i){const e=_t.fromString(i);return Je(Kb(e),10190,{key:e.toString()}),e}function Sg(i,e){return __(i.databaseId,e.path)}function jp(i,e){const t=jb(e);if(t.get(1)!==i.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(Fb(t))}function Hb(i,e){return __(i.databaseId,e)}function q2(i){const e=jb(i);return e.length===4?_t.emptyPath():Fb(e)}function Ag(i){return new _t(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Fb(i){return Je(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function jS(i,e,t){return{name:Sg(i,e),fields:t.value.mapValue.fields}}function G2(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Je(v===void 0||typeof v=="string",58123),un.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),un.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ie.UNKNOWN:Lb(g.code);return new me(v,g.message||"")})(c);t=new zb(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=jp(i,s.document.name),l=Xi(s.document.updateTime),c=s.document.createTime?Xi(s.document.createTime):be.min(),d=new ti({mapValue:{fields:s.document.fields}}),p=dn.newFoundDocument(a,l,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];t=new _f(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=jp(i,s.document),l=s.readTime?Xi(s.readTime):be.min(),c=dn.newNoDocument(a,l),d=s.removedTargetIds||[];t=new _f([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=jp(i,s.document),l=s.removedTargetIds||[];t=new _f([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new k2(a,l),d=s.targetId;t=new Ub(d,c)}}return t}function K2(i,e){let t;if(e instanceof dc)t={update:jS(i,e.key,e.value)};else if(e instanceof Vb)t={delete:Sg(i,e.key)};else if(e instanceof za)t={update:jS(i,e.key,e.data),updateMask:tM(e.fieldMask)};else{if(!(e instanceof D2))return Se(16599,{Vt:e.type});t={verify:Sg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof kf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof tc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof nc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:F2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(i,e.precondition)),t}function Y2(i,e){return i&&i.length>0?(Je(e!==void 0,14353),i.map((t=>(function(a,l){let c=a.updateTime?Xi(a.updateTime):Xi(l);return c.isEqual(be.min())&&(c=Xi(l)),new I2(c,a.transformResults||[])})(t,e)))):[]}function Q2(i,e){return{documents:[Hb(i,e.path)]}}function W2(i,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Hb(i,a);const l=(function(g){if(g.length!==0)return Gb(es.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(b){return{field:Lo(b.field),direction:J2(b.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Eg(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function X2(i){let e=q2(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Je(s===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(E){const b=qb(E);return b instanceof es&&Eb(b)?b.getFilters():[b]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((b=>(function(U){return new Pf(Uo(U.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(b)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let b;return b=typeof E=="object"?E.value:E,ud(b)?null:b})(t.limit));let p=null;t.startAt&&(p=(function(E){const b=!!E.before,D=E.values||[];return new Mf(D,b)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const b=!E.before,D=E.values||[];return new Mf(D,b)})(t.endAt)),m2(e,a,c,l,d,"F",p,g)}function $2(i,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qb(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Uo(t.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Uo(t.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(t.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(t.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ht.create(Uo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return es.create(t.compositeFilter.filters.map((s=>qb(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(i):Se(30097,{filter:i})}function J2(i){return z2[i]}function Z2(i){return B2[i]}function eM(i){return j2[i]}function Lo(i){return{fieldPath:i.canonicalString()}}function Uo(i){return ln.fromServerFormat(i.fieldPath)}function Gb(i){return i instanceof Ht?(function(t){if(t.op==="=="){if(IS(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(RS(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(IS(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(RS(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:Z2(t.op),value:t.value}}})(i):i instanceof es?(function(t){const s=t.getFilters().map((a=>Gb(a)));return s.length===1?s[0]:{compositeFilter:{op:eM(t.op),filters:s}}})(i):Se(54877,{filter:i})}function tM(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Kb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class br{constructor(e,t,s,a,l=be.min(),c=be.min(),d=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nM{constructor(e){this.yt=e}}function iM(i){const e=X2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?vg(e,e.limit,"L"):e}class sM{constructor(){this.Cn=new rM}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(kr.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class rM{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new qt(_t.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new qt(_t.comparator)).toArray()}}const HS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yb=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Yb,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zo(0)}static cr(){return new Zo(-1)}}const FS="LruGarbageCollector",aM=1048576;function qS([i,e],[t,s]){const a=Ue(i,t);return a===0?Ue(e,s):a}class oM{constructor(e){this.Ir=e,this.buffer=new qt(qS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();qS(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lM{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(FS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hl(t)?ue(FS,"Ignoring IndexedDB error during garbage collection: ",t):await cl(t)}await this.Vr(3e5)}))}}class uM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(ld.ce);const s=new oM(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(HS)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(s=E,d=Date.now(),this.removeTargets(e,s,t)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(g=Date.now(),xo()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function cM(i,e){return new uM(i,e)}class hM{constructor(){this.changes=new Ua((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dM{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Vu(s.mutation,a,yi.empty(),ft.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Be()){const a=Sa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let c=Iu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Sa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Be())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,s,a){let l=Ms();const c=xu(),d=(function(){return xu()})();return t.forEach(((p,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof za)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Vu(v.mutation,g,v.mutation.getFieldMask(),ft.now())):c.set(g.key,yi.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new fM(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=xu();let a=new Ut(((c,d)=>c-d)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||yi.empty();v=d.applyToLocalView(g,v),s.set(p,v);const E=(a.get(d.batchId)||Be()).add(p);a=a.insert(d.batchId,E)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=Ib();v.forEach((b=>{if(!l.has(b)){const D=kb(t.get(b),s.get(b));D!==null&&E.set(b,D),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return te.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):p2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):te.resolve(Sa());let d=$u,p=l;return c.next((g=>te.forEach(g,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((b=>{p=p.insert(v,b)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Be()))).next((v=>({batchId:d,changes:Rb(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((s=>{let a=Iu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=Iu();return this.indexManager.getCollectionParents(e,l).next((d=>te.forEach(d,(p=>{const g=(function(E,b){return new hd(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((E,b)=>{c=c.insert(E,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,dn.newInvalidDocument(v)))}));let d=Iu();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Vu(v.mutation,g,yi.empty(),ft.now()),dd(t,g)&&(d=d.insert(p,g))})),d}))}}class mM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Xi(a.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:iM(a.bundledQuery),readTime:Xi(a.readTime)}})(t)),te.resolve()}}class pM{constructor(){this.overlays=new Ut(ve.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Sa();return te.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.St(e,t,l)})),te.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const a=Sa(),l=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return te.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Ut(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=Sa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Sa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return te.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new P2(t,s));let l=this.qr.get(t);l===void 0&&(l=Be(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}class gM{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}class y_{constructor(){this.Qr=new qt(Wt.$r),this.Ur=new qt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Wt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Wt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ve(new _t([])),s=new Wt(t,e),a=new Wt(t,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new _t([])),s=new Wt(t,e),a=new Wt(t,e+1);let l=Be();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Wt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}class _M{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Wt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new M2(l,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Wt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),l=a<0?0:a;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?l_:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Wt(t,0),a=new Wt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(Ue);return t.forEach((a=>{const l=new Wt(a,0),c=new Wt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new ve(l),0);let d=new qt(Ue);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Yr)),!0)}),c),te.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(t.mutations,(a=>{const l=new Wt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Wt(t,0),a=this.Zr.firstAfterOrEqual(s);return te.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yM{constructor(e){this.ri=e,this.docs=(function(){return new Ut(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let s=Ms();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))})),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Ms();const c=t.path,d=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||KD(GD(v),s)<=0||(a.has(v.key)||dd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Se(9500)}ii(e,t){return te.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new vM(this)}getSize(e){return te.resolve(this.size)}}class vM extends hM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class EM{constructor(e){this.persistence=e,this.si=new Ua((t=>h_(t)),f_),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new y_,this.targetCount=0,this.ai=Zo.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Zo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),te.waitFor(l).next((()=>a))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}class Qb{constructor(e,t){this.ui={},this.overlays={},this.ci=new ld(0),this.li=!1,this.li=!0,this.hi=new gM,this.referenceDelegate=e(this),this.Pi=new EM(this),this.indexManager=new sM,this.remoteDocumentCache=(function(a){return new yM(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new nM(t),this.Ii=new mM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new _M(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const a=new TM(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class TM extends QD{constructor(e){super(),this.currentSequenceNumber=e}}class v_{constructor(e){this.persistence=e,this.Ri=new y_,this.Vi=null}static mi(e){return new v_(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const a=ve.fromPath(s);return this.gi(e,a).next((l=>{l||t.removeEntry(a,be.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Lf{constructor(e,t){this.persistence=e,this.pi=new Ua((s=>$D(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=cM(this,t)}static mi(e,t){return new Lf(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?te.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(s++,l.removeEntry(c,be.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mf(e.data.value)),t}br(e,t,s){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return te.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class E_{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Be(),a=Be();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new E_(e,t.fromCache,s,a)}}class SM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hO()?8:WD(gn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new SM;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(xo()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(xo()<=ke.DEBUG&&ue("QueryEngine","Query:",Vo(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(xo()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(t))):te.resolve())}ys(e,t){if(MS(t))return te.resolve(null);let s=Wi(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=vg(t,null,"F"),s=Wi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Be(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,c,p.readTime)?this.ys(e,vg(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,s,a){return MS(t)||a.isEqual(be.min())?te.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,a)?te.resolve(null):(xo()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vo(t)),this.vs(e,c,t,qD(a,$u)).next((d=>d)))}))}Ds(e,t){let s=new qt(wb(e));return t.forEach(((a,l)=>{dd(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return xo()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.ps.getDocumentsMatchingQuery(e,t,kr.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const T_="LocalStore",bM=3e8;class wM{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Ut(Ue),this.xs=new Ua((l=>h_(l)),f_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function CM(i,e,t,s){return new wM(i,e,t,s)}async function Wb(i,e){const t=Ce(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=Be();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function RM(i,e){const t=Ce(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const E=g.batch,b=E.keys();let D=te.resolve();return b.forEach((U=>{D=D.next((()=>v.getEntry(p,U))).next((Q=>{const H=g.docVersions.get(U);Je(H!==null,48541),Q.version.compareTo(H)<0&&(E.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),v.addEntry(Q)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Be();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function Xb(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function IM(i,e){const t=Ce(i),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((v,E)=>{const b=a.get(E);if(!b)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,E))));let D=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?D=D.withResumeToken(un.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,s)),a=a.insert(E,D),(function(Q,H,ne){return Q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=bM?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(b,D,v)&&d.push(t.Pi.updateTargetData(l,D))}));let p=Ms(),g=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(NM(l,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(be.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return te.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function NM(i,e,t){let s=Be(),a=Be();return t.forEach((l=>s=s.add(l))),e.getEntries(i,s).next((l=>{let c=Ms();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ue(T_,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function OM(i,e){const t=Ce(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=l_),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function DM(i,e){const t=Ce(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((l=>l?(a=l,te.resolve(a)):t.Pi.allocateTargetId(s).next((c=>(a=new br(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function bg(i,e,t){const s=Ce(i),a=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!hl(c))throw c;ue(T_,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function GS(i,e,t){const s=Ce(i);let a=be.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=Ce(p),b=E.xs.get(v);return b!==void 0?te.resolve(E.Ms.get(b)):E.Pi.getTargetData(g,v)})(s,c,Wi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?a:be.min(),t?l:Be()))).next((d=>(MM(s,_2(e),d),{documents:d,Qs:l})))))}function MM(i,e,t){let s=i.Os.get(e)||be.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),i.Os.set(e,s)}class KS{constructor(){this.activeTargetIds=A2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PM{constructor(){this.Mo=new KS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KS,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kM{Oo(e){}shutdown(){}}const YS="ConnectivityMonitor";class QS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(YS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(YS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let af=null;function wg(){return af===null?af=(function(){return 268435456+Math.round(2147483648*Math.random())})():af++,"0x"+af.toString(16)}const Hp="RestConnection",xM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Of?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,l){const c=wg(),d=this.zo(e,t.toUriEncodedString());ue(Hp,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(d),v=jr(g);return this.Jo(e,d,p,s,v).then((E=>(ue(Hp,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Wo(Hp,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",s),E}))}Ho(e,t,s,a,l,c){return this.Go(e,t,s,a,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const s=xM[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class LM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class UM extends VM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const c=wg();return new Promise(((d,p)=>{const g=new eb;g.setWithCredentials(!0),g.listenOnce(tb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case df.NO_ERROR:const E=g.getResponseJson();ue(hn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case df.TIMEOUT:ue(hn,`RPC '${e}' ${c} timed out`),p(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const b=g.getStatus();if(ue(hn,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const U=D?.error;if(U&&U.status&&U.message){const Q=(function(ne){const se=ne.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(se)>=0?se:ie.UNKNOWN})(U.status);p(new me(Q,U.message))}else p(new me(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(hn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ue(hn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,s,15)}))}T_(e,t,s){const a=wg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sb(),d=ib(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=l.join("");ue(hn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let b=!1,D=!1;const U=new LM({Yo:H=>{D?ue(hn,`Not sending because RPC '${e}' stream ${a} is closed:`,H):(b||(ue(hn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),b=!0),ue(hn,`RPC '${e}' stream ${a} sending:`,H),E.send(H))},Zo:()=>E.close()}),Q=(H,ne,se)=>{H.listen(ne,(re=>{try{se(re)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return Q(E,Ru.EventType.OPEN,(()=>{D||(ue(hn,`RPC '${e}' stream ${a} transport opened.`),U.o_())})),Q(E,Ru.EventType.CLOSE,(()=>{D||(D=!0,ue(hn,`RPC '${e}' stream ${a} transport closed`),U.a_(),this.E_(E))})),Q(E,Ru.EventType.ERROR,(H=>{D||(D=!0,Wo(hn,`RPC '${e}' stream ${a} transport errored. Name:`,H.name,"Message:",H.message),U.a_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),Q(E,Ru.EventType.MESSAGE,(H=>{if(!D){const ne=H.data[0];Je(!!ne,16349);const se=ne,re=se?.error||se[0]?.error;if(re){ue(hn,`RPC '${e}' stream ${a} received error:`,re);const ge=re.status;let Te=(function(w){const C=xt[w];if(C!==void 0)return Lb(C)})(ge),Ae=re.message;Te===void 0&&(Te=ie.INTERNAL,Ae="Unknown error status: "+ge+" with message "+re.message),D=!0,U.a_(new me(Te,Ae)),E.close()}else ue(hn,`RPC '${e}' stream ${a} received:`,ne),U.u_(ne)}})),Q(d,nb.STAT_EVENT,(H=>{H.stat===fg.PROXY?ue(hn,`RPC '${e}' stream ${a} detected buffering proxy`):H.stat===fg.NOPROXY&&ue(hn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Fp(){return typeof document<"u"?document:null}function _d(i){return new H2(i,!0)}class $b{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const WS="PersistentStream";class Jb{constructor(e,t,s,a,l,c,d,p){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $b(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ds(t.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new me(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(WS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(WS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zM extends Jb{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=G2(this.serializer,e),s=(function(l){if(!("targetChange"in l))return be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?be.min():c.readTime?Xi(c.readTime):be.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Ag(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=yg(p)?{documents:Q2(l,p)}:{query:W2(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Bb(l,c.resumeToken);const g=Eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(be.min())>0){d.readTime=Vf(l,c.snapshotVersion.toTimestamp());const g=Eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=$2(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Ag(this.serializer),t.removeTarget=e,this.q_(t)}}class BM extends Jb{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Y2(e.writeResults,e.commitTime),s=Xi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Ag(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>K2(this.serializer,s)))};this.q_(t)}}class jM{}class HM extends jM{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Tg(t,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())}))}Ho(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Tg(t,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Na="RemoteStore";class qM{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ba(this)&&(ue(Na,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await pc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await yd(g)})(this))}))})),this.Ra=new FM(s,a)}}async function yd(i){if(Ba(i))for(const e of i.da)await e(!0)}async function pc(i){for(const e of i.da)await e(!1)}function Zb(i,e){const t=Ce(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),w_(t)?b_(t):fl(t).O_()&&A_(t,e))}function S_(i,e){const t=Ce(i),s=fl(t);t.Ia.delete(e),s.O_()&&ew(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ba(t)&&t.Ra.set("Unknown"))}function A_(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(i).Y_(e)}function ew(i,e){i.Va.Ue(e),fl(i).Z_(e)}function b_(i){i.Va=new U2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),fl(i).start(),i.Ra.ua()}function w_(i){return Ba(i)&&!fl(i).x_()&&i.Ia.size>0}function Ba(i){return Ce(i).Ea.size===0}function tw(i){i.Va=void 0}async function GM(i){i.Ra.set("Online")}async function KM(i){i.Ia.forEach(((e,t)=>{A_(i,e)}))}async function YM(i,e){tw(i),w_(i)?(i.Ra.ha(e),b_(i)):i.Ra.set("Unknown")}async function QM(i,e,t){if(i.Ra.set("Online"),e instanceof zb&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(i,e)}catch(s){ue(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uf(i,s)}else if(e instanceof _f?i.Va.Ze(e):e instanceof Ub?i.Va.st(e):i.Va.tt(e),!t.isEqual(be.min()))try{const s=await Xb(i.localStore);t.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(un.EMPTY_BYTE_STRING,v.snapshotVersion)),ew(l,p);const E=new br(v.target,p,g,v.sequenceNumber);A_(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(i,t)}catch(s){ue(Na,"Failed to raise snapshot:",s),await Uf(i,s)}}async function Uf(i,e,t){if(!hl(e))throw e;i.Ea.add(1),await pc(i),i.Ra.set("Offline"),t||(t=()=>Xb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(Na,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await yd(i)}))}function nw(i,e){return e().catch((t=>Uf(i,t,e)))}async function vd(i){const e=Ce(i),t=Ur(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:l_;for(;WM(e);)try{const a=await OM(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,XM(e,a)}catch(a){await Uf(e,a)}iw(e)&&sw(e)}function WM(i){return Ba(i)&&i.Ta.length<10}function XM(i,e){i.Ta.push(e);const t=Ur(i);t.O_()&&t.X_&&t.ea(e.mutations)}function iw(i){return Ba(i)&&!Ur(i).x_()&&i.Ta.length>0}function sw(i){Ur(i).start()}async function $M(i){Ur(i).ra()}async function JM(i){const e=Ur(i);for(const t of i.Ta)e.ea(t.mutations)}async function ZM(i,e,t){const s=i.Ta.shift(),a=p_.from(s,e,t);await nw(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await vd(i)}async function eP(i,e){e&&Ur(i).X_&&await(async function(s,a){if((function(c){return x2(c)&&c!==ie.ABORTED})(a.code)){const l=s.Ta.shift();Ur(s).B_(),await nw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await vd(s)}})(i,e),iw(i)&&sw(i)}async function XS(i,e){const t=Ce(i);t.asyncQueue.verifyOperationInProgress(),ue(Na,"RemoteStore received new credentials");const s=Ba(t);t.Ea.add(3),await pc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await yd(t)}async function tP(i,e){const t=Ce(i);e?(t.Ea.delete(2),await yd(t)):e||(t.Ea.add(2),await pc(t),t.Ra.set("Unknown"))}function fl(i){return i.ma||(i.ma=(function(t,s,a){const l=Ce(t);return l.sa(),new zM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:GM.bind(null,i),t_:KM.bind(null,i),r_:YM.bind(null,i),H_:QM.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),w_(i)?b_(i):i.Ra.set("Unknown")):(await i.ma.stop(),tw(i))}))),i.ma}function Ur(i){return i.fa||(i.fa=(function(t,s,a){const l=Ce(t);return l.sa(),new BM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:$M.bind(null,i),r_:eP.bind(null,i),ta:JM.bind(null,i),na:ZM.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await vd(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Na,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class C_{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,d=new C_(e,t,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R_(i,e){if(Ds("AsyncQueue",`${e}: ${i}`),hl(i))return new me(ie.UNAVAILABLE,`${e}: ${i}`);throw i}class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=Iu(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new jo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class $S{constructor(){this.ga=new Ut(ve.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class el{constructor(e,t,s,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new el(e,t,jo.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class nP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iP{constructor(){this.queries=JS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Ce(t),l=a.queries;a.queries=JS(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function JS(){return new Ua((i=>bb(i)),fd)}async function sP(i,e){const t=Ce(i);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new nP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=R_(c,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&I_(t)}async function rP(i,e){const t=Ce(i),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function aP(i,e){const t=Ce(i);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&I_(t)}function oP(i,e,t){const s=Ce(i),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function I_(i){i.Ca.forEach((e=>{e.next()}))}var Cg,ZS;(ZS=Cg||(Cg={})).Ma="default",ZS.Cache="cache";class lP{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new el(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cg.Cache}}class rw{constructor(e){this.key=e}}class aw{constructor(e){this.key=e}}class uP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=wb(e),this.tu=new jo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new $S,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,E)=>{const b=a.get(v),D=dd(this.query,E)?E:null,U=!!b&&this.mutatedKeys.has(b.key),Q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let H=!1;b&&D?b.data.isEqual(D.data)?U!==Q&&(s.track({type:3,doc:D}),H=!0):this.su(b,D)||(s.track({type:2,doc:D}),H=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(d=!0)):!b&&D?(s.track({type:0,doc:D}),H=!0):b&&!D&&(s.track({type:1,doc:b}),H=!0,(p||g)&&(d=!0)),H&&(D?(c=c.add(D),l=Q?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(D,U){const Q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:H})}};return Q(D)-Q(U)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(s),a=a??!1;const d=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new el(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $S,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new aw(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new rw(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const N_="SyncEngine";class cP{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class hP{constructor(e){this.key=e,this.hu=!1}}class fP{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ua((d=>bb(d)),fd),this.Iu=new Map,this.Eu=new Set,this.du=new Ut(ve.comparator),this.Au=new Map,this.Ru=new y_,this.Vu={},this.mu=new Map,this.fu=Zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dP(i,e,t=!0){const s=fw(i);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await ow(s,e,t,!0),a}async function mP(i,e){const t=fw(i);await ow(t,e,!0,!1)}async function ow(i,e,t,s){const a=await DM(i.localStore,Wi(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await pP(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&Zb(i.remoteStore,a),d}async function pP(i,e,t,s,a){i.pu=(E,b,D)=>(async function(Q,H,ne,se){let re=H.view.ru(ne);re.Cs&&(re=await GS(Q.localStore,H.query,!1).then((({documents:I})=>H.view.ru(I,re))));const ge=se&&se.targetChanges.get(H.targetId),Te=se&&se.targetMismatches.get(H.targetId)!=null,Ae=H.view.applyChanges(re,Q.isPrimaryClient,ge,Te);return t0(Q,H.targetId,Ae.au),Ae.snapshot})(i,E,b,D);const l=await GS(i.localStore,e,!0),c=new uP(e,l.Qs),d=c.ru(l.documents),p=mc.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",a),g=c.applyChanges(d,i.isPrimaryClient,p);t0(i,t,g.au);const v=new cP(e,t,c);return i.Tu.set(e,v),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function gP(i,e,t){const s=Ce(i),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!fd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await bg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&S_(s.remoteStore,a.targetId),Rg(s,a.targetId)})).catch(cl)):(Rg(s,a.targetId),await bg(s.localStore,a.targetId,!0))}async function _P(i,e){const t=Ce(i),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),S_(t.remoteStore,s.targetId))}async function yP(i,e,t){const s=wP(i);try{const a=await(function(c,d){const p=Ce(c),g=ft.now(),v=d.reduce(((D,U)=>D.add(U.key)),Be());let E,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let U=Ms(),Q=Be();return p.Ns.getEntries(D,v).next((H=>{U=H,U.forEach(((ne,se)=>{se.isValidDocument()||(Q=Q.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,U))).next((H=>{E=H;const ne=[];for(const se of d){const re=O2(se,E.get(se.key).overlayedDocument);re!=null&&ne.push(new za(se.key,re,_b(re.value.mapValue),Rs.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,ne,d)})).next((H=>{b=H;const ne=H.applyToLocalDocumentSet(E,Q);return p.documentOverlayCache.saveOverlays(D,H.batchId,ne)}))})).then((()=>({batchId:b.batchId,changes:Rb(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new Ut(Ue)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,t),await gc(s,a.changes),await vd(s.remoteStore)}catch(a){const l=R_(a,"Failed to persist write");t.reject(l)}}async function lw(i,e){const t=Ce(i);try{const s=await IM(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Je(c.hu,14607):a.removedDocuments.size>0&&(Je(c.hu,42227),c.hu=!1))})),await gc(t,s,e)}catch(s){await cl(s)}}function e0(i,e,t){const s=Ce(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=Ce(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,E)=>{for(const b of E.Sa)b.va(d)&&(g=!0)})),g&&I_(p)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vP(i,e,t){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new Ut(ve.comparator);c=c.insert(l,dn.newNoDocument(l,be.min()));const d=Be().add(l),p=new gd(be.min(),new Map,new Ut(Ue),c,d);await lw(s,p),s.du=s.du.remove(l),s.Au.delete(e),O_(s)}else await bg(s.localStore,e,!1).then((()=>Rg(s,e,t))).catch(cl)}async function EP(i,e){const t=Ce(i),s=e.batch.batchId;try{const a=await RM(t.localStore,e);cw(t,s,null),uw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await gc(t,a)}catch(a){await cl(a)}}async function TP(i,e,t){const s=Ce(i);try{const a=await(function(c,d){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(Je(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);cw(s,e,t),uw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await gc(s,a)}catch(a){await cl(a)}}function uw(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function cw(i,e,t){const s=Ce(i);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Rg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||hw(i,s)}))}function hw(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(S_(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),O_(i))}function t0(i,e,t){for(const s of t)s instanceof rw?(i.Ru.addReference(s.key,e),SP(i,s)):s instanceof aw?(ue(N_,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||hw(i,s.key)):Se(19791,{wu:s})}function SP(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ue(N_,"New document in limbo: "+t),i.Eu.add(s),O_(i))}function O_(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ve(_t.fromString(e)),s=i.fu.next();i.Au.set(s,new hP(t)),i.du=i.du.insert(t,s),Zb(i.remoteStore,new br(Wi(d_(t.path)),s,"TargetPurposeLimboResolution",ld.ce))}}async function gc(i,e,t){const s=Ce(i),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=E_.As(p.targetId,g);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(p,g){const v=Ce(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>te.forEach(g,(b=>te.forEach(b.Es,(D=>v.persistence.referenceDelegate.addReference(E,b.targetId,D))).next((()=>te.forEach(b.ds,(D=>v.persistence.referenceDelegate.removeReference(E,b.targetId,D)))))))))}catch(E){if(!hl(E))throw E;ue(T_,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const D=v.Ms.get(b),U=D.snapshotVersion,Q=D.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(b,Q)}}})(s.localStore,l))}async function AP(i,e){const t=Ce(i);if(!t.currentUser.isEqual(e)){ue(N_,"User change. New user:",e.toKey());const s=await Wb(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new me(ie.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gc(t,s.Ls)}}function bP(i,e){const t=Ce(i),s=t.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let a=Be();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function fw(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=lw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vP.bind(null,e),e.Pu.H_=aP.bind(null,e.eventManager),e.Pu.yu=oP.bind(null,e.eventManager),e}function wP(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TP.bind(null,e),e}class zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return CM(this.persistence,new AM,e.initialUser,this.serializer)}Cu(e){return new Qb(v_.mi,this.serializer)}Du(e){return new PM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zf.provider={build:()=>new zf};class CP extends zf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Je(this.persistence.referenceDelegate instanceof Lf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lM(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Qb((s=>Lf.mi(s,t)),this.serializer)}}class Ig{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>e0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AP.bind(null,this.syncEngine),await tP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iP})()}createDatastore(e){const t=_d(e.databaseInfo.databaseId),s=(function(l){return new UM(l)})(e.databaseInfo);return(function(l,c,d,p){return new HM(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,c,d){return new qM(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>e0(this.syncEngine,t,0)),(function(){return QS.v()?new QS:new kM})())}createSyncEngine(e,t){return(function(a,l,c,d,p,g,v){const E=new fP(a,l,c,d,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ce(t);ue(Na,"RemoteStore shutting down."),s.Ea.add(5),await pc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ig.provider={build:()=>new Ig};class RP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const zr="FirestoreClient";class IP{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=fn.UNAUTHENTICATED,this.clientId=a_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ue(zr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ue(zr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=R_(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qp(i,e){i.asyncQueue.verifyOperationInProgress(),ue(zr,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Wb(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function n0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await NP(i);ue(zr,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>XS(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>XS(e.remoteStore,a))),i._onlineComponents=e}async function NP(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(zr,"Using user provided OfflineComponentProvider");try{await qp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Wo("Error using user provided cache. Falling back to memory cache: "+t),await qp(i,new zf)}}else ue(zr,"Using default OfflineComponentProvider"),await qp(i,new CP(void 0));return i._offlineComponents}async function dw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(zr,"Using user provided OnlineComponentProvider"),await n0(i,i._uninitializedComponentsProvider._online)):(ue(zr,"Using default OnlineComponentProvider"),await n0(i,new Ig))),i._onlineComponents}function OP(i){return dw(i).then((e=>e.syncEngine))}async function DP(i){const e=await dw(i),t=e.eventManager;return t.onListen=dP.bind(null,e.syncEngine),t.onUnlisten=gP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_P.bind(null,e.syncEngine),t}function MP(i,e,t={}){const s=new Ir;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new RP({next:b=>{v.Nu(),c.enqueueAndForget((()=>rP(l,E)));const D=b.docs.has(d);!D&&b.fromCache?g.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new lP(d_(d.path),v,{includeMetadataChanges:!0,qa:!0});return sP(l,E)})(await DP(i),i.asyncQueue,e,t,s))),s.promise}function mw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const i0=new Map;const pw="firestore.googleapis.com",s0=!0;class r0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pw,this.ssl=s0}else this.host=e.host,this.ssl=e.ssl??s0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aM)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class D_{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new MD;switch(s.type){case"firstParty":return new VD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=i0.get(t);s&&(ue("ComponentProvider","Removing Datastore"),i0.delete(t),s.terminate())})(this),Promise.resolve()}}function PP(i,e,t,s={}){i=Xu(i,D_);const a=jr(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${t}`;a&&(Zg(`https://${d}`),e_("Firestore",!0)),l.host!==pw&&l.host!==d&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:s};if(!Mr(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=fn.MOCK_USER;else{g=GA(s.mockUserToken,i._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fn(E)}i._authCredentials=new PD(new ab(g,v))}}class M_{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new M_(this.firestore,e,this._query)}}class $t{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(fc(t,$t._jsonSchema))return new $t(e,s||null,new ve(_t.fromString(t.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:Lt("string",$t._jsonSchemaVersion),referencePath:Lt("string")};class ic extends M_{constructor(e,t,s){super(e,t,d_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new ve(e))}withConverter(e){return new ic(this.firestore,e,this._path)}}function tl(i,e,...t){if(i=_n(i),arguments.length===1&&(e=a_.newId()),HD("doc","path",e),i instanceof D_){const s=_t.fromString(e,...t);return vS(s),new $t(i,null,new ve(s))}{if(!(i instanceof $t||i instanceof ic))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(_t.fromString(e,...t));return vS(s),new $t(i.firestore,i instanceof ic?i.converter:null,new ve(s))}}const a0="AsyncQueue";class o0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $b(this,"async_queue_retry"),this._c=()=>{const s=Fp();s&&ue(a0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Fp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Fp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;ue(a0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",l0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=C_.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function l0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class P_ extends D_{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new o0,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o0(e),this._firestoreClient=void 0,await e}}}function kP(i,e){const t=typeof i=="object"?i:s_(),s=typeof i=="string"?i:Of,a=od(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=HA("firestore");l&&PP(a,...l)}return a}function gw(i){if(i._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||xP(i),i._firestoreClient}function xP(i){const e=i._freezeSettings(),t=(function(a,l,c,d){return new e2(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,mw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new IP(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(i._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(un.fromBase64String(e))}catch(t){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ni(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fc(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Lt("string",ni._jsonSchemaVersion),bytes:Lt("string")};class k_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _w{constructor(e){this._methodName=e}}class $i{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(fc(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:Lt("string",$i._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class Ji{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fc(e,Ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ji(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:Lt("string",Ji._jsonSchemaVersion),vectorValues:Lt("object")};const VP=/^__.*__$/;class LP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,t,this.fieldTransforms):new dc(e,this.data,t,this.fieldTransforms)}}function yw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class x_{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new x_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yw(this.Ac)&&VP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||_d(e)}Cc(e,t,s,a=!1){return new x_({Ac:e,methodName:t,Dc:s,path:ln.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zP(i){const e=i._freezeSettings(),t=_d(i._databaseId);return new UP(i._databaseId,!!e.ignoreUndefinedProperties,t)}function BP(i,e,t,s,a,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,t,a);Sw("Data must be an object, but it was:",c,s);const d=Ew(s,c);let p,g;if(l.merge)p=new yi(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const b=jP(e,E,t);if(!c.contains(b))throw new me(ie.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);FP(v,b)||v.push(b)}p=new yi(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new LP(new ti(d),p,g)}function vw(i,e){if(Tw(i=_n(i)))return Sw("Unsupported field value:",e,i),Ew(i,e);if(i instanceof _w)return(function(s,a){if(!yw(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let p=vw(d,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(i,e)}return(function(s,a){if((s=_n(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return b2(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ft.fromDate(s);return{timestampValue:Vf(a.serializer,l)}}if(s instanceof ft){const l=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vf(a.serializer,l)}}if(s instanceof $i)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:Bb(a.serializer,s._byteString)};if(s instanceof $t){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:__(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ji)return(function(c,d){return{mapValue:{fields:{[pb]:{stringValue:gb},[Df]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return m_(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${o_(s)}`)})(i,e)}function Ew(i,e){const t={};return ub(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(i,((s,a)=>{const l=vw(a,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function Tw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof $i||i instanceof ni||i instanceof $t||i instanceof _w||i instanceof Ji)}function Sw(i,e,t){if(!Tw(t)||!ob(t)){const s=o_(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function jP(i,e,t){if((e=_n(e))instanceof k_)return e._internalPath;if(typeof e=="string")return Aw(i,e);throw Bf("Field path arguments must be of type string or ",i,!1,void 0,t)}const HP=new RegExp("[~\\*/\\[\\]]");function Aw(i,e,t){if(e.search(HP)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new k_(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Bf(i,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new me(ie.INVALID_ARGUMENT,d+i+p)}function FP(i,e){return i.some((t=>t.isEqual(e)))}class bw{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ww("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qP extends bw{data(){return super.data()}}function ww(i,e){return typeof e=="string"?Aw(i,e):e instanceof k_?e._internalPath:e._delegate._internalPath}class GP{convertValue(e,t="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return La(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Df].arrayValue?.values?.map((s=>wt(s.doubleValue)));return new Ji(t)}convertGeoPoint(e){return new $i(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=cd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const t=xr(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=_t.fromString(e);Je(Kb(s),9688,{name:e});const a=new Zu(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return a.isEqual(t)||Ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function KP(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class Ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wa extends bw{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ww("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=wa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Lt("string",wa._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class yf extends wa{data(e={}){return super.data(e)}}class Lu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ou(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new yf(this._firestore,this._userDataWriter,s.key,s,new Ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new yf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ou(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new yf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ou(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:YP(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=a_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YP(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}function V_(i){i=Xu(i,$t);const e=Xu(i.firestore,P_);return MP(gw(e),i._key).then((t=>XP(e,i,t)))}Lu._jsonSchemaVersion="firestore/querySnapshot/1.0",Lu._jsonSchema={type:Lt("string",Lu._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class QP extends GP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,t)}}function L_(i,e,t){i=Xu(i,$t);const s=Xu(i.firestore,P_),a=KP(i.converter,e);return WP(s,[BP(zP(s),"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,Rs.none())])}function WP(i,e){return(function(s,a){const l=new Ir;return s.asyncQueue.enqueueAndForget((async()=>yP(await OP(s),a,l))),l.promise})(gw(i),e)}function XP(i,e,t){const s=t.docs.get(e._key),a=new QP(i);return new wa(i,a,e._key,s,new Ou(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){ul=a})(Va),Ra(new Pr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new P_(new kD(s.getProvider("auth-internal")),new LD(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(g.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Qi(pS,gS,e),Qi(pS,gS,"esm2020")})();var $P="firebase",JP="12.6.0";Qi($P,JP,"app");function Cw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZP=Cw,Rw=new hc("auth","Firebase",Cw());const jf=new ad("@firebase/auth");function ek(i,...e){jf.logLevel<=ke.WARN&&jf.warn(`Auth (${Va}): ${i}`,...e)}function vf(i,...e){jf.logLevel<=ke.ERROR&&jf.error(`Auth (${Va}): ${i}`,...e)}function Ps(i,...e){throw U_(i,...e)}function Bn(i,...e){return U_(i,...e)}function Iw(i,e,t){const s={...ZP(),[e]:t};return new hc("auth","Firebase",s).create(e,{appName:i.name})}function Or(i){return Iw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U_(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Rw.create(i,...e)}function ce(i,e,...t){if(!i)throw U_(e,...t)}function As(i){const e="INTERNAL ASSERTION FAILED: "+i;throw vf(e),new Error(e)}function ks(i,e){i||As(e)}function Ng(){return typeof self<"u"&&self.location?.href||""}function Nw(){return u0()==="http:"||u0()==="https:"}function u0(){return typeof self<"u"&&self.location?.protocol||null}function tk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nw()||lO()||"connection"in navigator)?navigator.onLine:!0}function nk(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class _c{constructor(e,t){this.shortDelay=e,this.longDelay=t,ks(t>e,"Short delay should be less than long delay!"),this.isMobile=t_()||KA()}get(){return tk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function z_(i,e){ks(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Ow{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ik={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rk=new _c(3e4,6e4);function ns(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ai(i,e,t,s,a={}){return Dw(i,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=xa({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...l};return oO()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&jr(i.emulatorConfig.host)&&(g.credentials="include"),Ow.fetch()(await Mw(i,i.config.apiHost,t,d),g)})}async function Dw(i,e,t){i._canInitEmulator=!1;const s={...ik,...e};try{const a=new ok(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Du(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Du(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Du(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Du(i,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Iw(i,v,g);Ps(i,v)}}catch(a){if(a instanceof Us)throw a;Ps(i,"network-request-failed",{message:String(a)})}}async function Ed(i,e,t,s,a={}){const l=await Ai(i,e,t,s,a);return"mfaPendingCredential"in l&&Ps(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function Mw(i,e,t,s){const a=`${e}${t}?${s}`,l=i,c=l.config.emulator?z_(i.config,a):`${i.config.apiScheme}://${a}`;return sk.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function ak(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ok{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Bn(this.auth,"network-request-failed")),rk.get())})}}function Du(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Bn(i,e,s);return a.customData._tokenResponse=t,a}function c0(i){return i!==void 0&&i.getResponse!==void 0}function h0(i){return i!==void 0&&i.enterprise!==void 0}class Pw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ak(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lk(i){return(await Ai(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function kw(i,e){return Ai(i,"GET","/v2/recaptchaConfig",ns(i,e))}async function uk(i,e){return Ai(i,"POST","/v1/accounts:delete",e)}async function Hf(i,e){return Ai(i,"POST","/v1/accounts:lookup",e)}function Uu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ck(i,e=!1){const t=_n(i),s=await t.getIdToken(e),a=B_(s);ce(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Uu(Gp(a.auth_time)),issuedAtTime:Uu(Gp(a.iat)),expirationTime:Uu(Gp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Gp(i){return Number(i)*1e3}function B_(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Cf(t);return a?JSON.parse(a):(vf("Failed to decode base64 JWT payload"),null)}catch(a){return vf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function f0(i){const e=B_(i);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function sc(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Us&&hk(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function hk({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class fk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Og{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ff(i){const e=i.auth,t=await i.getIdToken(),s=await sc(i,Hf(e,{idToken:t}));ce(s?.users.length,e,"internal-error");const a=s.users[0];i._notifyReloadListener(a);const l=a.providerUserInfo?.length?xw(a.providerUserInfo):[],c=mk(i.providerData,l),d=i.isAnonymous,p=!(i.email&&a.passwordHash)&&!c?.length,g=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Og(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function dk(i){const e=_n(i);await Ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mk(i,e){return[...i.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function xw(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function pk(i,e){const t=await Dw(i,{},async()=>{const s=xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=await Mw(i,a,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return i.emulatorConfig&&jr(i.emulatorConfig.host)&&(p.credentials="include"),Ow.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gk(i,e){return Ai(i,"POST","/v2/accounts:revokeToken",ns(i,e))}class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const t=f0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await pk(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new Ho;return s&&(ce(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return As("not implemented")}}function vr(i,e){ce(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new fk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Og(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await sc(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ck(this,e)}reload(){return dk(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ff(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Or(this.auth));const e=await this.getIdToken();return await sc(this,uk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:D,providerData:U,stsTokenManager:Q}=t;ce(E&&Q,e,"internal-error");const H=Ho.fromJSON(this.name,Q);ce(typeof E=="string",e,"internal-error"),vr(s,e.name),vr(a,e.name),ce(typeof b=="boolean",e,"internal-error"),ce(typeof D=="boolean",e,"internal-error"),vr(l,e.name),vr(c,e.name),vr(d,e.name),vr(p,e.name),vr(g,e.name),vr(v,e.name);const ne=new vi({uid:E,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:D,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:H,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(ne.providerData=U.map(se=>({...se}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,t,s=!1){const a=new Ho;a.updateFromServerResponse(t);const l=new vi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Ff(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?xw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Ho;d.updateFromIdToken(s);const p=new vi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Og(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const d0=new Map;function bs(i){ks(i instanceof Function,"Expected a class definition");let e=d0.get(i);return e?(ks(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,d0.set(i,e),e)}class Vw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Vw.type="NONE";const m0=Vw;function Ef(i,e,t){return`firebase:${i}:${e}:${t}`}class Fo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Ef(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ef("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hf(this.auth,{idToken:e}).catch(()=>{});return t?vi._fromGetAccountInfoResponse(this.auth,t,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Fo(bs(m0),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||bs(m0);const c=Ef(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const b=await Hf(e,{idToken:v}).catch(()=>{});if(!b)break;E=await vi._fromGetAccountInfoResponse(e,b,v)}else E=vi._fromJSON(e,v);g!==l&&(d=E),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Fo(l,e,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Fo(l,e,s))}}function p0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hw(e))return"Blackberry";if(Fw(e))return"Webos";if(Uw(e))return"Safari";if((e.includes("chrome/")||zw(e))&&!e.includes("edge/"))return"Chrome";if(jw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function Lw(i=gn()){return/firefox\//i.test(i)}function Uw(i=gn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zw(i=gn()){return/crios\//i.test(i)}function Bw(i=gn()){return/iemobile/i.test(i)}function jw(i=gn()){return/android/i.test(i)}function Hw(i=gn()){return/blackberry/i.test(i)}function Fw(i=gn()){return/webos/i.test(i)}function j_(i=gn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function _k(i=gn()){return j_(i)&&!!window.navigator?.standalone}function yk(){return uO()&&document.documentMode===10}function qw(i=gn()){return j_(i)||jw(i)||Fw(i)||Hw(i)||/windows phone/i.test(i)||Bw(i)}function Gw(i,e=[]){let t;switch(i){case"Browser":t=p0(gn());break;case"Worker":t=`${p0(gn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Va}/${s}`}class vk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Ek(i,e={}){return Ai(i,"GET","/v2/passwordPolicy",ns(i,e))}const Tk=6;class Sk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Tk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Ak{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new vk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hf(this,{idToken:e}),s=await vi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ff(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Or(this));const t=e?_n(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ek(this),t=new Sk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await gk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bs(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[bs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ek(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hr(i){return _n(i)}class g0{constructor(e){this.auth=e,this.observer=null,this.addObserver=EO(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bk(i){yc=i}function H_(i){return yc.loadJS(i)}function wk(){return yc.recaptchaV2Script}function Ck(){return yc.recaptchaEnterpriseScript}function Rk(){return yc.gapiScript}function Kw(i){return`__${i}${Math.floor(Math.random()*1e6)}`}const Ik=500,Nk=6e4,of=1e12;class Ok{constructor(e){this.auth=e,this.counter=of,this._widgets=new Map}render(e,t){const s=this.counter;return this._widgets.set(s,new Pk(e,this.auth.name,t||{})),this.counter++,s}reset(e){const t=e||of;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||of;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||of;return this._widgets.get(t)?.execute(),""}}class Dk{constructor(){this.enterprise=new Mk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Mk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Pk{constructor(e,t,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const a=typeof e=="string"?document.getElementById(e):e;ce(a,"argument-error",{appName:t}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=kk(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Nk)},Ik))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function kk(i){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<i;s++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const xk="recaptcha-enterprise",zu="NO_RECAPTCHA";class Yw{constructor(e){this.type=xk,this.auth=Hr(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{kw(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new Pw(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;h0(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(zu)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Dk().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&h0(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Ck();p.length!==0&&(p+=d),H_(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function Kp(i,e,t,s=!1,a=!1){const l=new Yw(i);let c;if(a)c=zu;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Yp(i,e,t,s,a){if(i._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const l=await Kp(i,e,t);return s(i,l).catch(async c=>{if(i._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const d=await Kp(i,e,t,!1,!0);return s(i,d)}return Promise.reject(c)})}else{const l=await Kp(i,e,t,!1,!0);return s(i,l)}}async function Vk(i){const e=Hr(i),t=await kw(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new Pw(t);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new Yw(e).verify()}function Lk(i,e){const t=od(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Mr(l,e??{}))return a;Ps(a,"already-initialized")}return t.initialize({options:e})}function Uk(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(bs);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function zk(i,e,t){const s=Hr(i);ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=Qw(e),{host:c,port:d}=Bk(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ce(Mr(g,s.config.emulator)&&Mr(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,jr(c)?(Zg(`${l}//${c}${p}`),e_("Auth",!0)):jk()}function Qw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Bk(i){const e=Qw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:_0(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:_0(c)}}}function _0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function jk(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class F_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,t){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function qo(i,e){return Ed(i,"POST","/v1/accounts:signInWithIdp",ns(i,e))}const Hk="http://localhost";class Oa extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ps("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const c=new Oa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,qo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:Hk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xa(t)}return e}}async function y0(i,e){return Ai(i,"POST","/v1/accounts:sendVerificationCode",ns(i,e))}async function Fk(i,e){return Ed(i,"POST","/v1/accounts:signInWithPhoneNumber",ns(i,e))}async function qk(i,e){const t=await Ed(i,"POST","/v1/accounts:signInWithPhoneNumber",ns(i,e));if(t.temporaryProof)throw Du(i,"account-exists-with-different-credential",t);return t}const Gk={USER_NOT_FOUND:"user-not-found"};async function Kk(i,e){const t={...e,operation:"REAUTH"};return Ed(i,"POST","/v1/accounts:signInWithPhoneNumber",ns(i,t),Gk)}class Bu extends F_{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Bu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Bu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Fk(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return qk(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Kk(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:s,verificationCode:a}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:s,code:a}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:s,phoneNumber:a,temporaryProof:l}=e;return!s&&!t&&!a&&!l?null:new Bu({verificationId:t,verificationCode:s,phoneNumber:a,temporaryProof:l})}}class Ww{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vc extends Ww{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Er extends vc{constructor(){super("facebook.com")}static credential(e){return Oa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.FACEBOOK_SIGN_IN_METHOD="facebook.com";Er.PROVIDER_ID="facebook.com";class Tr extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Tr.credential(t,s)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";class Sr extends vc{constructor(){super("github.com")}static credential(e){return Oa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";class Ar extends vc{constructor(){super("twitter.com")}static credential(e,t){return Oa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ar.credential(t,s)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";class nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await vi._fromIdTokenResponse(e,s,a),c=v0(s);return new nl({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=v0(s);return new nl({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function v0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class qf extends Us{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new qf(e,t,s,a)}}function Xw(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(i,l,e,s):l})}async function Yk(i,e,t=!1){const s=await sc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return nl._forOperation(i,"link",s)}async function Qk(i,e,t=!1){const{auth:s}=i;if(ei(s.app))return Promise.reject(Or(s));const a="reauthenticate";try{const l=await sc(i,Xw(s,a,e,i),t);ce(l.idToken,s,"internal-error");const c=B_(l.idToken);ce(c,s,"internal-error");const{sub:d}=c;return ce(i.uid===d,s,"user-mismatch"),nl._forOperation(i,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ps(s,"user-mismatch"),l}}async function $w(i,e,t=!1){if(ei(i.app))return Promise.reject(Or(i));const s="signIn",a=await Xw(i,s,e),l=await nl._fromIdTokenResponse(i,s,a);return t||await i._updateCurrentUser(l.user),l}async function Wk(i,e){return $w(Hr(i),e)}function Xk(i,e,t,s){return _n(i).onIdTokenChanged(e,t,s)}function $k(i,e,t){return _n(i).beforeAuthStateChanged(e,t)}function E0(i,e){return Ai(i,"POST","/v2/accounts/mfaEnrollment:start",ns(i,e))}const Gf="__sak";class Jw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jk=1e3,Zk=10;class Zw extends Jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);yk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Zk):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Jk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zw.type="LOCAL";const ex=Zw;class eC extends Jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eC.type="SESSION";const tC=eC;function tx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Td(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await tx(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Td.receivers=[];function q_(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class nx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=q_("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Vt(){return window}function ix(i){Vt().location.href=i}function G_(){return typeof Vt().WorkerGlobalScope<"u"&&typeof Vt().importScripts=="function"}async function sx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rx(){return navigator?.serviceWorker?.controller||null}function ax(){return G_()?self:null}const nC="firebaseLocalStorageDb",ox=1,Kf="firebaseLocalStorage",iC="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sd(i,e){return i.transaction([Kf],e?"readwrite":"readonly").objectStore(Kf)}function lx(){const i=indexedDB.deleteDatabase(nC);return new Ec(i).toPromise()}function Dg(){const i=indexedDB.open(nC,ox);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kf,{keyPath:iC})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kf)?e(s):(s.close(),await lx(),e(await Dg()))})})}async function T0(i,e,t){const s=Sd(i,!0).put({[iC]:e,value:t});return new Ec(s).toPromise()}async function ux(i,e){const t=Sd(i,!1).get(e),s=await new Ec(t).toPromise();return s===void 0?null:s.value}function S0(i,e){const t=Sd(i,!0).delete(e);return new Ec(t).toPromise()}const cx=800,hx=3;class sC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>hx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Td._getInstance(ax()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sx(),!this.activeServiceWorker)return;this.sender=new nx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dg();return await T0(e,Gf,"1"),await S0(e,Gf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>T0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>ux(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>S0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Sd(a,!1).getAll();return new Ec(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sC.type="LOCAL";const fx=sC;function A0(i,e){return Ai(i,"POST","/v2/accounts/mfaSignIn:start",ns(i,e))}const Qp=Kw("rcb"),dx=new _c(3e4,6e4);class mx{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Vt().grecaptcha?.render}load(e,t=""){return ce(px(t),e,"argument-error"),this.shouldResolveImmediately(t)&&c0(Vt().grecaptcha)?Promise.resolve(Vt().grecaptcha):new Promise((s,a)=>{const l=Vt().setTimeout(()=>{a(Bn(e,"network-request-failed"))},dx.get());Vt()[Qp]=()=>{Vt().clearTimeout(l),delete Vt()[Qp];const d=Vt().grecaptcha;if(!d||!c0(d)){a(Bn(e,"internal-error"));return}const p=d.render;d.render=(g,v)=>{const E=p(g,v);return this.counter++,E},this.hostLanguage=t,s(d)};const c=`${wk()}?${xa({onload:Qp,render:"explicit",hl:t})}`;H_(c).catch(()=>{clearTimeout(l),a(Bn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Vt().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function px(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}class gx{async load(e){return new Ok(e)}clearedOneInstance(){}}const ju="recaptcha",_x={theme:"light",type:"image"};class K_{constructor(e,t,s={..._x}){this.parameters=s,this.type=ju,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hr(e),this.isInvisible=this.parameters.size==="invisible",ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const a=typeof t=="string"?document.getElementById(t):t;ce(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gx:new mx,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),s=t.getResponse(e);return s||new Promise(a=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),a(c))};this.tokenChangeListeners.add(l),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(s=>s(t)),typeof e=="function")e(t);else if(typeof e=="string"){const s=Vt()[e];typeof s=="function"&&s(t)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ce(Nw()&&!G_(),this.auth,"internal-error"),await yx(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await lk(this.auth);ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function yx(){let i=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}i=()=>e(),window.addEventListener("load",i)}).catch(e=>{throw i&&window.removeEventListener("load",i),e})}class vx{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Bu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Y_(i,e,t){if(ei(i.app))return Promise.reject(Or(i));const s=Hr(i),a=await Ex(s,e,_n(t));return new vx(a,l=>Wk(s,l))}async function Ex(i,e,t){if(!i._getRecaptchaConfig())try{await Vk(i)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const a=s.session;if("phoneNumber"in s){ce(a.type==="enroll",i,"internal-error");const l={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Yp(i,l,"mfaSmsEnrollment",async(g,v)=>{if(v.phoneEnrollmentInfo.captchaResponse===zu){ce(t?.type===ju,g,"argument-error");const E=await Wp(g,v,t);return E0(g,E)}return E0(g,v)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{ce(a.type==="signin",i,"internal-error");const l=s.multiFactorHint?.uid||s.multiFactorUid;ce(l,i,"missing-multi-factor-info");const c={mfaPendingCredential:a.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Yp(i,c,"mfaSmsSignIn",async(v,E)=>{if(E.phoneSignInInfo.captchaResponse===zu){ce(t?.type===ju,v,"argument-error");const b=await Wp(v,E,t);return A0(v,b)}return A0(v,E)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Yp(i,a,"sendVerificationCode",async(p,g)=>{if(g.captchaResponse===zu){ce(t?.type===ju,p,"argument-error");const v=await Wp(p,g,t);return y0(p,v)}return y0(p,g)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{t?._reset()}}async function Wp(i,e,t){ce(t.type===ju,i,"argument-error");const s=await t.verify();ce(typeof s=="string",i,"argument-error");const a={...e};if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.captchaResponse,d=a.phoneEnrollmentInfo.clientType,p=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:s,captchaResponse:c,clientType:d,recaptchaVersion:p}}),a}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.captchaResponse,c=a.phoneSignInInfo.clientType,d=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:l,clientType:c,recaptchaVersion:d}}),a}else return Object.assign(a,{recaptchaToken:s}),a}function Tx(i,e){return e?bs(e):(ce(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Q_ extends F_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Sx(i){return $w(i.auth,new Q_(i),i.bypassAuthState)}function Ax(i){const{auth:e,user:t}=i;return ce(t,e,"internal-error"),Qk(t,new Q_(i),i.bypassAuthState)}async function bx(i){const{auth:e,user:t}=i;return ce(t,e,"internal-error"),Yk(t,new Q_(i),i.bypassAuthState)}class rC{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sx;case"linkViaPopup":case"linkViaRedirect":return bx;case"reauthViaPopup":case"reauthViaRedirect":return Ax;default:Ps(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wx=new _c(2e3,1e4);class zo extends rC{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wx.get())};e()}}zo.currentPopupAction=null;const Cx="pendingRedirect",Tf=new Map;class Rx extends rC{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Tf.get(this.auth._key());if(!e){try{const s=await Ix(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Tf.set(this.auth._key(),e)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ix(i,e){const t=Dx(e),s=Ox(i);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function Nx(i,e){Tf.set(i._key(),e)}function Ox(i){return bs(i._redirectPersistence)}function Dx(i){return Ef(Cx,i.config.apiKey,i.name)}async function Mx(i,e,t=!1){if(ei(i.app))return Promise.reject(Or(i));const s=Hr(i),a=Tx(s,e),c=await new Rx(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const Px=600*1e3;class kx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!aC(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Bn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Px&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function aC({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function xx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aC(i);default:return!1}}async function Vx(i,e={}){return Ai(i,"GET","/v1/projects",e)}const Lx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ux=/^https?/;async function zx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Vx(i);for(const t of e)try{if(Bx(t))return}catch{}Ps(i,"unauthorized-domain")}function Bx(i){const e=Ng(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!Ux.test(t))return!1;if(Lx.test(i))return s===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const jx=new _c(3e4,6e4);function w0(){const i=Vt().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function Hx(i){return new Promise((e,t)=>{function s(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),t(Bn(i,"network-request-failed"))},timeout:jx.get()})}if(Vt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vt().gapi?.load)s();else{const a=Kw("iframefcb");return Vt()[a]=()=>{gapi.load?s():t(Bn(i,"network-request-failed"))},H_(`${Rk()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Sf=null,e})}let Sf=null;function Fx(i){return Sf=Sf||Hx(i),Sf}const qx=new _c(5e3,15e3),Gx="__/auth/iframe",Kx="emulator/auth/iframe",Yx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wx(i){const e=i.config;ce(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?z_(e,Kx):`https://${i.config.authDomain}/${Gx}`,s={apiKey:e.apiKey,appName:i.name,v:Va},a=Qx.get(i.config.apiHost);a&&(s.eid=a);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${xa(s).slice(1)}`}async function Xx(i){const e=await Fx(i),t=Vt().gapi;return ce(t,i,"internal-error"),e.open({where:document.body,url:Wx(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yx,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Bn(i,"network-request-failed"),d=Vt().setTimeout(()=>{l(c)},qx.get());function p(){Vt().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(c)})}))}const $x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jx=500,Zx=600,eV="_blank",tV="http://localhost";class C0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nV(i,e,t,s=Jx,a=Zx){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...$x,width:s.toString(),height:a.toString(),top:l,left:c},g=gn().toLowerCase();t&&(d=zw(g)?eV:t),Lw(g)&&(e=e||tV,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[D,U])=>`${b}${D}=${U},`,"");if(_k(g)&&d!=="_self")return iV(e||"",d),new C0(null);const E=window.open(e||"",d,v);ce(E,i,"popup-blocked");try{E.focus()}catch{}return new C0(E)}function iV(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const sV="__/auth/handler",rV="emulator/auth/handler",aV=encodeURIComponent("fac");async function R0(i,e,t,s,a,l){ce(i.config.authDomain,i,"auth-domain-config-required"),ce(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Va,eventId:a};if(e instanceof Ww){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",ag(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof vc){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await i._getAppCheckToken(),g=p?`#${aV}=${encodeURIComponent(p)}`:"";return`${oV(i)}?${xa(d).slice(1)}${g}`}function oV({config:i}){return i.emulator?z_(i,rV):`https://${i.authDomain}/${sV}`}const Xp="webStorageSupport";class lV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tC,this._completeRedirectFn=Mx,this._overrideRedirectResult=Nx}async _openPopup(e,t,s,a){ks(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await R0(e,t,s,Ng(),a);return nV(e,l,q_())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await R0(e,t,s,Ng(),a);return ix(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ks(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Xx(e),s=new kx(e);return t.register("authEvent",a=>(ce(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xp,{type:Xp},a=>{const l=a?.[0]?.[Xp];l!==void 0&&t(!!l),Ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qw()||Uw()||j_()}}const uV=lV;var I0="@firebase/auth",N0="1.11.1";class cV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hV(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fV(i){Ra(new Pr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;ce(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gw(i)},g=new Ak(s,a,l,p);return Uk(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ra(new Pr("auth-internal",e=>{const t=Hr(e.getProvider("auth").getImmediate());return(s=>new cV(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(I0,N0,hV(i)),Qi(I0,N0,"esm2020")}const dV=300,mV=qA("authIdTokenMaxAge")||dV;let O0=null;const pV=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>mV)return;const a=t?.token;O0!==a&&(O0=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function gV(i=s_()){const e=od(i,"auth");if(e.isInitialized())return e.getImmediate();const t=Lk(i,{popupRedirectResolver:uV,persistence:[fx,ex,tC]}),s=qA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=pV(l.toString());$k(t,c,()=>c(t.currentUser)),Xk(t,d=>c(d))}}const a=jA("auth");return a&&zk(t,`http://${a}`),t}function _V(){return document.getElementsByTagName("head")?.[0]??document}bk({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=a=>{const l=Bn("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",_V().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fV("Browser");var D0={};const M0="@firebase/database",P0="1.1.0";let oC="";function yV(i){oC=i}class vV{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),on(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Qu(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class EV{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return zs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const lC=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vV(e)}}catch{}return new EV},Aa=lC("localStorage"),TV=lC("sessionStorage");const Go=new ad("@firebase/database"),SV=(function(){let i=1;return function(){return i++}})(),uC=function(i){const e=AO(i),t=new vO;t.update(e);const s=t.digest();return Jg.encodeByteArray(s)},Tc=function(...i){let e="";for(let t=0;t<i.length;t++){const s=i[t];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Tc.apply(null,s):typeof s=="object"?e+=on(s):e+=s,e+=" "}return e};let Hu=null,k0=!0;const AV=function(i,e){le(!0,"Can't turn on custom loggers persistently."),Go.logLevel=ke.VERBOSE,Hu=Go.log.bind(Go)},mn=function(...i){if(k0===!0&&(k0=!1,Hu===null&&TV.get("logging_enabled")===!0&&AV()),Hu){const e=Tc.apply(null,i);Hu(e)}},Sc=function(i){return function(...e){mn(i,...e)}},Mg=function(...i){const e="FIREBASE INTERNAL ERROR: "+Tc(...i);Go.error(e)},xs=function(...i){const e=`FIREBASE FATAL ERROR: ${Tc(...i)}`;throw Go.error(e),new Error(e)},On=function(...i){const e="FIREBASE WARNING: "+Tc(...i);Go.warn(e)},bV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cC=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},wV=function(i){if(document.readyState==="complete")i();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},il="[MIN_NAME]",Da="[MAX_NAME]",dl=function(i,e){if(i===e)return 0;if(i===il||e===Da)return-1;if(e===il||i===Da)return 1;{const t=x0(i),s=x0(e);return t!==null?s!==null?t-s===0?i.length-e.length:t-s:-1:s!==null?1:i<e?-1:1}},CV=function(i,e){return i===e?0:i<e?-1:1},Au=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+on(e))},W_=function(i){if(typeof i!="object"||i===null)return on(i);const e=[];for(const s in i)e.push(s);e.sort();let t="{";for(let s=0;s<e.length;s++)s!==0&&(t+=","),t+=on(e[s]),t+=":",t+=W_(i[e[s]]);return t+="}",t},hC=function(i,e){const t=i.length;if(t<=e)return[i];const s=[];for(let a=0;a<t;a+=e)a+e>t?s.push(i.substring(a,t)):s.push(i.substring(a,a+e));return s};function si(i,e){for(const t in i)i.hasOwnProperty(t)&&e(t,i[t])}const fC=function(i){le(!cC(i),"Invalid JSON number");const e=11,t=52,s=(1<<e-1)-1;let a,l,c,d,p;i===0?(l=0,c=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(d=Math.min(Math.floor(Math.log(i)/Math.LN2),s),l=d+s,c=Math.round(i*Math.pow(2,t-d)-Math.pow(2,t))):(l=0,c=Math.round(i/Math.pow(2,1-s-t))));const g=[];for(p=t;p;p-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)g.push(l%2?1:0),l=Math.floor(l/2);g.push(a?1:0),g.reverse();const v=g.join("");let E="";for(p=0;p<64;p+=8){let b=parseInt(v.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),E=E+b}return E.toLowerCase()},RV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},IV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},NV=new RegExp("^-?(0*)\\d{1,10}$"),OV=-2147483648,DV=2147483647,x0=function(i){if(NV.test(i)){const e=Number(i);if(e>=OV&&e<=DV)return e}return null},ml=function(i){try{i()}catch(e){setTimeout(()=>{const t=e.stack||"";throw On("Exception was thrown by user callback.",t),e},Math.floor(0))}},MV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fu=function(i,e){const t=setTimeout(i,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};class PV{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,ei(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){On(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class kV{constructor(e,t,s){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(mn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(e)}}class Af{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Af.OWNER="owner";const X_="5",dC="v",mC="s",pC="r",gC="f",_C=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yC="ls",vC="p",Pg="ac",EC="websocket",TC="long_polling";class SC{constructor(e,t,s,a,l=!1,c="",d=!1,p=!1,g=null){this.secure=t,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Aa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Aa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function xV(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function AC(i,e,t){le(typeof e=="string","typeof type must == string"),le(typeof t=="object","typeof params must == object");let s;if(e===EC)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===TC)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xV(i)&&(t.ns=i.namespace);const a=[];return si(t,(l,c)=>{a.push(l+"="+c)}),s+a.join("&")}class VV{constructor(){this.counters_={}}incrementCounter(e,t=1){zs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return JN(this.counters_)}}const $p={},Jp={};function $_(i){const e=i.toString();return $p[e]||($p[e]=new VV),$p[e]}function LV(i,e){const t=i.toString();return Jp[t]||(Jp[t]=e()),Jp[t]}class UV{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&ml(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const V0="start",zV="close",BV="pLPCommand",jV="pRTLPCB",bC="id",wC="pw",CC="ser",HV="cb",FV="seg",qV="ts",GV="d",KV="dframe",RC=1870,IC=30,YV=RC-IC,QV=25e3,WV=3e4;class Bo{constructor(e,t,s,a,l,c,d){this.connId=e,this.repoInfo=t,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sc(e),this.stats_=$_(t),this.urlFn=p=>(this.appCheckToken&&(p[Pg]=this.appCheckToken),AC(t,TC,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new UV(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WV)),wV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new J_((...l)=>{const[c,d,p,g,v]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===V0)this.id=d,this.password=p;else if(c===zV)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...l)=>{const[c,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const s={};s[V0]="t",s[CC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[HV]=this.scriptTagHolder.uniqueCallbackIdentifier),s[dC]=X_,this.transportSessionId&&(s[mC]=this.transportSessionId),this.lastSessionId&&(s[yC]=this.lastSessionId),this.applicationId&&(s[vC]=this.applicationId),this.appCheckToken&&(s[Pg]=this.appCheckToken),typeof location<"u"&&location.hostname&&_C.test(location.hostname)&&(s[pC]=gC);const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bo.forceAllow_=!0}static forceDisallow(){Bo.forceDisallow_=!0}static isAvailable(){return Bo.forceAllow_?!0:!Bo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!RV()&&!IV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=on(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=zA(t),a=hC(s,YV);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const s={};s[KV]="t",s[bC]=e,s[wC]=t,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=on(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class J_{constructor(e,t,s,a){this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=SV(),window[BV+this.uniqueCallbackIdentifier]=e,window[jV+this.uniqueCallbackIdentifier]=t,this.myIFrame=J_.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){mn("frame writing exception"),d.stack&&mn(d.stack),mn(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mn("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[bC]=this.myID,e[wC]=this.myPW,e[CC]=this.currentSerial;let t=this.urlFn(e),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+IC+s.length<=RC;){const c=this.pendingSegs.shift();s=s+"&"+FV+a+"="+c.seg+"&"+qV+a+"="+c.ts+"&"+GV+a+"="+c.d,a++}return t=t+s,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,s){this.pendingSegs.push({seg:e,ts:t,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const s=()=>{this.outstandingRequests.delete(t),this.newRequest_()},a=setTimeout(s,Math.floor(QV)),l=()=>{clearTimeout(a),s()};this.addTag(e,l)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||a==="loaded"||a==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),t())},s.onerror=()=>{mn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}const XV=16384,$V=45e3;let Yf=null;typeof MozWebSocket<"u"?Yf=MozWebSocket:typeof WebSocket<"u"&&(Yf=WebSocket);class _i{constructor(e,t,s,a,l,c,d){this.connId=e,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sc(this.connId),this.stats_=$_(t),this.connURL=_i.connectionURL_(t,c,d,a,s),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,s,a,l){const c={};return c[dC]=X_,typeof location<"u"&&location.hostname&&_C.test(location.hostname)&&(c[pC]=gC),t&&(c[mC]=t),s&&(c[yC]=s),a&&(c[Pg]=a),l&&(c[vC]=l),AC(e,EC,c)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Aa.set("previous_websocket_failure",!0);try{let s;cO(),this.mySock=new Yf(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){_i.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(t);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Yf!==null&&!_i.forceDisallow_}static previouslyFailed(){return Aa.isInMemoryStorage||Aa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Aa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const s=Qu(t);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(le(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const s=this.extractFrameCount_(t);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const t=on(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=hC(t,XV);s.length>1&&this.sendString_(String(s.length));for(let a=0;a<s.length;a++)this.sendString_(s[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($V))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_i.responsesRequiredToBeHealthy=2;_i.healthyTimeout=3e4;class rc{static get ALL_TRANSPORTS(){return[Bo,_i]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=_i&&_i.isAvailable();let s=t&&!_i.previouslyFailed();if(e.webSocketOnly&&(t||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[_i];else{const a=this.transports_=[];for(const l of rc.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);rc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rc.globalTransportInitialized_=!1;const JV=6e4,ZV=5e3,eL=10*1024,tL=100*1024,Zp="t",L0="d",nL="s",U0="r",iL="e",z0="o",B0="a",j0="n",H0="p",sL="h";class rL{constructor(e,t,s,a,l,c,d,p,g,v){this.id=e,this.repoInfo_=t,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sc("c:"+this.id+":"),this.transportManager_=new rc(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,s)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=Fu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>tL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>eL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Zp in e){const t=e[Zp];t===B0?this.upgradeIfSecondaryHealthy_():t===U0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===z0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Au("t",e),s=Au("d",e);if(t==="c")this.onSecondaryControl_(s);else if(t==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:H0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:B0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:j0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Au("t",e),s=Au("d",e);t==="c"?this.onControl_(s):t==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Au(Zp,e);if(L0 in e){const s=e[L0];if(t===sL){const a={...s};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(t===j0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===nL?this.onConnectionShutdown_(s):t===U0?this.onReset_(s):t===iL?Mg("Server Error: "+s):t===z0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mg("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,s=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),X_!==s&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,s),Fu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(JV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ZV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:H0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Aa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class NC{put(e,t,s,a){}merge(e,t,s,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,s){}onDisconnectMerge(e,t,s){}onDisconnectCancel(e,t){}reportStats(e){}}class OC{constructor(e){this.allowedEvents_=e,this.listeners_={},le(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,t)}}on(e,t,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:s});const a=this.getInitialEvent(e);a&&t.apply(s,a)}off(e,t,s){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===t&&(!s||s===a[l].context)){a.splice(l,1);return}}validateEventType_(e){le(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Qf extends OC{static getInstance(){return new Qf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!t_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return le(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const F0=32,q0=768;class dt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function at(){return new dt("")}function ze(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Br(i){return i.pieces_.length-i.pieceNum_}function ht(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new dt(i.pieces_,e)}function DC(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function aL(i){let e="";for(let t=i.pieceNum_;t<i.pieces_.length;t++)i.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[t])));return e||"/"}function MC(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function PC(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let t=i.pieceNum_;t<i.pieces_.length-1;t++)e.push(i.pieces_[t]);return new dt(e,0)}function Ft(i,e){const t=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)t.push(i.pieces_[s]);if(e instanceof dt)for(let s=e.pieceNum_;s<e.pieces_.length;s++)t.push(e.pieces_[s]);else{const s=e.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&t.push(s[a])}return new dt(t,0)}function He(i){return i.pieceNum_>=i.pieces_.length}function ii(i,e){const t=ze(i),s=ze(e);if(t===null)return e;if(t===s)return ii(ht(i),ht(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function kC(i,e){if(Br(i)!==Br(e))return!1;for(let t=i.pieceNum_,s=e.pieceNum_;t<=i.pieces_.length;t++,s++)if(i.pieces_[t]!==e.pieces_[s])return!1;return!0}function Ei(i,e){let t=i.pieceNum_,s=e.pieceNum_;if(Br(i)>Br(e))return!1;for(;t<i.pieces_.length;){if(i.pieces_[t]!==e.pieces_[s])return!1;++t,++s}return!0}class oL{constructor(e,t){this.errorPrefix_=t,this.parts_=MC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=rd(this.parts_[s]);xC(this)}}function lL(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=rd(e),xC(i)}function uL(i){const e=i.parts_.pop();i.byteLength_-=rd(e),i.parts_.length>0&&(i.byteLength_-=1)}function xC(i){if(i.byteLength_>q0)throw new Error(i.errorPrefix_+"has a key path longer than "+q0+" bytes ("+i.byteLength_+").");if(i.parts_.length>F0)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+F0+") or object contains a cycle "+Ta(i))}function Ta(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}class Z_ extends OC{static getInstance(){return new Z_}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return le(e==="visible","Unknown event type: "+e),[this.visible_]}}const bu=1e3,cL=300*1e3,G0=30*1e3,hL=1.3,fL=3e4,dL="server_kill",K0=3;class Is extends NC{constructor(e,t,s,a,l,c,d,p){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=s,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Is.nextPersistentConnectionId_++,this.log_=Sc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bu,this.maxReconnectDelay_=cL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Z_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Qf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,s){const a=++this.requestNumber_,l={r:a,a:e,b:t};this.log_(on(l)),le(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[a]=s)}get(e){this.initConnection_();const t=new sd,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const d=c.d;c.s==="ok"?t.resolve(d):t.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),t.promise}listen(e,t,s,a){this.initConnection_();const l=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+l),this.listens.has(c)||this.listens.set(c,new Map),le(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),le(!this.listens.get(c).has(l),"listen() called twice for same path/queryId.");const d={onComplete:a,hashFn:t,query:e,tag:s};this.listens.get(c).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(s)})}sendListen_(e){const t=e.query,s=t._path.toString(),a=t._queryIdentifier;this.log_("Listen on "+s+" for "+a);const l={p:s},c="q";e.tag&&(l.q=t._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(c,l,d=>{const p=d.d,g=d.s;Is.warnOnListenWarnings_(p,t),(this.listens.get(s)&&this.listens.get(s).get(a))===e&&(this.log_("listen response",d),g!=="ok"&&this.removeListen_(s,a),e.onComplete&&e.onComplete(g,p))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&zs(e,"w")){const s=Qo(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const a='".indexOn": "'+t._queryParams.getIndex().toString()+'"',l=t._path.toString();On(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||yO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=G0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=_O(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(t,s,a=>{const l=a.s,c=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,s=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,s)})}unlisten(e,t){const s=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+a),le(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,a)&&this.connected_&&this.sendUnlisten_(s,a,e._queryObject,t)}sendUnlisten_(e,t,s,a){this.log_("Unlisten on "+e+" for "+t);const l={p:e},c="n";a&&(l.q=s,l.t=a),this.sendRequest(c,l)}onDisconnectPut(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:s})}onDisconnectMerge(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:s})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,s,a){const l={p:t,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,c=>{a&&setTimeout(()=>{a(c.s,c.d)},Math.floor(0))})}put(e,t,s,a){this.putInternal("p",e,t,s,a)}merge(e,t,s,a){this.putInternal("m",e,t,s,a)}putInternal(e,t,s,a,l){this.initConnection_();const c={p:t,d:s};l!==void 0&&(c.h=l),this.outstandingPuts_.push({action:e,request:c,onComplete:a}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,s,l=>{this.log_(t+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+on(e));const t=e.r,s=this.requestCBHash_[t];s&&(delete this.requestCBHash_[t],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Mg("Unrecognized action received from server: "+on(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){le(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>fL&&(this.reconnectDelay_=bu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Is.nextConnectionId_++,l=this.lastSessionId;let c=!1,d=null;const p=function(){d?d.close():(c=!0,s())},g=function(E){le(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(E)};this.realtime_={close:p,sendRequest:g};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,b]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);c?mn("getToken() completed but was canceled"):(mn("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=b&&b.token,d=new rL(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,s,D=>{On(D+" ("+this.repoInfo_.toString()+")"),this.interrupt(dL)},l))}catch(E){this.log_("Failed to get token: "+E),c||(this.repoInfo_.nodeAdmin&&On(E),p())}}}interrupt(e){mn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ag(this.interruptReasons_)&&(this.reconnectDelay_=bu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let s;t?s=t.map(l=>W_(l)).join("$"):s="default";const a=this.removeListen_(e,s);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,t){const s=new dt(e).toString();let a;if(this.listens.has(s)){const l=this.listens.get(s);a=l.get(t),l.delete(t),l.size===0&&this.listens.delete(s)}else a=void 0;return a}onAuthRevoked_(e,t){mn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=K0&&(this.reconnectDelay_=G0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){mn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=K0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+oC.replace(/\./g,"-")]=1,t_()?e["framework.cordova"]=1:KA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qf.getInstance().currentlyOnline();return ag(this.interruptReasons_)&&e}}Is.nextPersistentConnectionId_=0;Is.nextConnectionId_=0;class Ge{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ge(e,t)}}class Ad{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const s=new Ge(il,e),a=new Ge(il,t);return this.compare(s,a)!==0}minPost(){return Ge.MIN}}let lf;class VC extends Ad{static get __EMPTY_NODE(){return lf}static set __EMPTY_NODE(e){lf=e}compare(e,t){return dl(e.name,t.name)}isDefinedOn(e){throw ll("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ge.MIN}maxPost(){return new Ge(Da,lf)}makePost(e,t){return le(typeof e=="string","KeyIndex indexValue must always be a string."),new Ge(e,lf)}toString(){return".key"}}const Ko=new VC;class uf{constructor(e,t,s,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?s(e.key,t):1,a&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xt{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Xt.RED,this.left=a??Nn.EMPTY_NODE,this.right=l??Nn.EMPTY_NODE}copy(e,t,s,a,l){return new Xt(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a=a.copy(null,t,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let s,a;if(s=this,t(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),t(e,s.key)===0){if(s.right.isEmpty())return Nn.EMPTY_NODE;a=s.right.min_(),s=s.copy(a.key,a.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xt.RED=!0;Xt.BLACK=!1;class mL{copy(e,t,s,a,l){return this}insert(e,t,s){return new Xt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nn{constructor(e,t=Nn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Nn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(e){return new Nn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(e){let t,s=this.root_;for(;!s.isEmpty();){if(t=this.comparator_(e,s.key),t===0)return s.value;t<0?s=s.left:t>0&&(s=s.right)}return null}getPredecessorKey(e){let t,s=this.root_,a=null;for(;!s.isEmpty();)if(t=this.comparator_(e,s.key),t===0){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else t<0?s=s.left:t>0&&(a=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new uf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new uf(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new uf(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new uf(this.root_,null,this.comparator_,!0,e)}}Nn.EMPTY_NODE=new mL;function pL(i,e){return dl(i.name,e.name)}function ey(i,e){return dl(i,e)}let kg;function gL(i){kg=i}const LC=function(i){return typeof i=="number"?"number:"+fC(i):"string:"+i},UC=function(i){if(i.isLeafNode()){const e=i.val();le(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zs(e,".sv"),"Priority must be a string or number.")}else le(i===kg||i.isEmpty(),"priority of unexpected type.");le(i===kg||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Y0;class Qt{static set __childrenNodeConstructor(e){Y0=e}static get __childrenNodeConstructor(){return Y0}constructor(e,t=Qt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,le(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),UC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Qt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return He(e)?this:ze(e)===".priority"?this.priorityNode_:Qt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Qt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const s=ze(e);return s===null?t:t.isEmpty()&&s!==".priority"?this:(le(s!==".priority"||Br(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Qt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ht(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+LC(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=fC(this.value_):e+=this.value_,this.lazyHash_=uC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qt.__childrenNodeConstructor?-1:(le(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,s=typeof this.value_,a=Qt.VALUE_TYPE_ORDER.indexOf(t),l=Qt.VALUE_TYPE_ORDER.indexOf(s);return le(a>=0,"Unknown leaf type: "+t),le(l>=0,"Unknown leaf type: "+s),a===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Qt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let zC,BC;function _L(i){zC=i}function yL(i){BC=i}class vL extends Ad{compare(e,t){const s=e.node.getPriority(),a=t.node.getPriority(),l=s.compareTo(a);return l===0?dl(e.name,t.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ge.MIN}maxPost(){return new Ge(Da,new Qt("[PRIORITY-POST]",BC))}makePost(e,t){const s=zC(e);return new Ge(t,new Qt("[PRIORITY-POST]",s))}toString(){return".priority"}}const pn=new vL;const EL=Math.log(2);class TL{constructor(e){const t=l=>parseInt(Math.log(l)/EL,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const a=s(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Wf=function(i,e,t,s){i.sort(e);const a=function(p,g){const v=g-p;let E,b;if(v===0)return null;if(v===1)return E=i[p],b=t?t(E):E,new Xt(b,E.node,Xt.BLACK,null,null);{const D=parseInt(v/2,10)+p,U=a(p,D),Q=a(D+1,g);return E=i[D],b=t?t(E):E,new Xt(b,E.node,Xt.BLACK,U,Q)}},l=function(p){let g=null,v=null,E=i.length;const b=function(U,Q){const H=E-U,ne=E;E-=U;const se=a(H+1,ne),re=i[H],ge=t?t(re):re;D(new Xt(ge,re.node,Q,null,se))},D=function(U){g?(g.left=U,g=U):(v=U,g=U)};for(let U=0;U<p.count;++U){const Q=p.nextBitIsOne(),H=Math.pow(2,p.count-(U+1));Q?b(H,Xt.BLACK):(b(H,Xt.BLACK),b(H,Xt.RED))}return v},c=new TL(i.length),d=l(c);return new Nn(s||e,d)};let eg;const ko={};class ws{static get Default(){return le(ko&&pn,"ChildrenNode.ts has not been loaded"),eg=eg||new ws({".priority":ko},{".priority":pn}),eg}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Qo(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Nn?t:null}hasIndex(e){return zs(this.indexSet_,e.toString())}addIndex(e,t){le(e!==Ko,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const l=t.getIterator(Ge.Wrap);let c=l.getNext();for(;c;)a=a||e.isDefinedOn(c.node),s.push(c),c=l.getNext();let d;a?d=Wf(s,e.getCompare()):d=ko;const p=e.toString(),g={...this.indexSet_};g[p]=e;const v={...this.indexes_};return v[p]=d,new ws(v,g)}addToIndexes(e,t){const s=Rf(this.indexes_,(a,l)=>{const c=Qo(this.indexSet_,l);if(le(c,"Missing index implementation for "+l),a===ko)if(c.isDefinedOn(e.node)){const d=[],p=t.getIterator(Ge.Wrap);let g=p.getNext();for(;g;)g.name!==e.name&&d.push(g),g=p.getNext();return d.push(e),Wf(d,c.getCompare())}else return ko;else{const d=t.get(e.name);let p=a;return d&&(p=p.remove(new Ge(e.name,d))),p.insert(e,e.node)}});return new ws(s,this.indexSet_)}removeFromIndexes(e,t){const s=Rf(this.indexes_,a=>{if(a===ko)return a;{const l=t.get(e.name);return l?a.remove(new Ge(e.name,l)):a}});return new ws(s,this.indexSet_)}}let wu;class $e{static get EMPTY_NODE(){return wu||(wu=new $e(new Nn(ey),null,ws.Default))}constructor(e,t,s){this.children_=e,this.priorityNode_=t,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&UC(this.priorityNode_),this.children_.isEmpty()&&le(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wu}updatePriority(e){return this.children_.isEmpty()?this:new $e(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?wu:t}}getChild(e){const t=ze(e);return t===null?this:this.getImmediateChild(t).getChild(ht(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(le(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const s=new Ge(e,t);let a,l;t.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(a=this.children_.insert(e,t),l=this.indexMap_.addToIndexes(s,this.children_));const c=a.isEmpty()?wu:this.priorityNode_;return new $e(a,c,l)}}updateChild(e,t){const s=ze(e);if(s===null)return t;{le(ze(e)!==".priority"||Br(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(s).updateChild(ht(e),t);return this.updateImmediateChild(s,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let s=0,a=0,l=!0;if(this.forEachChild(pn,(c,d)=>{t[c]=d.val(e),s++,l&&$e.INTEGER_REGEXP_.test(c)?a=Math.max(a,Number(c)):l=!1}),!e&&l&&a<2*s){const c=[];for(const d in t)c[d]=t[d];return c}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+LC(this.getPriority().val())+":"),this.forEachChild(pn,(t,s)=>{const a=s.hash();a!==""&&(e+=":"+t+":"+a)}),this.lazyHash_=e===""?"":uC(e)}return this.lazyHash_}getPredecessorChildName(e,t,s){const a=this.resolveIndex_(s);if(a){const l=a.getPredecessorKey(new Ge(e,t));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ge(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ge(t,this.children_.get(t)):null}forEachChild(e,t){const s=this.resolveIndex_(e);return s?s.inorderTraversal(a=>t(a.name,a.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,Ge.Wrap);let l=a.peek();for(;l!=null&&t.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,Ge.Wrap);let l=a.peek();for(;l!=null&&t.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ac?-1:0}withIndex(e){if(e===Ko||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new $e(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ko||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const s=this.getIterator(pn),a=t.getIterator(pn);let l=s.getNext(),c=a.getNext();for(;l&&c;){if(l.name!==c.name||!l.node.equals(c.node))return!1;l=s.getNext(),c=a.getNext()}return l===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Ko?null:this.indexMap_.get(e.toString())}}$e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class SL extends $e{constructor(){super(new Nn(ey),$e.EMPTY_NODE,ws.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $e.EMPTY_NODE}isEmpty(){return!1}}const Ac=new SL;Object.defineProperties(Ge,{MIN:{value:new Ge(il,$e.EMPTY_NODE)},MAX:{value:new Ge(Da,Ac)}});VC.__EMPTY_NODE=$e.EMPTY_NODE;Qt.__childrenNodeConstructor=$e;gL(Ac);yL(Ac);const AL=!0;function an(i,e=null){if(i===null)return $e.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),le(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const t=i;return new Qt(t,an(e))}if(!(i instanceof Array)&&AL){const t=[];let s=!1;if(si(i,(c,d)=>{if(c.substring(0,1)!=="."){const p=an(d);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),t.push(new Ge(c,p)))}}),t.length===0)return $e.EMPTY_NODE;const l=Wf(t,pL,c=>c.name,ey);if(s){const c=Wf(t,pn.getCompare());return new $e(l,an(e),new ws({".priority":c},{".priority":pn}))}else return new $e(l,an(e),ws.Default)}else{let t=$e.EMPTY_NODE;return si(i,(s,a)=>{if(zs(i,s)&&s.substring(0,1)!=="."){const l=an(a);(l.isLeafNode()||!l.isEmpty())&&(t=t.updateImmediateChild(s,l))}}),t.updatePriority(an(e))}}_L(an);class bL extends Ad{constructor(e){super(),this.indexPath_=e,le(!He(e)&&ze(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const s=this.extractChild(e.node),a=this.extractChild(t.node),l=s.compareTo(a);return l===0?dl(e.name,t.name):l}makePost(e,t){const s=an(e),a=$e.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ge(t,a)}maxPost(){const e=$e.EMPTY_NODE.updateChild(this.indexPath_,Ac);return new Ge(Da,e)}toString(){return MC(this.indexPath_,0).join("/")}}class wL extends Ad{compare(e,t){const s=e.node.compareTo(t.node);return s===0?dl(e.name,t.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ge.MIN}maxPost(){return Ge.MAX}makePost(e,t){const s=an(e);return new Ge(t,s)}toString(){return".value"}}const CL=new wL;function RL(i){return{type:"value",snapshotNode:i}}function IL(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function NL(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function Q0(i,e,t){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:t}}function OL(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}class ty{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return le(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return le(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:il}hasEnd(){return this.endSet_}getIndexEndValue(){return le(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return le(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Da}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return le(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pn}copy(){const e=new ty;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function W0(i){const e={};if(i.isDefault())return e;let t;if(i.index_===pn?t="$priority":i.index_===CL?t="$value":i.index_===Ko?t="$key":(le(i.index_ instanceof bL,"Unrecognized index type!"),t=i.index_.toString()),e.orderBy=on(t),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=on(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+on(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=on(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+on(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function X0(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let t=i.viewFrom_;t===""&&(i.isViewFromLeft()?t="l":t="r"),e.vf=t}return i.index_!==pn&&(e.i=i.index_.toString()),e}class Xf extends NC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(le(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,s,a){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=Sc("p:rest:"),this.listens_={}}listen(e,t,s,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const c=Xf.getListenId_(e,s),d={};this.listens_[c]=d;const p=W0(e._queryParams);this.restRequest_(l+".json",p,(g,v)=>{let E=v;if(g===404&&(E=null,g=null),g===null&&this.onDataUpdate_(l,E,!1,s),Qo(this.listens_,c)===d){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",a(b,null)}})}unlisten(e,t){const s=Xf.getListenId_(e,t);delete this.listens_[s]}get(e){const t=W0(e._queryParams),s=e._path.toString(),a=new sd;return this.restRequest_(s+".json",t,(l,c)=>{let d=c;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(s,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise}refreshAuthToken(e){}restRequest_(e,t={},s){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(t.auth=a.accessToken),l&&l.token&&(t.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+xa(t);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(s&&d.readyState===4){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=Qu(d.responseText)}catch{On("Failed to parse JSON response for "+c+": "+d.responseText)}s(null,p)}else d.status!==401&&d.status!==404&&On("Got unsuccessful REST response for "+c+" Status: "+d.status),s(d.status);s=null}},d.open("GET",c,!0),d.send()})}}class DL{constructor(){this.rootNode_=$e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function $f(){return{value:null,children:new Map}}function jC(i,e,t){if(He(e))i.value=t,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,t);else{const s=ze(e);i.children.has(s)||i.children.set(s,$f());const a=i.children.get(s);e=ht(e),jC(a,e,t)}}function xg(i,e,t){i.value!==null?t(e,i.value):ML(i,(s,a)=>{const l=new dt(e.toString()+"/"+s);xg(a,l,t)})}function ML(i,e){i.children.forEach((t,s)=>{e(s,t)})}class PL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&si(this.last_,(s,a)=>{t[s]=t[s]-a}),this.last_=e,t}}const $0=10*1e3,kL=30*1e3,xL=300*1e3;class VL{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new PL(e);const s=$0+(kL-$0)*Math.random();Fu(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),t={};let s=!1;si(e,(a,l)=>{l>0&&zs(this.statsToReport_,a)&&(t[a]=l,s=!0)}),s&&this.server_.reportStats(t),Fu(this.reportStats_.bind(this),Math.floor(Math.random()*2*xL))}}var Yi;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yi||(Yi={}));function HC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function FC(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qC(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Jf{constructor(e,t,s){this.path=e,this.affectedTree=t,this.revert=s,this.type=Yi.ACK_USER_WRITE,this.source=HC()}operationForChild(e){if(He(this.path)){if(this.affectedTree.value!=null)return le(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new dt(e));return new Jf(at(),t,this.revert)}}else return le(ze(this.path)===e,"operationForChild called for unrelated child."),new Jf(ht(this.path),this.affectedTree,this.revert)}}class Ma{constructor(e,t,s){this.source=e,this.path=t,this.snap=s,this.type=Yi.OVERWRITE}operationForChild(e){return He(this.path)?new Ma(this.source,at(),this.snap.getImmediateChild(e)):new Ma(this.source,ht(this.path),this.snap)}}class ac{constructor(e,t,s){this.source=e,this.path=t,this.children=s,this.type=Yi.MERGE}operationForChild(e){if(He(this.path)){const t=this.children.subtree(new dt(e));return t.isEmpty()?null:t.value?new Ma(this.source,at(),t.value):new ac(this.source,at(),t)}else return le(ze(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ac(this.source,ht(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ny{constructor(e,t,s){this.node_=e,this.fullyInitialized_=t,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(He(e))return this.isFullyInitialized()&&!this.filtered_;const t=ze(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function LL(i,e,t,s){const a=[],l=[];return e.forEach(c=>{c.type==="child_changed"&&i.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push(OL(c.childName,c.snapshotNode))}),Cu(i,a,"child_removed",e,s,t),Cu(i,a,"child_added",e,s,t),Cu(i,a,"child_moved",l,s,t),Cu(i,a,"child_changed",e,s,t),Cu(i,a,"value",e,s,t),a}function Cu(i,e,t,s,a,l){const c=s.filter(d=>d.type===t);c.sort((d,p)=>zL(i,d,p)),c.forEach(d=>{const p=UL(i,d,l);a.forEach(g=>{g.respondsTo(d.type)&&e.push(g.createEvent(p,i.query_))})})}function UL(i,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function zL(i,e,t){if(e.childName==null||t.childName==null)throw ll("Should only compare child_ events.");const s=new Ge(e.childName,e.snapshotNode),a=new Ge(t.childName,t.snapshotNode);return i.index_.compare(s,a)}function GC(i,e){return{eventCache:i,serverCache:e}}function qu(i,e,t,s){return GC(new ny(e,t,s),i.serverCache)}function KC(i,e,t,s){return GC(i.eventCache,new ny(e,t,s))}function Vg(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Pa(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let tg;const BL=()=>(tg||(tg=new Nn(CV)),tg);class ct{static fromObject(e){let t=new ct(null);return si(e,(s,a)=>{t=t.set(new dt(s),a)}),t}constructor(e,t=BL()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:at(),value:this.value};if(He(e))return null;{const s=ze(e),a=this.children.get(s);if(a!==null){const l=a.findRootMostMatchingPathAndValue(ht(e),t);return l!=null?{path:Ft(new dt(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(He(e))return this;{const t=ze(e),s=this.children.get(t);return s!==null?s.subtree(ht(e)):new ct(null)}}set(e,t){if(He(e))return new ct(t,this.children);{const s=ze(e),l=(this.children.get(s)||new ct(null)).set(ht(e),t),c=this.children.insert(s,l);return new ct(this.value,c)}}remove(e){if(He(e))return this.children.isEmpty()?new ct(null):new ct(null,this.children);{const t=ze(e),s=this.children.get(t);if(s){const a=s.remove(ht(e));let l;return a.isEmpty()?l=this.children.remove(t):l=this.children.insert(t,a),this.value===null&&l.isEmpty()?new ct(null):new ct(this.value,l)}else return this}}get(e){if(He(e))return this.value;{const t=ze(e),s=this.children.get(t);return s?s.get(ht(e)):null}}setTree(e,t){if(He(e))return t;{const s=ze(e),l=(this.children.get(s)||new ct(null)).setTree(ht(e),t);let c;return l.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,l),new ct(this.value,c)}}fold(e){return this.fold_(at(),e)}fold_(e,t){const s={};return this.children.inorderTraversal((a,l)=>{s[a]=l.fold_(Ft(e,a),t)}),t(e,this.value,s)}findOnPath(e,t){return this.findOnPath_(e,at(),t)}findOnPath_(e,t,s){const a=this.value?s(t,this.value):!1;if(a)return a;if(He(e))return null;{const l=ze(e),c=this.children.get(l);return c?c.findOnPath_(ht(e),Ft(t,l),s):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,at(),t)}foreachOnPath_(e,t,s){if(He(e))return this;{this.value&&s(t,this.value);const a=ze(e),l=this.children.get(a);return l?l.foreachOnPath_(ht(e),Ft(t,a),s):new ct(null)}}foreach(e){this.foreach_(at(),e)}foreach_(e,t){this.children.inorderTraversal((s,a)=>{a.foreach_(Ft(e,s),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,s)=>{s.value&&e(t,s.value)})}}class Ti{constructor(e){this.writeTree_=e}static empty(){return new Ti(new ct(null))}}function Gu(i,e,t){if(He(e))return new Ti(new ct(t));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const a=s.path;let l=s.value;const c=ii(a,e);return l=l.updateChild(c,t),new Ti(i.writeTree_.set(a,l))}else{const a=new ct(t),l=i.writeTree_.setTree(e,a);return new Ti(l)}}}function J0(i,e,t){let s=i;return si(t,(a,l)=>{s=Gu(s,Ft(e,a),l)}),s}function Z0(i,e){if(He(e))return Ti.empty();{const t=i.writeTree_.setTree(e,new ct(null));return new Ti(t)}}function Lg(i,e){return ja(i,e)!=null}function ja(i,e){const t=i.writeTree_.findRootMostValueAndPath(e);return t!=null?i.writeTree_.get(t.path).getChild(ii(t.path,e)):null}function eA(i){const e=[],t=i.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(pn,(s,a)=>{e.push(new Ge(s,a))}):i.writeTree_.children.inorderTraversal((s,a)=>{a.value!=null&&e.push(new Ge(s,a.value))}),e}function Dr(i,e){if(He(e))return i;{const t=ja(i,e);return t!=null?new Ti(new ct(t)):new Ti(i.writeTree_.subtree(e))}}function Ug(i){return i.writeTree_.isEmpty()}function sl(i,e){return YC(at(),i.writeTree_,e)}function YC(i,e,t){if(e.value!=null)return t.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(le(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):t=YC(Ft(i,a),l,t)}),!t.getChild(i).isEmpty()&&s!==null&&(t=t.updateChild(Ft(i,".priority"),s)),t}}function QC(i,e){return ZC(e,i)}function jL(i,e,t,s,a){le(s>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:e,snap:t,writeId:s,visible:a}),a&&(i.visibleWrites=Gu(i.visibleWrites,e,t)),i.lastWriteId=s}function HL(i,e){for(let t=0;t<i.allWrites.length;t++){const s=i.allWrites[t];if(s.writeId===e)return s}return null}function FL(i,e){const t=i.allWrites.findIndex(d=>d.writeId===e);le(t>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[t];i.allWrites.splice(t,1);let a=s.visible,l=!1,c=i.allWrites.length-1;for(;a&&c>=0;){const d=i.allWrites[c];d.visible&&(c>=t&&qL(d,s.path)?a=!1:Ei(s.path,d.path)&&(l=!0)),c--}if(a){if(l)return GL(i),!0;if(s.snap)i.visibleWrites=Z0(i.visibleWrites,s.path);else{const d=s.children;si(d,p=>{i.visibleWrites=Z0(i.visibleWrites,Ft(s.path,p))})}return!0}else return!1}function qL(i,e){if(i.snap)return Ei(i.path,e);for(const t in i.children)if(i.children.hasOwnProperty(t)&&Ei(Ft(i.path,t),e))return!0;return!1}function GL(i){i.visibleWrites=WC(i.allWrites,KL,at()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function KL(i){return i.visible}function WC(i,e,t){let s=Ti.empty();for(let a=0;a<i.length;++a){const l=i[a];if(e(l)){const c=l.path;let d;if(l.snap)Ei(t,c)?(d=ii(t,c),s=Gu(s,d,l.snap)):Ei(c,t)&&(d=ii(c,t),s=Gu(s,at(),l.snap.getChild(d)));else if(l.children){if(Ei(t,c))d=ii(t,c),s=J0(s,d,l.children);else if(Ei(c,t))if(d=ii(c,t),He(d))s=J0(s,at(),l.children);else{const p=Qo(l.children,ze(d));if(p){const g=p.getChild(ht(d));s=Gu(s,at(),g)}}}else throw ll("WriteRecord should have .snap or .children")}}return s}function XC(i,e,t,s,a){if(!s&&!a){const l=ja(i.visibleWrites,e);if(l!=null)return l;{const c=Dr(i.visibleWrites,e);if(Ug(c))return t;if(t==null&&!Lg(c,at()))return null;{const d=t||$e.EMPTY_NODE;return sl(c,d)}}}else{const l=Dr(i.visibleWrites,e);if(!a&&Ug(l))return t;if(!a&&t==null&&!Lg(l,at()))return null;{const c=function(g){return(g.visible||a)&&(!s||!~s.indexOf(g.writeId))&&(Ei(g.path,e)||Ei(e,g.path))},d=WC(i.allWrites,c,e),p=t||$e.EMPTY_NODE;return sl(d,p)}}}function YL(i,e,t){let s=$e.EMPTY_NODE;const a=ja(i.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(pn,(l,c)=>{s=s.updateImmediateChild(l,c)}),s;if(t){const l=Dr(i.visibleWrites,e);return t.forEachChild(pn,(c,d)=>{const p=sl(Dr(l,new dt(c)),d);s=s.updateImmediateChild(c,p)}),eA(l).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const l=Dr(i.visibleWrites,e);return eA(l).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function QL(i,e,t,s,a){le(s||a,"Either existingEventSnap or existingServerSnap must exist");const l=Ft(e,t);if(Lg(i.visibleWrites,l))return null;{const c=Dr(i.visibleWrites,l);return Ug(c)?a.getChild(t):sl(c,a.getChild(t))}}function WL(i,e,t,s){const a=Ft(e,t),l=ja(i.visibleWrites,a);if(l!=null)return l;if(s.isCompleteForChild(t)){const c=Dr(i.visibleWrites,a);return sl(c,s.getNode().getImmediateChild(t))}else return null}function XL(i,e){return ja(i.visibleWrites,e)}function $L(i,e,t,s,a,l,c){let d;const p=Dr(i.visibleWrites,e),g=ja(p,at());if(g!=null)d=g;else if(t!=null)d=sl(p,t);else return[];if(d=d.withIndex(c),!d.isEmpty()&&!d.isLeafNode()){const v=[],E=c.getCompare(),b=l?d.getReverseIteratorFrom(s,c):d.getIteratorFrom(s,c);let D=b.getNext();for(;D&&v.length<a;)E(D,s)!==0&&v.push(D),D=b.getNext();return v}else return[]}function JL(){return{visibleWrites:Ti.empty(),allWrites:[],lastWriteId:-1}}function zg(i,e,t,s){return XC(i.writeTree,i.treePath,e,t,s)}function $C(i,e){return YL(i.writeTree,i.treePath,e)}function tA(i,e,t,s){return QL(i.writeTree,i.treePath,e,t,s)}function Zf(i,e){return XL(i.writeTree,Ft(i.treePath,e))}function ZL(i,e,t,s,a,l){return $L(i.writeTree,i.treePath,e,t,s,a,l)}function iy(i,e,t){return WL(i.writeTree,i.treePath,e,t)}function JC(i,e){return ZC(Ft(i.treePath,e),i.writeTree)}function ZC(i,e){return{treePath:i,writeTree:e}}class e4{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,s=e.childName;le(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),le(s!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const l=a.type;if(t==="child_added"&&l==="child_removed")this.changeMap.set(s,Q0(s,e.snapshotNode,a.snapshotNode));else if(t==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(t==="child_removed"&&l==="child_changed")this.changeMap.set(s,NL(s,a.oldSnap));else if(t==="child_changed"&&l==="child_added")this.changeMap.set(s,IL(s,e.snapshotNode));else if(t==="child_changed"&&l==="child_changed")this.changeMap.set(s,Q0(s,e.snapshotNode,a.oldSnap));else throw ll("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}class t4{getCompleteChild(e){return null}getChildAfterChild(e,t,s){return null}}const eR=new t4;class sy{constructor(e,t,s=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=s}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new ny(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iy(this.writes_,e,s)}}getChildAfterChild(e,t,s){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Pa(this.viewCache_),l=ZL(this.writes_,a,t,1,s,e);return l.length===0?null:l[0]}}function n4(i,e){le(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),le(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function i4(i,e,t,s,a){const l=new e4;let c,d;if(t.type===Yi.OVERWRITE){const g=t;g.source.fromUser?c=Bg(i,e,g.path,g.snap,s,a,l):(le(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered()&&!He(g.path),c=ed(i,e,g.path,g.snap,s,a,d,l))}else if(t.type===Yi.MERGE){const g=t;g.source.fromUser?c=r4(i,e,g.path,g.children,s,a,l):(le(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered(),c=jg(i,e,g.path,g.children,s,a,d,l))}else if(t.type===Yi.ACK_USER_WRITE){const g=t;g.revert?c=l4(i,e,g.path,s,a,l):c=a4(i,e,g.path,g.affectedTree,s,a,l)}else if(t.type===Yi.LISTEN_COMPLETE)c=o4(i,e,t.path,s,l);else throw ll("Unknown operation type: "+t.type);const p=l.getChanges();return s4(e,c,p),{viewCache:c,changes:p}}function s4(i,e,t){const s=e.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=Vg(i);(t.length>0||!i.eventCache.isFullyInitialized()||a&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&t.push(RL(Vg(e)))}}function tR(i,e,t,s,a,l){const c=e.eventCache;if(Zf(s,t)!=null)return e;{let d,p;if(He(t))if(le(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=Pa(e),v=g instanceof $e?g:$e.EMPTY_NODE,E=$C(s,v);d=i.filter.updateFullNode(e.eventCache.getNode(),E,l)}else{const g=zg(s,Pa(e));d=i.filter.updateFullNode(e.eventCache.getNode(),g,l)}else{const g=ze(t);if(g===".priority"){le(Br(t)===1,"Can't have a priority with additional path components");const v=c.getNode();p=e.serverCache.getNode();const E=tA(s,t,v,p);E!=null?d=i.filter.updatePriority(v,E):d=c.getNode()}else{const v=ht(t);let E;if(c.isCompleteForChild(g)){p=e.serverCache.getNode();const b=tA(s,t,c.getNode(),p);b!=null?E=c.getNode().getImmediateChild(g).updateChild(v,b):E=c.getNode().getImmediateChild(g)}else E=iy(s,g,e.serverCache);E!=null?d=i.filter.updateChild(c.getNode(),g,E,v,a,l):d=c.getNode()}}return qu(e,d,c.isFullyInitialized()||He(t),i.filter.filtersNodes())}}function ed(i,e,t,s,a,l,c,d){const p=e.serverCache;let g;const v=c?i.filter:i.filter.getIndexedFilter();if(He(t))g=v.updateFullNode(p.getNode(),s,null);else if(v.filtersNodes()&&!p.isFiltered()){const D=p.getNode().updateChild(t,s);g=v.updateFullNode(p.getNode(),D,null)}else{const D=ze(t);if(!p.isCompleteForPath(t)&&Br(t)>1)return e;const U=ht(t),H=p.getNode().getImmediateChild(D).updateChild(U,s);D===".priority"?g=v.updatePriority(p.getNode(),H):g=v.updateChild(p.getNode(),D,H,U,eR,null)}const E=KC(e,g,p.isFullyInitialized()||He(t),v.filtersNodes()),b=new sy(a,E,l);return tR(i,E,t,a,b,d)}function Bg(i,e,t,s,a,l,c){const d=e.eventCache;let p,g;const v=new sy(a,e,l);if(He(t))g=i.filter.updateFullNode(e.eventCache.getNode(),s,c),p=qu(e,g,!0,i.filter.filtersNodes());else{const E=ze(t);if(E===".priority")g=i.filter.updatePriority(e.eventCache.getNode(),s),p=qu(e,g,d.isFullyInitialized(),d.isFiltered());else{const b=ht(t),D=d.getNode().getImmediateChild(E);let U;if(He(b))U=s;else{const Q=v.getCompleteChild(E);Q!=null?DC(b)===".priority"&&Q.getChild(PC(b)).isEmpty()?U=Q:U=Q.updateChild(b,s):U=$e.EMPTY_NODE}if(D.equals(U))p=e;else{const Q=i.filter.updateChild(d.getNode(),E,U,b,v,c);p=qu(e,Q,d.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function nA(i,e){return i.eventCache.isCompleteForChild(e)}function r4(i,e,t,s,a,l,c){let d=e;return s.foreach((p,g)=>{const v=Ft(t,p);nA(e,ze(v))&&(d=Bg(i,d,v,g,a,l,c))}),s.foreach((p,g)=>{const v=Ft(t,p);nA(e,ze(v))||(d=Bg(i,d,v,g,a,l,c))}),d}function iA(i,e,t){return t.foreach((s,a)=>{e=e.updateChild(s,a)}),e}function jg(i,e,t,s,a,l,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,g;He(t)?g=s:g=new ct(null).setTree(t,s);const v=e.serverCache.getNode();return g.children.inorderTraversal((E,b)=>{if(v.hasChild(E)){const D=e.serverCache.getNode().getImmediateChild(E),U=iA(i,D,b);p=ed(i,p,new dt(E),U,a,l,c,d)}}),g.children.inorderTraversal((E,b)=>{const D=!e.serverCache.isCompleteForChild(E)&&b.value===null;if(!v.hasChild(E)&&!D){const U=e.serverCache.getNode().getImmediateChild(E),Q=iA(i,U,b);p=ed(i,p,new dt(E),Q,a,l,c,d)}}),p}function a4(i,e,t,s,a,l,c){if(Zf(a,t)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(He(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return ed(i,e,t,p.getNode().getChild(t),a,l,d,c);if(He(t)){let g=new ct(null);return p.getNode().forEachChild(Ko,(v,E)=>{g=g.set(new dt(v),E)}),jg(i,e,t,g,a,l,d,c)}else return e}else{let g=new ct(null);return s.foreach((v,E)=>{const b=Ft(t,v);p.isCompleteForPath(b)&&(g=g.set(v,p.getNode().getChild(b)))}),jg(i,e,t,g,a,l,d,c)}}function o4(i,e,t,s,a){const l=e.serverCache,c=KC(e,l.getNode(),l.isFullyInitialized()||He(t),l.isFiltered());return tR(i,c,t,s,eR,a)}function l4(i,e,t,s,a,l){let c;if(Zf(s,t)!=null)return e;{const d=new sy(s,e,a),p=e.eventCache.getNode();let g;if(He(t)||ze(t)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=zg(s,Pa(e));else{const E=e.serverCache.getNode();le(E instanceof $e,"serverChildren would be complete if leaf node"),v=$C(s,E)}v=v,g=i.filter.updateFullNode(p,v,l)}else{const v=ze(t);let E=iy(s,v,e.serverCache);E==null&&e.serverCache.isCompleteForChild(v)&&(E=p.getImmediateChild(v)),E!=null?g=i.filter.updateChild(p,v,E,ht(t),d,l):e.eventCache.getNode().hasChild(v)?g=i.filter.updateChild(p,v,$e.EMPTY_NODE,ht(t),d,l):g=p,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=zg(s,Pa(e)),c.isLeafNode()&&(g=i.filter.updateFullNode(g,c,l)))}return c=e.serverCache.isFullyInitialized()||Zf(s,at())!=null,qu(e,g,c,i.filter.filtersNodes())}}function u4(i,e){const t=Pa(i.viewCache_);return t&&(i.query._queryParams.loadsAllData()||!He(e)&&!t.getImmediateChild(ze(e)).isEmpty())?t.getChild(e):null}function sA(i,e,t,s){e.type===Yi.MERGE&&e.source.queryId!==null&&(le(Pa(i.viewCache_),"We should always have a full cache before handling merges"),le(Vg(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,l=i4(i.processor_,a,e,t,s);return n4(i.processor_,l.viewCache),le(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=l.viewCache,c4(i,l.changes,l.viewCache.eventCache.getNode())}function c4(i,e,t,s){const a=i.eventRegistrations_;return LL(i.eventGenerator_,e,t,a)}let rA;function h4(i){le(!rA,"__referenceConstructor has already been defined"),rA=i}function ry(i,e,t,s){const a=e.source.queryId;if(a!==null){const l=i.views.get(a);return le(l!=null,"SyncTree gave us an op for an invalid query."),sA(l,e,t,s)}else{let l=[];for(const c of i.views.values())l=l.concat(sA(c,e,t,s));return l}}function ay(i,e){let t=null;for(const s of i.views.values())t=t||u4(s,e);return t}let aA;function f4(i){le(!aA,"__referenceConstructor has already been defined"),aA=i}class oA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ct(null),this.pendingWriteTree_=JL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nR(i,e,t,s,a){return jL(i.pendingWriteTree_,e,t,s,a),a?wd(i,new Ma(HC(),e,t)):[]}function ba(i,e,t=!1){const s=HL(i.pendingWriteTree_,e);if(FL(i.pendingWriteTree_,e)){let l=new ct(null);return s.snap!=null?l=l.set(at(),!0):si(s.children,c=>{l=l.set(new dt(c),!0)}),wd(i,new Jf(s.path,l,t))}else return[]}function bd(i,e,t){return wd(i,new Ma(FC(),e,t))}function d4(i,e,t){const s=ct.fromObject(t);return wd(i,new ac(FC(),e,s))}function m4(i,e,t,s){const a=rR(i,s);if(a!=null){const l=aR(a),c=l.path,d=l.queryId,p=ii(c,e),g=new Ma(qC(d),p,t);return oR(i,c,g)}else return[]}function p4(i,e,t,s){const a=rR(i,s);if(a){const l=aR(a),c=l.path,d=l.queryId,p=ii(c,e),g=ct.fromObject(t),v=new ac(qC(d),p,g);return oR(i,c,v)}else return[]}function oy(i,e,t){const a=i.pendingWriteTree_,l=i.syncPointTree_.findOnPath(e,(c,d)=>{const p=ii(c,e),g=ay(d,p);if(g)return g});return XC(a,e,l,t,!0)}function wd(i,e){return iR(e,i.syncPointTree_,null,QC(i.pendingWriteTree_,at()))}function iR(i,e,t,s){if(He(i.path))return sR(i,e,t,s);{const a=e.get(at());t==null&&a!=null&&(t=ay(a,at()));let l=[];const c=ze(i.path),d=i.operationForChild(c),p=e.children.get(c);if(p&&d){const g=t?t.getImmediateChild(c):null,v=JC(s,c);l=l.concat(iR(d,p,g,v))}return a&&(l=l.concat(ry(a,i,s,t))),l}}function sR(i,e,t,s){const a=e.get(at());t==null&&a!=null&&(t=ay(a,at()));let l=[];return e.children.inorderTraversal((c,d)=>{const p=t?t.getImmediateChild(c):null,g=JC(s,c),v=i.operationForChild(c);v&&(l=l.concat(sR(v,d,p,g)))}),a&&(l=l.concat(ry(a,i,s,t))),l}function rR(i,e){return i.tagToQueryMap.get(e)}function aR(i){const e=i.indexOf("$");return le(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new dt(i.substr(0,e))}}function oR(i,e,t){const s=i.syncPointTree_.get(e);le(s,"Missing sync point for query tag that we're tracking");const a=QC(i.pendingWriteTree_,e);return ry(s,t,a,null)}class ly{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ly(t)}node(){return this.node_}}class uy{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ft(this.path_,e);return new uy(this.syncTree_,t)}node(){return oy(this.syncTree_,this.path_)}}const g4=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},lA=function(i,e,t){if(!i||typeof i!="object")return i;if(le(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return _4(i[".sv"],e,t);if(typeof i[".sv"]=="object")return y4(i[".sv"],e);le(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},_4=function(i,e,t){switch(i){case"timestamp":return t.timestamp;default:le(!1,"Unexpected server value: "+i)}},y4=function(i,e,t){i.hasOwnProperty("increment")||le(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&le(!1,"Unexpected increment value: "+s);const a=e.node();if(le(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const c=a.getValue();return typeof c!="number"?s:c+s},v4=function(i,e,t,s){return cy(e,new uy(t,i),s)},lR=function(i,e,t){return cy(i,new ly(e),t)};function cy(i,e,t){const s=i.getPriority().val(),a=lA(s,e.getImmediateChild(".priority"),t);let l;if(i.isLeafNode()){const c=i,d=lA(c.getValue(),e,t);return d!==c.getValue()||a!==c.getPriority().val()?new Qt(d,an(a)):i}else{const c=i;return l=c,a!==c.getPriority().val()&&(l=l.updatePriority(new Qt(a))),c.forEachChild(pn,(d,p)=>{const g=cy(p,e.getImmediateChild(d),t);g!==p&&(l=l.updateImmediateChild(d,g))}),l}}class hy{constructor(e="",t=null,s={children:{},childCount:0}){this.name=e,this.parent=t,this.node=s}}function fy(i,e){let t=e instanceof dt?e:new dt(e),s=i,a=ze(t);for(;a!==null;){const l=Qo(s.node.children,a)||{children:{},childCount:0};s=new hy(a,s,l),t=ht(t),a=ze(t)}return s}function pl(i){return i.node.value}function uR(i,e){i.node.value=e,Hg(i)}function cR(i){return i.node.childCount>0}function E4(i){return pl(i)===void 0&&!cR(i)}function Cd(i,e){si(i.node.children,(t,s)=>{e(new hy(t,i,s))})}function hR(i,e,t,s){t&&e(i),Cd(i,a=>{hR(a,e,!0)})}function T4(i,e,t){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function bc(i){return new dt(i.parent===null?i.name:bc(i.parent)+"/"+i.name)}function Hg(i){i.parent!==null&&S4(i.parent,i.name,i)}function S4(i,e,t){const s=E4(t),a=zs(i.node.children,e);s&&a?(delete i.node.children[e],i.node.childCount--,Hg(i)):!s&&!a&&(i.node.children[e]=t.node,i.node.childCount++,Hg(i))}const A4=/[\[\].#$\/\u0000-\u001F\u007F]/,b4=/[\[\].#$\u0000-\u001F\u007F]/,ng=10*1024*1024,fR=function(i){return typeof i=="string"&&i.length!==0&&!A4.test(i)},dR=function(i){return typeof i=="string"&&i.length!==0&&!b4.test(i)},w4=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),dR(i)},C4=function(i,e,t,s){dy(n_(i,"value"),e,t)},dy=function(i,e,t){const s=t instanceof dt?new oL(t,i):t;if(e===void 0)throw new Error(i+"contains undefined "+Ta(s));if(typeof e=="function")throw new Error(i+"contains a function "+Ta(s)+" with contents = "+e.toString());if(cC(e))throw new Error(i+"contains "+e.toString()+" "+Ta(s));if(typeof e=="string"&&e.length>ng/3&&rd(e)>ng)throw new Error(i+"contains a string greater than "+ng+" utf8 bytes "+Ta(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(si(e,(c,d)=>{if(c===".value")a=!0;else if(c!==".priority"&&c!==".sv"&&(l=!0,!fR(c)))throw new Error(i+" contains an invalid key ("+c+") "+Ta(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lL(s,c),dy(i,d,s),uL(s)}),a&&l)throw new Error(i+' contains ".value" child '+Ta(s)+" in addition to actual children.")}},mR=function(i,e,t,s){if(!dR(t))throw new Error(n_(i,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},R4=function(i,e,t,s){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mR(i,e,t)},I4=function(i,e){if(ze(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},N4=function(i,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!fR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!w4(t))throw new Error(n_(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class O4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pR(i,e){let t=null;for(let s=0;s<e.length;s++){const a=e[s],l=a.getPath();t!==null&&!kC(l,t.path)&&(i.eventLists_.push(t),t=null),t===null&&(t={events:[],path:l}),t.events.push(a)}t&&i.eventLists_.push(t)}function Vs(i,e,t){pR(i,t),D4(i,s=>Ei(s,e)||Ei(e,s))}function D4(i,e){i.recursionDepth_++;let t=!0;for(let s=0;s<i.eventLists_.length;s++){const a=i.eventLists_[s];if(a){const l=a.path;e(l)?(M4(i.eventLists_[s]),i.eventLists_[s]=null):t=!1}}t&&(i.eventLists_=[]),i.recursionDepth_--}function M4(i){for(let e=0;e<i.events.length;e++){const t=i.events[e];if(t!==null){i.events[e]=null;const s=t.getEventRunner();Hu&&mn("event: "+t.toString()),ml(s)}}}const P4="repo_interrupt",k4=25;class x4{constructor(e,t,s,a){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new O4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$f(),this.transactionQueueTree_=new hy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function V4(i,e,t){if(i.stats_=$_(i.repoInfo_),i.forceRestClient_||MV())i.server_=new Xf(i.repoInfo_,(s,a,l,c)=>{uA(i,s,a,l,c)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>cA(i,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{on(t)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new Is(i.repoInfo_,e,(s,a,l,c)=>{uA(i,s,a,l,c)},s=>{cA(i,s)},s=>{U4(i,s)},i.authTokenProvider_,i.appCheckProvider_,t),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=LV(i.repoInfo_,()=>new VL(i.stats_,i.server_)),i.infoData_=new DL,i.infoSyncTree_=new oA({startListening:(s,a,l,c)=>{let d=[];const p=i.infoData_.getNode(s._path);return p.isEmpty()||(d=bd(i.infoSyncTree_,s._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),py(i,"connected",!1),i.serverSyncTree_=new oA({startListening:(s,a,l,c)=>(i.server_.listen(s,l,a,(d,p)=>{const g=c(d,p);Vs(i.eventQueue_,s._path,g)}),[]),stopListening:(s,a)=>{i.server_.unlisten(s,a)}})}function L4(i){const t=i.infoData_.getNode(new dt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function my(i){return g4({timestamp:L4(i)})}function uA(i,e,t,s,a){i.dataUpdateCount++;const l=new dt(e);t=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,t):t;let c=[];if(a)if(s){const p=Rf(t,g=>an(g));c=p4(i.serverSyncTree_,l,p,a)}else{const p=an(t);c=m4(i.serverSyncTree_,l,p,a)}else if(s){const p=Rf(t,g=>an(g));c=d4(i.serverSyncTree_,l,p)}else{const p=an(t);c=bd(i.serverSyncTree_,l,p)}let d=l;c.length>0&&(d=Rd(i,l)),Vs(i.eventQueue_,d,c)}function cA(i,e){py(i,"connected",e),e===!1&&B4(i)}function U4(i,e){si(e,(t,s)=>{py(i,t,s)})}function py(i,e,t){const s=new dt("/.info/"+e),a=an(t);i.infoData_.updateSnapshot(s,a);const l=bd(i.infoSyncTree_,s,a);Vs(i.eventQueue_,s,l)}function gR(i){return i.nextWriteId_++}function z4(i,e,t,s,a){gy(i,"set",{path:e.toString(),value:t,priority:s});const l=my(i),c=an(t,s),d=oy(i.serverSyncTree_,e),p=lR(c,d,l),g=gR(i),v=nR(i.serverSyncTree_,e,p,g,!0);pR(i.eventQueue_,v),i.server_.put(e.toString(),c.val(!0),(b,D)=>{const U=b==="ok";U||On("set at "+e+" failed: "+b);const Q=ba(i.serverSyncTree_,g,!U);Vs(i.eventQueue_,e,Q),H4(i,a,b,D)});const E=TR(i,e);Rd(i,E),Vs(i.eventQueue_,E,[])}function B4(i){gy(i,"onDisconnectEvents");const e=my(i),t=$f();xg(i.onDisconnect_,at(),(a,l)=>{const c=v4(a,l,i.serverSyncTree_,e);jC(t,a,c)});let s=[];xg(t,at(),(a,l)=>{s=s.concat(bd(i.serverSyncTree_,a,l));const c=TR(i,a);Rd(i,c)}),i.onDisconnect_=$f(),Vs(i.eventQueue_,at(),s)}function j4(i){i.persistentConnection_&&i.persistentConnection_.interrupt(P4)}function gy(i,...e){let t="";i.persistentConnection_&&(t=i.persistentConnection_.id+":"),mn(t,...e)}function H4(i,e,t,s){e&&ml(()=>{if(t==="ok")e(null);else{const a=(t||"error").toUpperCase();let l=a;s&&(l+=": "+s);const c=new Error(l);c.code=a,e(c)}})}function _R(i,e,t){return oy(i.serverSyncTree_,e,t)||$e.EMPTY_NODE}function _y(i,e=i.transactionQueueTree_){if(e||Id(i,e),pl(e)){const t=vR(i,e);le(t.length>0,"Sending zero length transaction queue"),t.every(a=>a.status===0)&&F4(i,bc(e),t)}else cR(e)&&Cd(e,t=>{_y(i,t)})}function F4(i,e,t){const s=t.map(g=>g.currentWriteId),a=_R(i,e,s);let l=a;const c=a.hash();for(let g=0;g<t.length;g++){const v=t[g];le(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const E=ii(e,v.path);l=l.updateChild(E,v.currentOutputSnapshotRaw)}const d=l.val(!0),p=e;i.server_.put(p.toString(),d,g=>{gy(i,"transaction put response",{path:p.toString(),status:g});let v=[];if(g==="ok"){const E=[];for(let b=0;b<t.length;b++)t[b].status=2,v=v.concat(ba(i.serverSyncTree_,t[b].currentWriteId)),t[b].onComplete&&E.push(()=>t[b].onComplete(null,!0,t[b].currentOutputSnapshotResolved)),t[b].unwatcher();Id(i,fy(i.transactionQueueTree_,e)),_y(i,i.transactionQueueTree_),Vs(i.eventQueue_,e,v);for(let b=0;b<E.length;b++)ml(E[b])}else{if(g==="datastale")for(let E=0;E<t.length;E++)t[E].status===3?t[E].status=4:t[E].status=0;else{On("transaction at "+p.toString()+" failed: "+g);for(let E=0;E<t.length;E++)t[E].status=4,t[E].abortReason=g}Rd(i,e)}},c)}function Rd(i,e){const t=yR(i,e),s=bc(t),a=vR(i,t);return q4(i,a,s),s}function q4(i,e,t){if(e.length===0)return;const s=[];let a=[];const c=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],g=ii(t,p.path);let v=!1,E;if(le(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)v=!0,E=p.abortReason,a=a.concat(ba(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=k4)v=!0,E="maxretry",a=a.concat(ba(i.serverSyncTree_,p.currentWriteId,!0));else{const b=_R(i,p.path,c);p.currentInputSnapshot=b;const D=e[d].update(b.val());if(D!==void 0){dy("transaction failed: Data returned ",D,p.path);let U=an(D);typeof D=="object"&&D!=null&&zs(D,".priority")||(U=U.updatePriority(b.getPriority()));const H=p.currentWriteId,ne=my(i),se=lR(U,b,ne);p.currentOutputSnapshotRaw=U,p.currentOutputSnapshotResolved=se,p.currentWriteId=gR(i),c.splice(c.indexOf(H),1),a=a.concat(nR(i.serverSyncTree_,p.path,se,p.currentWriteId,p.applyLocally)),a=a.concat(ba(i.serverSyncTree_,H,!0))}else v=!0,E="nodata",a=a.concat(ba(i.serverSyncTree_,p.currentWriteId,!0))}Vs(i.eventQueue_,t,a),a=[],v&&(e[d].status=2,(function(b){setTimeout(b,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(E==="nodata"?s.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):s.push(()=>e[d].onComplete(new Error(E),!1,null))))}Id(i,i.transactionQueueTree_);for(let d=0;d<s.length;d++)ml(s[d]);_y(i,i.transactionQueueTree_)}function yR(i,e){let t,s=i.transactionQueueTree_;for(t=ze(e);t!==null&&pl(s)===void 0;)s=fy(s,t),e=ht(e),t=ze(e);return s}function vR(i,e){const t=[];return ER(i,e,t),t.sort((s,a)=>s.order-a.order),t}function ER(i,e,t){const s=pl(e);if(s)for(let a=0;a<s.length;a++)t.push(s[a]);Cd(e,a=>{ER(i,a,t)})}function Id(i,e){const t=pl(e);if(t){let s=0;for(let a=0;a<t.length;a++)t[a].status!==2&&(t[s]=t[a],s++);t.length=s,uR(e,t.length>0?t:void 0)}Cd(e,s=>{Id(i,s)})}function TR(i,e){const t=bc(yR(i,e)),s=fy(i.transactionQueueTree_,e);return T4(s,a=>{ig(i,a)}),ig(i,s),hR(s,a=>{ig(i,a)}),t}function ig(i,e){const t=pl(e);if(t){const s=[];let a=[],l=-1;for(let c=0;c<t.length;c++)t[c].status===3||(t[c].status===1?(le(l===c-1,"All SENT items should be at beginning of queue."),l=c,t[c].status=3,t[c].abortReason="set"):(le(t[c].status===0,"Unexpected transaction status in abort"),t[c].unwatcher(),a=a.concat(ba(i.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&s.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));l===-1?uR(e,void 0):t.length=l+1,Vs(i.eventQueue_,bc(e),a);for(let c=0;c<s.length;c++)ml(s[c])}}function G4(i){let e="";const t=i.split("/");for(let s=0;s<t.length;s++)if(t[s].length>0){let a=t[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function K4(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const t of i.split("&")){if(t.length===0)continue;const s=t.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):On(`Invalid query segment '${t}' in query '${i}'`)}return e}const hA=function(i,e){const t=Y4(i),s=t.namespace;t.domain==="firebase.com"&&xs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&t.domain!=="localhost"&&xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||bV();const a=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new SC(t.host,t.secure,s,a,e,"",s!==t.subdomain),path:new dt(t.pathString)}},Y4=function(i){let e="",t="",s="",a="",l="",c=!0,d="https",p=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(d=i.substring(0,g-1),i=i.substring(g+2));let v=i.indexOf("/");v===-1&&(v=i.length);let E=i.indexOf("?");E===-1&&(E=i.length),e=i.substring(0,Math.min(v,E)),v<E&&(a=G4(i.substring(v,E)));const b=K4(i.substring(Math.min(i.length,E)));g=e.indexOf(":"),g>=0?(c=d==="https"||d==="wss",p=parseInt(e.substring(g+1),10)):g=e.length;const D=e.slice(0,g);if(D.toLowerCase()==="localhost")t="localhost";else if(D.split(".").length<=2)t=D;else{const U=e.indexOf(".");s=e.substring(0,U).toLowerCase(),t=e.substring(U+1),l=s}"ns"in b&&(l=b.ns)}return{host:e,port:p,domain:t,subdomain:s,secure:c,scheme:d,pathString:a,namespace:l}};class yy{constructor(e,t,s,a){this._repo=e,this._path=t,this._queryParams=s,this._orderByCalled=a}get key(){return He(this._path)?null:DC(this._path)}get ref(){return new Ha(this._repo,this._path)}get _queryIdentifier(){const e=X0(this._queryParams),t=W_(e);return t==="{}"?"default":t}get _queryObject(){return X0(this._queryParams)}isEqual(e){if(e=_n(e),!(e instanceof yy))return!1;const t=this._repo===e._repo,s=kC(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return t&&s&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+aL(this._path)}}class Ha extends yy{constructor(e,t){super(e,t,new ty,!1)}get parent(){const e=PC(this._path);return e===null?null:new Ha(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function Q4(i,e){return i=_n(i),i._checkNotDeleted("ref"),e!==void 0?W4(i._root,e):i._root}function W4(i,e){return i=_n(i),ze(i._path)===null?R4("child","path",e):mR("child","path",e),new Ha(i._repo,Ft(i._path,e))}function X4(i,e){i=_n(i),I4("set",i._path),C4("set",e,i._path);const t=new sd;return z4(i._repo,i._path,e,null,t.wrapCallback(()=>{})),t.promise}h4(Ha);f4(Ha);const $4="FIREBASE_DATABASE_EMULATOR_HOST",Fg={};let J4=!1;function Z4(i,e,t,s){const a=e.lastIndexOf(":"),l=e.substring(0,a),c=jr(l);i.repoInfo_=new SC(e,c,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,t),s&&(i.authTokenProvider_=s)}function e3(i,e,t,s,a){let l=s||i.options.databaseURL;l===void 0&&(i.options.projectId||xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mn("Using default host for project ",i.options.projectId),l=`${i.options.projectId}-default-rtdb.firebaseio.com`);let c=hA(l,a),d=c.repoInfo,p;typeof process<"u"&&D0&&(p=D0[$4]),p?(l=`http://${p}?ns=${d.namespace}`,c=hA(l,a),d=c.repoInfo):c.repoInfo.secure;const g=new kV(i.name,i.options,e);N4("Invalid Firebase Database URL",c),He(c.path)||xs("Database URL must point to the root of a Firebase Database (not including a child path).");const v=n3(d,i,g,new PV(i,t));return new i3(v,i)}function t3(i,e){const t=Fg[e];(!t||t[i.key]!==i)&&xs(`Database ${e}(${i.repoInfo_}) has already been deleted.`),j4(i),delete t[i.key]}function n3(i,e,t,s){let a=Fg[e.name];a||(a={},Fg[e.name]=a);let l=a[i.toURLString()];return l&&xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new x4(i,J4,t,s),a[i.toURLString()]=l,l}class i3{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(V4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ha(this._repo,at())),this._rootInternal}_delete(){return this._rootInternal!==null&&(t3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xs("Cannot call "+e+" on a deleted database.")}}function s3(i=s_(),e){const t=od(i,"database").getImmediate({identifier:e});if(!t._instanceStarted){const s=HA("database");s&&r3(t,...s)}return t}function r3(i,e,t,s={}){i=_n(i),i._checkNotDeleted("useEmulator");const a=`${e}:${t}`,l=i._repoInternal;if(i._instanceStarted){if(a===i._repoInternal.repoInfo_.host&&Mr(s,l.repoInfo_.emulatorOptions))return;xs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Af(Af.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:GA(s.mockUserToken,i.app.options.projectId);c=new Af(d)}jr(e)&&(Zg(e),e_("Database",!0)),Z4(l,a,s,c)}function a3(i){yV(Va),Ra(new Pr("database",(e,{instanceIdentifier:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return e3(s,a,l,t)},"PUBLIC").setMultipleInstances(!0)),Qi(M0,P0,i),Qi(M0,P0,"esm2020")}Is.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Is.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};a3();const o3={apiKey:"AIzaSyDlpnsAM7VzcUVUB5Dfln9iOdWIGQtmGso",authDomain:"skillx-7b55c.firebaseapp.com",projectId:"skillx-7b55c",storageBucket:"skillx-7b55c.firebasestorage.app",messagingSenderId:"805907988145",appId:"1:805907988145:web:4c5c06e3ce8027a118ac90",measurementId:"G-4JP775V103"},vy=XA(o3),rl=gV(vy),Ca=kP(vy);s3(vy);const Ey=()=>Y.jsx(Y.Fragment,{children:Y.jsxs("div",{className:"loader-main",children:[Y.jsx("div",{className:"bg-main-loader"}),Y.jsx("div",{className:"loader"})]})}),l3=({role:i})=>{const[e,t]=j.useState(""),[s,a]=j.useState(""),[l,c]=j.useState(""),[d,p]=j.useState(""),[g,v]=j.useState(""),[E,b]=j.useState(""),[D,U]=j.useState(null),[Q,H]=j.useState(!1),[ne,se]=j.useState(""),[re,ge]=j.useState(!1),[Te,Ae]=j.useState(!1);j.useEffect(()=>{Yo.init("O1eqMF__l75Le_ffM")},[]);const I=()=>{window.recaptchaVerifier=new K_(rl,"recaptcha-container",{size:"invisible",callback:ye=>{console.log("reCAPTCHA solved",ye)}})};async function w(){if(!s)return alert("Enter email");xe(!0);const ye=Math.floor(1e5+Math.random()*9e5).toString();se(ye),await L_(tl(Ca,"emailOtps",s),{otp:ye,timestamp:Date.now()}),Yo.send("service_rjgtrdr","template_vru0qpj",{to_email:s,name:e,otp:ye}).then(()=>{H(!0),alert("Email OTP sent!")}).catch(q=>alert("Email send error: "+q.text)),xe(!1)}async function C(){if(!g)return alert("Enter OTP");xe(!0);const ye=await V_(tl(Ca,"emailOtps",s));if(!ye.exists())return alert("No OTP found for this email");ye.data().otp===g?(ge(!0),alert("Email verified!")):alert("Incorrect OTP"),xe(!1)}function k(){if(!l)return alert("Enter mobile number");xe(!0),I();const ye=window.recaptchaVerifier;Y_(rl,l,ye).then(q=>{U(q),alert("OTP sent successfully!")}).catch(q=>{console.error(q),alert("Error sending OTP: "+q.message)}),xe(!1)}function O(){if(!D)return alert("Please send OTP first");xe(!0),D.confirm(E).then(ye=>{Ae(!0),alert("Phone verified successfully!"),console.log(ye.user),window.recaptchaVerifier&&window.recaptchaVerifier.clear()}).catch(ye=>{console.error(ye),alert("Invalid OTP")}),xe(!1)}function V(ye){if(ye.preventDefault(),!re||!Te)return alert("Verify both email & mobile first");const q={name:e,email:s,mobileNum:l,passwordId:d};try{X4(Q4(Ca,"Students/1001"),{StudentRegisterData:q}),alert("Registered Successfully ")}catch(oe){console.log(oe)}console.log(q),t(""),a(""),c(""),p(""),v(""),b("")}const[R,xe]=j.useState(!1);return Y.jsxs("form",{className:"registerForm",onSubmit:V,children:[Y.jsxs("h3",{children:["Registering as ",i]}),Y.jsx("input",{type:"text",placeholder:"Enter Your Name",value:e,onChange:ye=>t(ye.target.value),required:!0}),Y.jsxs("div",{className:"send-otp",children:[Y.jsx("input",{type:"email",placeholder:"Enter Your Email",value:s,onChange:ye=>a(ye.target.value),required:!0}),Y.jsx("button",{type:"button",onClick:w,children:"Send OTP"})]}),Y.jsxs("div",{className:"verify-otp",children:[Y.jsx("input",{type:"text",placeholder:"Enter Email OTP",value:g,onChange:ye=>v(ye.target.value),required:!0}),Y.jsx("button",{type:"button",onClick:C,children:"Verify OTP"})]}),Y.jsxs("div",{className:"send-otp",children:[Y.jsx("input",{type:"text",placeholder:"Enter Mobile",value:l,onChange:ye=>c(ye.target.value),required:!0}),Y.jsx("button",{id:"sendMobileOtpBtn",type:"button",onClick:k,children:"Send OTP"})]}),Y.jsx("div",{id:"recaptcha-container"}),Y.jsxs("div",{className:"verify-otp",children:[Y.jsx("input",{type:"text",placeholder:"Enter Mobile OTP",value:E,onChange:ye=>b(ye.target.value),required:!0}),Y.jsx("button",{type:"button",onClick:O,children:"Verify OTP"})]}),Y.jsx("input",{type:"password",placeholder:"Enter Password",value:d,onChange:ye=>p(ye.target.value),required:!0}),Y.jsx("button",{type:"submit",children:"Submit"}),R==!0&&Y.jsx(Ey,{})]})},u3=({role:i})=>{const[e,t]=j.useState(""),[s,a]=j.useState(""),[l,c]=j.useState(""),[d,p]=j.useState(""),[g,v]=j.useState(""),[E,b]=j.useState(""),[D,U]=j.useState(""),[Q,H]=j.useState("");function ne(Z){t(Z.target.value)}function se(Z){a(Z.target.value)}function re(Z){b(Z.target.value)}function ge(Z){H(Z.target.value)}const Te={name:"",RegisterationNum:"",Address:"",email:"",mobileNum:"",passwordId:""},[Ae,I]=j.useState(null),[w,C]=j.useState(!1),[k,O]=j.useState(""),[V,R]=j.useState(!1),[xe,ye]=j.useState(!1);j.useEffect(()=>{Yo.init("O1eqMF__l75Le_ffM")},[]);const q=()=>{window.recaptchaVerifier=new K_(rl,"recaptcha-container",{size:"invisible",callback:Z=>{console.log("reCAPTCHA solved",Z)}})};async function oe(){if(!d)return alert("Enter email");X(!0);const Z=Math.floor(1e5+Math.random()*9e5).toString();O(Z),await L_(tl(Ca,"emailOtps",d),{otp:Z,timestamp:Date.now()}),Yo.send("service_rjgtrdr","template_vru0qpj",{to_email:d,name:e,otp:Z}).then(()=>{C(!0),alert("Email OTP sent!")}).catch(_e=>alert("Email send error: "+_e.text)),X(!1)}async function de(){if(!D)return alert("Enter OTP");X(!0);const Z=await V_(tl(Ca,"emailOtps",d));if(!Z.exists())return alert("No OTP found for this email");Z.data().otp===D?(R(!0),alert("Email verified!")):alert("Incorrect OTP"),X(!1)}function De(){if(!g)return alert("Enter mobile number");X(!0),q();const Z=window.recaptchaVerifier;Y_(rl,g,Z).then(_e=>{I(_e),alert("OTP sent successfully!")}).catch(_e=>{console.error(_e),alert("Error sending OTP: "+_e.message)}),X(!1)}function Ke(){if(!Ae)return alert("Please send OTP first");X(!0),Ae.confirm(Q).then(Z=>{ye(!0),alert("Phone verified successfully!"),console.log(Z.user),window.recaptchaVerifier&&window.recaptchaVerifier.clear()}).catch(Z=>{console.error(Z),alert("Invalid OTP")}),X(!1)}function P(Z){Z.preventDefault(),Te.name=e,Te.RegisterationNum=s,Te.Address=l,Te.email=d,Te.mobileNum=g,Te.passwordId=E,alert("Registered Successfully"),console.log(Te),t(""),a(""),c(""),p(""),v(""),b(""),U(""),H("")}const[J,X]=j.useState(!1);return Y.jsx(Y.Fragment,{children:Y.jsxs("form",{className:"registerForm",onSubmit:Z=>{P(Z)},children:[Y.jsxs("h3",{children:["Registering as ",i]}),Y.jsx("input",{type:"text",placeholder:"Enter Your Name",onChange:Z=>{ne(Z)},value:e,required:!0}),Y.jsx("input",{type:"text",placeholder:"Enter Registration Number",onChange:Z=>{se(Z)},value:s,required:!0}),Y.jsx("input",{type:"text",placeholder:"Address of Organization",onChange:Z=>{ge(Z)},value:l,required:!0}),Y.jsxs("div",{className:"send-otp",children:[Y.jsx("input",{type:"email",placeholder:"Enter Your Email",value:d,onChange:Z=>p(Z.target.value),required:!0}),Y.jsx("button",{type:"button",onClick:oe,children:"Send OTP"})]}),Y.jsxs("div",{className:"verify-otp",children:[Y.jsx("input",{type:"text",placeholder:"Enter Email OTP",value:D,onChange:Z=>U(Z.target.value),required:!0}),Y.jsx("button",{type:"button",onClick:de,children:"Verify OTP"})]}),Y.jsxs("div",{className:"send-otp",children:[Y.jsx("input",{type:"text",placeholder:"Enter Mobile",value:g,onChange:Z=>v(Z.target.value),required:!0}),Y.jsx("button",{id:"sendMobileOtpBtn",type:"button",onClick:De,children:"Send OTP"})]}),Y.jsx("div",{id:"recaptcha-container"}),Y.jsxs("div",{className:"verify-otp",children:[Y.jsx("input",{type:"text",placeholder:"Enter Mobile OTP",value:Q,onChange:Z=>H(Z.target.value),required:!0}),Y.jsx("button",{type:"button",onClick:Ke,children:"Verify OTP"})]}),Y.jsx("input",{type:"text",placeholder:"Enter Password",onChange:Z=>{re(Z)},value:E,required:!0}),Y.jsx("button",{type:"submit",children:" Submit"}),J==!0&&Y.jsx(Ey,{})]})})},c3=({role:i})=>{const[e,t]=j.useState(""),[s,a]=j.useState(""),[l,c]=j.useState(""),[d,p]=j.useState(""),[g,v]=j.useState(""),[E,b]=j.useState(""),[D,U]=j.useState(""),[Q,H]=j.useState("");function ne(X){t(X.target.value)}function se(X){a(X.target.value)}function re(X){b(X.target.value)}const ge={name:"",EducationDetails:"",Address:"",email:"",mobileNum:"",passwordId:""},[Te,Ae]=j.useState(null),[I,w]=j.useState(!1),[C,k]=j.useState(""),[O,V]=j.useState(!1),[R,xe]=j.useState(!1),[ye,q]=j.useState(!1);j.useEffect(()=>{Yo.init("O1eqMF__l75Le_ffM")},[]);const oe=()=>{window.recaptchaVerifier=new K_(rl,"recaptcha-container",{size:"invisible",callback:X=>{console.log("reCAPTCHA solved",X)}})};async function de(){if(q(!0),!d)return alert("Enter email");const X=Math.floor(1e5+Math.random()*9e5).toString();k(X),await L_(tl(Ca,"emailOtps",d),{otp:X,timestamp:Date.now()}),Yo.send("service_rjgtrdr","template_vru0qpj",{to_email:d,name:e,otp:X}).then(()=>{w(!0),alert("Email OTP sent!")}).catch(Z=>alert("Email send error: "+Z.text)),q(!1)}async function De(){if(q(!0),!D)return alert("Enter OTP");const X=await V_(tl(Ca,"emailOtps",d));if(!X.exists())return alert("No OTP found for this email");X.data().otp===D?(V(!0),alert("Email verified!")):alert("Incorrect OTP"),q(!1)}function Ke(){if(q(!0),!g)return alert("Enter mobile number");oe();const X=window.recaptchaVerifier;Y_(rl,g,X).then(Z=>{Ae(Z),alert("OTP sent successfully!")}).catch(Z=>{console.error(Z),alert("Error sending OTP: "+Z.message)}),q(!1)}function P(){if(q(!0),!Te)return alert("Please send OTP first");Te.confirm(Q).then(X=>{xe(!0),alert("Phone verified successfully!"),console.log(X.user),window.recaptchaVerifier&&window.recaptchaVerifier.clear()}).catch(X=>{console.error(X),alert("Invalid OTP")}),q(!1)}function J(X){X.preventDefault(),ge.name=e,ge.EducationDetails=s,ge.Address=l,ge.email=d,ge.mobileNum=g,ge.passwordId=E,alert("Registered Successfully"),console.log(ge),t(""),a(""),p(""),v(""),b(""),U(""),H("")}return Y.jsxs(Y.Fragment,{children:[Y.jsxs("form",{className:"registerForm",onSubmit:X=>{J(X)},children:[Y.jsxs("h3",{children:["Registering as ",i]}),Y.jsx("input",{type:"text",placeholder:"Enter Your Name",onChange:X=>{ne(X)},value:e,required:!0}),Y.jsx("input",{type:"text",placeholder:"Enter Education Details",onChange:X=>{se(X)},value:s,required:!0}),Y.jsxs("div",{className:"send-otp",children:[Y.jsx("input",{type:"email",placeholder:"Enter Your Email",value:d,onChange:X=>p(X.target.value),required:!0}),Y.jsx("button",{type:"button",onClick:de,children:"Send OTP"})]}),Y.jsxs("div",{className:"verify-otp",children:[Y.jsx("input",{type:"text",placeholder:"Enter Email OTP",value:D,onChange:X=>U(X.target.value),required:!0}),Y.jsx("button",{type:"button",onClick:De,children:"Verify OTP"})]}),Y.jsxs("div",{className:"send-otp",children:[Y.jsx("input",{type:"text",placeholder:"Enter Mobile",value:g,onChange:X=>v(X.target.value),required:!0}),Y.jsx("button",{id:"sendMobileOtpBtn",type:"button",onClick:Ke,children:"Send OTP"})]}),Y.jsx("div",{id:"recaptcha-container"}),Y.jsxs("div",{className:"verify-otp",children:[Y.jsx("input",{type:"text",placeholder:"Enter Mobile OTP",value:Q,onChange:X=>H(X.target.value),required:!0}),Y.jsx("button",{type:"button",onClick:P,children:"Verify OTP"})]}),Y.jsx("input",{type:"text",placeholder:"Enter Password",onChange:X=>{re(X)},value:E,required:!0}),Y.jsx("button",{type:"submit",children:" Submit"})]}),ye==!0&&Y.jsx(Ey,{})]})},h3=()=>{const[i,e]=j.useState("");function t(s){e(s.target.value),console.log(i)}return Y.jsx(Y.Fragment,{children:Y.jsxs("div",{className:"register-main",children:[Y.jsx("h1",{children:"Register In SKill Exchange"}),Y.jsxs("div",{className:"register-content",children:[Y.jsx("img",{src:Xg,alt:"skillx logo"}),Y.jsxs("select",{name:"",id:"",placeholder:"select role",onChange:s=>{t(s)},children:[Y.jsx("option",{value:"role_select",children:"Select Your Role"}),Y.jsx("option",{value:"student",children:"Student"}),Y.jsx("option",{value:"organization",children:"Organization"}),Y.jsx("option",{value:"mentor",children:"Mentor"})]}),i==""&&Y.jsx("h4",{children:Y.jsx("b",{children:"Select Your Role First"})}),i=="role_select"&&Y.jsx("h4",{children:Y.jsx("b",{children:"Select Your Role First"})}),i=="student"&&Y.jsx(l3,{role:i}),i=="organization"&&Y.jsx(u3,{role:i}),i=="mentor"&&Y.jsx(c3,{role:i})]})]})})},f3=()=>Y.jsx(Y.Fragment,{children:Y.jsxs(Z1,{children:[Y.jsx(cf,{path:"/",element:Y.jsx(VN,{})}),Y.jsx(cf,{path:"/login",element:Y.jsx(IA,{})}),Y.jsx(cf,{path:"/register",element:Y.jsx(h3,{})})]})});o1.createRoot(document.getElementById("root")).render(Y.jsx(SN,{basename:"/skill-exchange",children:Y.jsx(f3,{})}));
